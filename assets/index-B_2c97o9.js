(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var gB=Object.defineProperty,yB=(e,t,n)=>t in e?gB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fj=(e,t,n)=>yB(e,typeof t!="symbol"?t+"":t,n);function bB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iT={exports:{}},B0={},oT={exports:{}},vn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Bp=Symbol.for("react.element"),vB=Symbol.for("react.portal"),xB=Symbol.for("react.fragment"),wB=Symbol.for("react.strict_mode"),kB=Symbol.for("react.profiler"),SB=Symbol.for("react.provider"),NB=Symbol.for("react.context"),jB=Symbol.for("react.forward_ref"),CB=Symbol.for("react.suspense"),AB=Symbol.for("react.memo"),MB=Symbol.for("react.lazy"),Rj=Symbol.iterator;function EB(e){return e===null||typeof e!="object"?null:(e=Rj&&e[Rj]||e["@@iterator"],typeof e=="function"?e:null)}var sT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lT=Object.assign,cT={};function Pd(e,t,n){this.props=e,this.context=t,this.refs=cT,this.updater=n||sT}Pd.prototype.isReactComponent={};Pd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uT(){}uT.prototype=Pd.prototype;function j1(e,t,n){this.props=e,this.context=t,this.refs=cT,this.updater=n||sT}var C1=j1.prototype=new uT;C1.constructor=j1;lT(C1,Pd.prototype);C1.isPureReactComponent=!0;var $j=Array.isArray,dT=Object.prototype.hasOwnProperty,A1={current:null},fT={key:!0,ref:!0,__self:!0,__source:!0};function pT(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)dT.call(t,r)&&!fT.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Bp,type:e,key:i,ref:o,props:a,_owner:A1.current}}function DB(e,t){return{$$typeof:Bp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function M1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bp}function TB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bj=/\/+/g;function Mb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TB(""+e.key):t.toString(36)}function Ih(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bp:case vB:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Mb(o,0):r,$j(a)?(n="",e!=null&&(n=e.replace(Bj,"$&/")+"/"),Ih(a,t,n,"",function(u){return u})):a!=null&&(M1(a)&&(a=DB(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Bj,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",$j(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Mb(i,s);o+=Ih(i,t,n,l,a)}else if(l=EB(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Mb(i,s++),o+=Ih(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vm(e,t,n){if(e==null)return e;var r=[],a=0;return Ih(e,r,"","",function(i){return t.call(n,i,a++)}),r}function PB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Za={current:null},_h={transition:null},OB={ReactCurrentDispatcher:Za,ReactCurrentBatchConfig:_h,ReactCurrentOwner:A1};function mT(){throw Error("act(...) is not supported in production builds of React.")}vn.Children={map:Vm,forEach:function(e,t,n){Vm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vm(e,function(){t++}),t},toArray:function(e){return Vm(e,function(t){return t})||[]},only:function(e){if(!M1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vn.Component=Pd;vn.Fragment=xB;vn.Profiler=kB;vn.PureComponent=j1;vn.StrictMode=wB;vn.Suspense=CB;vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OB;vn.act=mT;vn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lT({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=A1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)dT.call(t,l)&&!fT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Bp,type:e.type,key:a,ref:i,props:r,_owner:o}};vn.createContext=function(e){return e={$$typeof:NB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SB,_context:e},e.Consumer=e};vn.createElement=pT;vn.createFactory=function(e){var t=pT.bind(null,e);return t.type=e,t};vn.createRef=function(){return{current:null}};vn.forwardRef=function(e){return{$$typeof:jB,render:e}};vn.isValidElement=M1;vn.lazy=function(e){return{$$typeof:MB,_payload:{_status:-1,_result:e},_init:PB}};vn.memo=function(e,t){return{$$typeof:AB,type:e,compare:t===void 0?null:t}};vn.startTransition=function(e){var t=_h.transition;_h.transition={};try{e()}finally{_h.transition=t}};vn.unstable_act=mT;vn.useCallback=function(e,t){return Za.current.useCallback(e,t)};vn.useContext=function(e){return Za.current.useContext(e)};vn.useDebugValue=function(){};vn.useDeferredValue=function(e){return Za.current.useDeferredValue(e)};vn.useEffect=function(e,t){return Za.current.useEffect(e,t)};vn.useId=function(){return Za.current.useId()};vn.useImperativeHandle=function(e,t,n){return Za.current.useImperativeHandle(e,t,n)};vn.useInsertionEffect=function(e,t){return Za.current.useInsertionEffect(e,t)};vn.useLayoutEffect=function(e,t){return Za.current.useLayoutEffect(e,t)};vn.useMemo=function(e,t){return Za.current.useMemo(e,t)};vn.useReducer=function(e,t,n){return Za.current.useReducer(e,t,n)};vn.useRef=function(e){return Za.current.useRef(e)};vn.useState=function(e){return Za.current.useState(e)};vn.useSyncExternalStore=function(e,t,n){return Za.current.useSyncExternalStore(e,t,n)};vn.useTransition=function(){return Za.current.useTransition()};vn.version="18.3.1";oT.exports=vn;var g=oT.exports;const z0=_o(g),IB=bB({__proto__:null,default:z0},[g]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var _B=g,LB=Symbol.for("react.element"),FB=Symbol.for("react.fragment"),RB=Object.prototype.hasOwnProperty,$B=_B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BB={key:!0,ref:!0,__self:!0,__source:!0};function hT(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)RB.call(t,r)&&!BB.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:LB,type:e,key:i,ref:o,props:a,_owner:$B.current}}B0.Fragment=FB;B0.jsx=hT;B0.jsxs=hT;iT.exports=B0;var c=iT.exports,tx={},gT={exports:{}},Ri={},yT={exports:{}},bT={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(H,W){var k=H.length;H.push(W);e:for(;0<k;){var V=k-1>>>1,P=H[V];if(0<a(P,W))H[V]=W,H[k]=P,k=V;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],k=H.pop();if(k!==W){H[0]=k;e:for(var V=0,P=H.length,N=P>>>1;V<N;){var F=2*(V+1)-1,U=H[F],Q=F+1,le=H[Q];if(0>a(U,k))Q<P&&0>a(le,U)?(H[V]=le,H[Q]=k,V=Q):(H[V]=U,H[F]=k,V=F);else if(Q<P&&0>a(le,k))H[V]=le,H[Q]=k,V=Q;else break e}}return W}function a(H,W){var k=H.sortIndex-W.sortIndex;return k!==0?k:H.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,p=3,m=!1,h=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=H)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function S(H){if(b=!1,w(H),!h)if(n(l)!==null)h=!0,we(C);else{var W=n(u);W!==null&&ne(S,W.startTime-H)}}function C(H,W){h=!1,b&&(b=!1,y(T),T=-1),m=!0;var k=p;try{for(w(W),f=n(l);f!==null&&(!(f.expirationTime>W)||H&&!I());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var P=V(f.expirationTime<=W);W=e.unstable_now(),typeof P=="function"?f.callback=P:f===n(l)&&r(l),w(W)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var F=n(u);F!==null&&ne(S,F.startTime-W),N=!1}return N}finally{f=null,p=k,m=!1}}var j=!1,M=null,T=-1,$=5,D=-1;function I(){return!(e.unstable_now()-D<$)}function O(){if(M!==null){var H=e.unstable_now();D=H;var W=!0;try{W=M(!0,H)}finally{W?q():(j=!1,M=null)}}else j=!1}var q;if(typeof x=="function")q=function(){x(O)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,se=X.port2;X.port1.onmessage=O,q=function(){se.postMessage(null)}}else q=function(){v(O,0)};function we(H){M=H,j||(j=!0,q())}function ne(H,W){T=v(function(){H(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,we(C))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var k=p;p=W;try{return H()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var k=p;p=H;try{return W()}finally{p=k}},e.unstable_scheduleCallback=function(H,W,k){var V=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?V+k:V):k=V,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=k+P,H={id:d++,callback:W,priorityLevel:H,startTime:k,expirationTime:P,sortIndex:-1},k>V?(H.sortIndex=k,t(u,H),n(l)===null&&H===n(u)&&(b?(y(T),T=-1):b=!0,ne(S,k-V))):(H.sortIndex=P,t(l,H),h||m||(h=!0,we(C))),H},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(H){var W=p;return function(){var k=p;p=W;try{return H.apply(this,arguments)}finally{p=k}}}})(bT);yT.exports=bT;var zB=yT.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var UB=g,_i=zB;function ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vT=new Set,Zf={};function cu(e,t){ud(e,t),ud(e+"Capture",t)}function ud(e,t){for(Zf[e]=t,e=0;e<t.length;e++)vT.add(t[e])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nx=Object.prototype.hasOwnProperty,VB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zj={},Uj={};function WB(e){return nx.call(Uj,e)?!0:nx.call(zj,e)?!1:VB.test(e)?Uj[e]=!0:(zj[e]=!0,!1)}function qB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HB(e,t,n,r){if(t===null||typeof t>"u"||qB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ei(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ja={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ja[e]=new ei(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ja[t]=new ei(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ja[e]=new ei(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ja[e]=new ei(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ja[e]=new ei(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ja[e]=new ei(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ja[e]=new ei(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ja[e]=new ei(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ja[e]=new ei(e,5,!1,e.toLowerCase(),null,!1,!1)});var E1=/[\-:]([a-z])/g;function D1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(E1,D1);ja[t]=new ei(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(E1,D1);ja[t]=new ei(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(E1,D1);ja[t]=new ei(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ja[e]=new ei(e,1,!1,e.toLowerCase(),null,!1,!1)});ja.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ja[e]=new ei(e,1,!1,e.toLowerCase(),null,!0,!0)});function T1(e,t,n,r){var a=ja.hasOwnProperty(t)?ja[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HB(t,n,a,r)&&(n=null),r||a===null?WB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tl=UB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wm=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),P1=Symbol.for("react.strict_mode"),rx=Symbol.for("react.profiler"),xT=Symbol.for("react.provider"),wT=Symbol.for("react.context"),O1=Symbol.for("react.forward_ref"),ax=Symbol.for("react.suspense"),ix=Symbol.for("react.suspense_list"),I1=Symbol.for("react.memo"),kl=Symbol.for("react.lazy"),kT=Symbol.for("react.offscreen"),Vj=Symbol.iterator;function nf(e){return e===null||typeof e!="object"?null:(e=Vj&&e[Vj]||e["@@iterator"],typeof e=="function"?e:null)}var Nr=Object.assign,Eb;function Nf(e){if(Eb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Eb=t&&t[1]||""}return`
`+Eb+e}var Db=!1;function Tb(e,t){if(!e||Db)return"";Db=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Db=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nf(e):""}function KB(e){switch(e.tag){case 5:return Nf(e.type);case 16:return Nf("Lazy");case 13:return Nf("Suspense");case 19:return Nf("SuspenseList");case 0:case 2:case 15:return e=Tb(e.type,!1),e;case 11:return e=Tb(e.type.render,!1),e;case 1:return e=Tb(e.type,!0),e;default:return""}}function ox(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fu:return"Fragment";case Lu:return"Portal";case rx:return"Profiler";case P1:return"StrictMode";case ax:return"Suspense";case ix:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wT:return(e.displayName||"Context")+".Consumer";case xT:return(e._context.displayName||"Context")+".Provider";case O1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I1:return t=e.displayName||null,t!==null?t:ox(e.type)||"Memo";case kl:t=e._payload,e=e._init;try{return ox(e(t))}catch{}}return null}function GB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ox(t);case 8:return t===P1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ql(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ST(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YB(e){var t=ST(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qm(e){e._valueTracker||(e._valueTracker=YB(e))}function NT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ST(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ig(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sx(e,t){var n=t.checked;return Nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wj(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ql(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jT(e,t){t=t.checked,t!=null&&T1(e,"checked",t,!1)}function lx(e,t){jT(e,t);var n=ql(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cx(e,t.type,n):t.hasOwnProperty("defaultValue")&&cx(e,t.type,ql(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qj(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cx(e,t,n){(t!=="number"||ig(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jf=Array.isArray;function ed(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ql(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ux(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ct(91));return Nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hj(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ct(92));if(jf(n)){if(1<n.length)throw Error(ct(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ql(n)}}function CT(e,t){var n=ql(t.value),r=ql(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Kj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hm,MT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hm=Hm||document.createElement("div"),Hm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ep(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XB=["Webkit","ms","Moz","O"];Object.keys(Of).forEach(function(e){XB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Of[t]=Of[e]})});function ET(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Of.hasOwnProperty(e)&&Of[e]?(""+t).trim():t+"px"}function DT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=ET(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var JB=Nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fx(e,t){if(t){if(JB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ct(62))}}function px(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mx=null;function _1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hx=null,td=null,nd=null;function Gj(e){if(e=Vp(e)){if(typeof hx!="function")throw Error(ct(280));var t=e.stateNode;t&&(t=H0(t),hx(e.stateNode,e.type,t))}}function TT(e){td?nd?nd.push(e):nd=[e]:td=e}function PT(){if(td){var e=td,t=nd;if(nd=td=null,Gj(e),t)for(e=0;e<t.length;e++)Gj(t[e])}}function OT(e,t){return e(t)}function IT(){}var Pb=!1;function _T(e,t,n){if(Pb)return e(t,n);Pb=!0;try{return OT(e,t,n)}finally{Pb=!1,(td!==null||nd!==null)&&(IT(),PT())}}function tp(e,t){var n=e.stateNode;if(n===null)return null;var r=H0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ct(231,t,typeof n));return n}var gx=!1;if(zs)try{var rf={};Object.defineProperty(rf,"passive",{get:function(){gx=!0}}),window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{gx=!1}function QB(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var If=!1,og=null,sg=!1,yx=null,ZB={onError:function(e){If=!0,og=e}};function ez(e,t,n,r,a,i,o,s,l){If=!1,og=null,QB.apply(ZB,arguments)}function tz(e,t,n,r,a,i,o,s,l){if(ez.apply(this,arguments),If){if(If){var u=og;If=!1,og=null}else throw Error(ct(198));sg||(sg=!0,yx=u)}}function uu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function LT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yj(e){if(uu(e)!==e)throw Error(ct(188))}function nz(e){var t=e.alternate;if(!t){if(t=uu(e),t===null)throw Error(ct(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Yj(a),e;if(i===r)return Yj(a),t;i=i.sibling}throw Error(ct(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(ct(189))}}if(n.alternate!==r)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?e:t}function FT(e){return e=nz(e),e!==null?RT(e):null}function RT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=RT(e);if(t!==null)return t;e=e.sibling}return null}var $T=_i.unstable_scheduleCallback,Xj=_i.unstable_cancelCallback,rz=_i.unstable_shouldYield,az=_i.unstable_requestPaint,Ir=_i.unstable_now,iz=_i.unstable_getCurrentPriorityLevel,L1=_i.unstable_ImmediatePriority,BT=_i.unstable_UserBlockingPriority,lg=_i.unstable_NormalPriority,oz=_i.unstable_LowPriority,zT=_i.unstable_IdlePriority,U0=null,ns=null;function sz(e){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(U0,e,void 0,(e.current.flags&128)===128)}catch{}}var So=Math.clz32?Math.clz32:uz,lz=Math.log,cz=Math.LN2;function uz(e){return e>>>=0,e===0?32:31-(lz(e)/cz|0)|0}var Km=64,Gm=4194304;function Cf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=Cf(s):(i&=o,i!==0&&(r=Cf(i)))}else o=n&~a,o!==0?r=Cf(o):i!==0&&(r=Cf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-So(t),a=1<<n,r|=e[n],t&=~a;return r}function dz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fz(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-So(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=dz(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function bx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UT(){var e=Km;return Km<<=1,!(Km&4194240)&&(Km=64),e}function Ob(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-So(t),e[t]=n}function pz(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-So(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function F1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-So(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Bn=0;function VT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WT,R1,qT,HT,KT,vx=!1,Ym=[],Il=null,_l=null,Ll=null,np=new Map,rp=new Map,Al=[],mz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jj(e,t){switch(e){case"focusin":case"focusout":Il=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":np.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rp.delete(t.pointerId)}}function af(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Vp(t),t!==null&&R1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function hz(e,t,n,r,a){switch(t){case"focusin":return Il=af(Il,e,t,n,r,a),!0;case"dragenter":return _l=af(_l,e,t,n,r,a),!0;case"mouseover":return Ll=af(Ll,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return np.set(i,af(np.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,rp.set(i,af(rp.get(i)||null,e,t,n,r,a)),!0}return!1}function GT(e){var t=Tc(e.target);if(t!==null){var n=uu(t);if(n!==null){if(t=n.tag,t===13){if(t=LT(n),t!==null){e.blockedOn=t,KT(e.priority,function(){qT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mx=r,n.target.dispatchEvent(r),mx=null}else return t=Vp(n),t!==null&&R1(t),e.blockedOn=n,!1;t.shift()}return!0}function Qj(e,t,n){Lh(e)&&n.delete(t)}function gz(){vx=!1,Il!==null&&Lh(Il)&&(Il=null),_l!==null&&Lh(_l)&&(_l=null),Ll!==null&&Lh(Ll)&&(Ll=null),np.forEach(Qj),rp.forEach(Qj)}function of(e,t){e.blockedOn===t&&(e.blockedOn=null,vx||(vx=!0,_i.unstable_scheduleCallback(_i.unstable_NormalPriority,gz)))}function ap(e){function t(a){return of(a,e)}if(0<Ym.length){of(Ym[0],e);for(var n=1;n<Ym.length;n++){var r=Ym[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Il!==null&&of(Il,e),_l!==null&&of(_l,e),Ll!==null&&of(Ll,e),np.forEach(t),rp.forEach(t),n=0;n<Al.length;n++)r=Al[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Al.length&&(n=Al[0],n.blockedOn===null);)GT(n),n.blockedOn===null&&Al.shift()}var rd=tl.ReactCurrentBatchConfig,ug=!0;function yz(e,t,n,r){var a=Bn,i=rd.transition;rd.transition=null;try{Bn=1,$1(e,t,n,r)}finally{Bn=a,rd.transition=i}}function bz(e,t,n,r){var a=Bn,i=rd.transition;rd.transition=null;try{Bn=4,$1(e,t,n,r)}finally{Bn=a,rd.transition=i}}function $1(e,t,n,r){if(ug){var a=xx(e,t,n,r);if(a===null)Vb(e,t,r,dg,n),Jj(e,r);else if(hz(a,e,t,n,r))r.stopPropagation();else if(Jj(e,r),t&4&&-1<mz.indexOf(e)){for(;a!==null;){var i=Vp(a);if(i!==null&&WT(i),i=xx(e,t,n,r),i===null&&Vb(e,t,r,dg,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Vb(e,t,r,null,n)}}var dg=null;function xx(e,t,n,r){if(dg=null,e=_1(r),e=Tc(e),e!==null)if(t=uu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=LT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dg=e,null}function YT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iz()){case L1:return 1;case BT:return 4;case lg:case oz:return 16;case zT:return 536870912;default:return 16}default:return 16}}var Dl=null,B1=null,Fh=null;function XT(){if(Fh)return Fh;var e,t=B1,n=t.length,r,a="value"in Dl?Dl.value:Dl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Fh=a.slice(e,1<r?1-r:void 0)}function Rh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xm(){return!0}function Zj(){return!1}function $i(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xm:Zj,this.isPropagationStopped=Zj,this}return Nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xm)},persist:function(){},isPersistent:Xm}),t}var Od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z1=$i(Od),Up=Nr({},Od,{view:0,detail:0}),vz=$i(Up),Ib,_b,sf,V0=Nr({},Up,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sf&&(sf&&e.type==="mousemove"?(Ib=e.screenX-sf.screenX,_b=e.screenY-sf.screenY):_b=Ib=0,sf=e),Ib)},movementY:function(e){return"movementY"in e?e.movementY:_b}}),e2=$i(V0),xz=Nr({},V0,{dataTransfer:0}),wz=$i(xz),kz=Nr({},Up,{relatedTarget:0}),Lb=$i(kz),Sz=Nr({},Od,{animationName:0,elapsedTime:0,pseudoElement:0}),Nz=$i(Sz),jz=Nr({},Od,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cz=$i(jz),Az=Nr({},Od,{data:0}),t2=$i(Az),Mz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ez={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dz[e])?!!t[e]:!1}function U1(){return Tz}var Pz=Nr({},Up,{key:function(e){if(e.key){var t=Mz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ez[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U1,charCode:function(e){return e.type==="keypress"?Rh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oz=$i(Pz),Iz=Nr({},V0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n2=$i(Iz),_z=Nr({},Up,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U1}),Lz=$i(_z),Fz=Nr({},Od,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rz=$i(Fz),$z=Nr({},V0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bz=$i($z),zz=[9,13,27,32],V1=zs&&"CompositionEvent"in window,_f=null;zs&&"documentMode"in document&&(_f=document.documentMode);var Uz=zs&&"TextEvent"in window&&!_f,JT=zs&&(!V1||_f&&8<_f&&11>=_f),r2=" ",a2=!1;function QT(e,t){switch(e){case"keyup":return zz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ru=!1;function Vz(e,t){switch(e){case"compositionend":return ZT(t);case"keypress":return t.which!==32?null:(a2=!0,r2);case"textInput":return e=t.data,e===r2&&a2?null:e;default:return null}}function Wz(e,t){if(Ru)return e==="compositionend"||!V1&&QT(e,t)?(e=XT(),Fh=B1=Dl=null,Ru=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JT&&t.locale!=="ko"?null:t.data;default:return null}}var qz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qz[e.type]:t==="textarea"}function eP(e,t,n,r){TT(r),t=fg(t,"onChange"),0<t.length&&(n=new z1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lf=null,ip=null;function Hz(e){dP(e,0)}function W0(e){var t=zu(e);if(NT(t))return e}function Kz(e,t){if(e==="change")return t}var tP=!1;if(zs){var Fb;if(zs){var Rb="oninput"in document;if(!Rb){var o2=document.createElement("div");o2.setAttribute("oninput","return;"),Rb=typeof o2.oninput=="function"}Fb=Rb}else Fb=!1;tP=Fb&&(!document.documentMode||9<document.documentMode)}function s2(){Lf&&(Lf.detachEvent("onpropertychange",nP),ip=Lf=null)}function nP(e){if(e.propertyName==="value"&&W0(ip)){var t=[];eP(t,ip,e,_1(e)),_T(Hz,t)}}function Gz(e,t,n){e==="focusin"?(s2(),Lf=t,ip=n,Lf.attachEvent("onpropertychange",nP)):e==="focusout"&&s2()}function Yz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return W0(ip)}function Xz(e,t){if(e==="click")return W0(t)}function Jz(e,t){if(e==="input"||e==="change")return W0(t)}function Qz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ao=typeof Object.is=="function"?Object.is:Qz;function op(e,t){if(Ao(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!nx.call(t,a)||!Ao(e[a],t[a]))return!1}return!0}function l2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c2(e,t){var n=l2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l2(n)}}function rP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aP(){for(var e=window,t=ig();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ig(e.document)}return t}function W1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zz(e){var t=aP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rP(n.ownerDocument.documentElement,n)){if(r!==null&&W1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=c2(n,i);var o=c2(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e8=zs&&"documentMode"in document&&11>=document.documentMode,$u=null,wx=null,Ff=null,kx=!1;function u2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kx||$u==null||$u!==ig(r)||(r=$u,"selectionStart"in r&&W1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ff&&op(Ff,r)||(Ff=r,r=fg(wx,"onSelect"),0<r.length&&(t=new z1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$u)))}function Jm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bu={animationend:Jm("Animation","AnimationEnd"),animationiteration:Jm("Animation","AnimationIteration"),animationstart:Jm("Animation","AnimationStart"),transitionend:Jm("Transition","TransitionEnd")},$b={},iP={};zs&&(iP=document.createElement("div").style,"AnimationEvent"in window||(delete Bu.animationend.animation,delete Bu.animationiteration.animation,delete Bu.animationstart.animation),"TransitionEvent"in window||delete Bu.transitionend.transition);function q0(e){if($b[e])return $b[e];if(!Bu[e])return e;var t=Bu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in iP)return $b[e]=t[n];return e}var oP=q0("animationend"),sP=q0("animationiteration"),lP=q0("animationstart"),cP=q0("transitionend"),uP=new Map,d2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ql(e,t){uP.set(e,t),cu(t,[e])}for(var Bb=0;Bb<d2.length;Bb++){var zb=d2[Bb],t8=zb.toLowerCase(),n8=zb[0].toUpperCase()+zb.slice(1);Ql(t8,"on"+n8)}Ql(oP,"onAnimationEnd");Ql(sP,"onAnimationIteration");Ql(lP,"onAnimationStart");Ql("dblclick","onDoubleClick");Ql("focusin","onFocus");Ql("focusout","onBlur");Ql(cP,"onTransitionEnd");ud("onMouseEnter",["mouseout","mouseover"]);ud("onMouseLeave",["mouseout","mouseover"]);ud("onPointerEnter",["pointerout","pointerover"]);ud("onPointerLeave",["pointerout","pointerover"]);cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Af));function f2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tz(r,t,void 0,e),e.currentTarget=null}function dP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;f2(a,s,u),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;f2(a,s,u),i=l}}}if(sg)throw e=yx,sg=!1,yx=null,e}function ar(e,t){var n=t[Ax];n===void 0&&(n=t[Ax]=new Set);var r=e+"__bubble";n.has(r)||(fP(t,e,2,!1),n.add(r))}function Ub(e,t,n){var r=0;t&&(r|=4),fP(n,e,r,t)}var Qm="_reactListening"+Math.random().toString(36).slice(2);function sp(e){if(!e[Qm]){e[Qm]=!0,vT.forEach(function(n){n!=="selectionchange"&&(r8.has(n)||Ub(n,!1,e),Ub(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qm]||(t[Qm]=!0,Ub("selectionchange",!1,t))}}function fP(e,t,n,r){switch(YT(t)){case 1:var a=yz;break;case 4:a=bz;break;default:a=$1}n=a.bind(null,t,n,e),a=void 0,!gx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vb(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Tc(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}_T(function(){var u=i,d=_1(n),f=[];e:{var p=uP.get(e);if(p!==void 0){var m=z1,h=e;switch(e){case"keypress":if(Rh(n)===0)break e;case"keydown":case"keyup":m=Oz;break;case"focusin":h="focus",m=Lb;break;case"focusout":h="blur",m=Lb;break;case"beforeblur":case"afterblur":m=Lb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=e2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Lz;break;case oP:case sP:case lP:m=Nz;break;case cP:m=Rz;break;case"scroll":m=vz;break;case"wheel":m=Bz;break;case"copy":case"cut":case"paste":m=Cz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=n2}var b=(t&4)!==0,v=!b&&e==="scroll",y=b?p!==null?p+"Capture":null:p;b=[];for(var x=u,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=tp(x,y),S!=null&&b.push(lp(x,S,w)))),v)break;x=x.return}0<b.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==mx&&(h=n.relatedTarget||n.fromElement)&&(Tc(h)||h[Us]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=u,h=h?Tc(h):null,h!==null&&(v=uu(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=u),m!==h)){if(b=e2,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=n2,S="onPointerLeave",y="onPointerEnter",x="pointer"),v=m==null?p:zu(m),w=h==null?p:zu(h),p=new b(S,x+"leave",m,n,d),p.target=v,p.relatedTarget=w,S=null,Tc(d)===u&&(b=new b(y,x+"enter",h,n,d),b.target=w,b.relatedTarget=v,S=b),v=S,m&&h)t:{for(b=m,y=h,x=0,w=b;w;w=Au(w))x++;for(w=0,S=y;S;S=Au(S))w++;for(;0<x-w;)b=Au(b),x--;for(;0<w-x;)y=Au(y),w--;for(;x--;){if(b===y||y!==null&&b===y.alternate)break t;b=Au(b),y=Au(y)}b=null}else b=null;m!==null&&p2(f,p,m,b,!1),h!==null&&v!==null&&p2(f,v,h,b,!0)}}e:{if(p=u?zu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=Kz;else if(i2(p))if(tP)C=Jz;else{C=Yz;var j=Gz}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=Xz);if(C&&(C=C(e,u))){eP(f,C,n,d);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&cx(p,"number",p.value)}switch(j=u?zu(u):window,e){case"focusin":(i2(j)||j.contentEditable==="true")&&($u=j,wx=u,Ff=null);break;case"focusout":Ff=wx=$u=null;break;case"mousedown":kx=!0;break;case"contextmenu":case"mouseup":case"dragend":kx=!1,u2(f,n,d);break;case"selectionchange":if(e8)break;case"keydown":case"keyup":u2(f,n,d)}var M;if(V1)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ru?QT(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(JT&&n.locale!=="ko"&&(Ru||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ru&&(M=XT()):(Dl=d,B1="value"in Dl?Dl.value:Dl.textContent,Ru=!0)),j=fg(u,T),0<j.length&&(T=new t2(T,e,null,n,d),f.push({event:T,listeners:j}),M?T.data=M:(M=ZT(n),M!==null&&(T.data=M)))),(M=Uz?Vz(e,n):Wz(e,n))&&(u=fg(u,"onBeforeInput"),0<u.length&&(d=new t2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=M))}dP(f,t)})}function lp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fg(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=tp(e,n),i!=null&&r.unshift(lp(e,i,a)),i=tp(e,t),i!=null&&r.push(lp(e,i,a))),e=e.return}return r}function Au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p2(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,a?(l=tp(n,i),l!=null&&o.unshift(lp(n,l,s))):a||(l=tp(n,i),l!=null&&o.push(lp(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var a8=/\r\n?/g,i8=/\u0000|\uFFFD/g;function m2(e){return(typeof e=="string"?e:""+e).replace(a8,`
`).replace(i8,"")}function Zm(e,t,n){if(t=m2(t),m2(e)!==t&&n)throw Error(ct(425))}function pg(){}var Sx=null,Nx=null;function jx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cx=typeof setTimeout=="function"?setTimeout:void 0,o8=typeof clearTimeout=="function"?clearTimeout:void 0,h2=typeof Promise=="function"?Promise:void 0,s8=typeof queueMicrotask=="function"?queueMicrotask:typeof h2<"u"?function(e){return h2.resolve(null).then(e).catch(l8)}:Cx;function l8(e){setTimeout(function(){throw e})}function Wb(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),ap(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);ap(t)}function Fl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function g2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Id=Math.random().toString(36).slice(2),es="__reactFiber$"+Id,cp="__reactProps$"+Id,Us="__reactContainer$"+Id,Ax="__reactEvents$"+Id,c8="__reactListeners$"+Id,u8="__reactHandles$"+Id;function Tc(e){var t=e[es];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Us]||n[es]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=g2(e);e!==null;){if(n=e[es])return n;e=g2(e)}return t}e=n,n=e.parentNode}return null}function Vp(e){return e=e[es]||e[Us],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ct(33))}function H0(e){return e[cp]||null}var Mx=[],Uu=-1;function Zl(e){return{current:e}}function sr(e){0>Uu||(e.current=Mx[Uu],Mx[Uu]=null,Uu--)}function tr(e,t){Uu++,Mx[Uu]=e.current,e.current=t}var Hl={},za=Zl(Hl),di=Zl(!1),Gc=Hl;function dd(e,t){var n=e.type.contextTypes;if(!n)return Hl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fi(e){return e=e.childContextTypes,e!=null}function mg(){sr(di),sr(za)}function y2(e,t,n){if(za.current!==Hl)throw Error(ct(168));tr(za,t),tr(di,n)}function pP(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ct(108,GB(e)||"Unknown",a));return Nr({},n,r)}function hg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hl,Gc=za.current,tr(za,e),tr(di,di.current),!0}function b2(e,t,n){var r=e.stateNode;if(!r)throw Error(ct(169));n?(e=pP(e,t,Gc),r.__reactInternalMemoizedMergedChildContext=e,sr(di),sr(za),tr(za,e)):sr(di),tr(di,n)}var Cs=null,K0=!1,qb=!1;function mP(e){Cs===null?Cs=[e]:Cs.push(e)}function d8(e){K0=!0,mP(e)}function ec(){if(!qb&&Cs!==null){qb=!0;var e=0,t=Bn;try{var n=Cs;for(Bn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cs=null,K0=!1}catch(a){throw Cs!==null&&(Cs=Cs.slice(e+1)),$T(L1,ec),a}finally{Bn=t,qb=!1}}return null}var Vu=[],Wu=0,gg=null,yg=0,Yi=[],Xi=0,Yc=null,Ds=1,Ts="";function Sc(e,t){Vu[Wu++]=yg,Vu[Wu++]=gg,gg=e,yg=t}function hP(e,t,n){Yi[Xi++]=Ds,Yi[Xi++]=Ts,Yi[Xi++]=Yc,Yc=e;var r=Ds;e=Ts;var a=32-So(r)-1;r&=~(1<<a),n+=1;var i=32-So(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ds=1<<32-So(t)+a|n<<a|r,Ts=i+e}else Ds=1<<i|n<<a|r,Ts=e}function q1(e){e.return!==null&&(Sc(e,1),hP(e,1,0))}function H1(e){for(;e===gg;)gg=Vu[--Wu],Vu[Wu]=null,yg=Vu[--Wu],Vu[Wu]=null;for(;e===Yc;)Yc=Yi[--Xi],Yi[Xi]=null,Ts=Yi[--Xi],Yi[Xi]=null,Ds=Yi[--Xi],Yi[Xi]=null}var Pi=null,Di=null,dr=!1,vo=null;function gP(e,t){var n=Qi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function v2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pi=e,Di=Fl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pi=e,Di=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yc!==null?{id:Ds,overflow:Ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pi=e,Di=null,!0):!1;default:return!1}}function Ex(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dx(e){if(dr){var t=Di;if(t){var n=t;if(!v2(e,t)){if(Ex(e))throw Error(ct(418));t=Fl(n.nextSibling);var r=Pi;t&&v2(e,t)?gP(r,n):(e.flags=e.flags&-4097|2,dr=!1,Pi=e)}}else{if(Ex(e))throw Error(ct(418));e.flags=e.flags&-4097|2,dr=!1,Pi=e}}}function x2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pi=e}function eh(e){if(e!==Pi)return!1;if(!dr)return x2(e),dr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jx(e.type,e.memoizedProps)),t&&(t=Di)){if(Ex(e))throw yP(),Error(ct(418));for(;t;)gP(e,t),t=Fl(t.nextSibling)}if(x2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Di=Fl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Di=null}}else Di=Pi?Fl(e.stateNode.nextSibling):null;return!0}function yP(){for(var e=Di;e;)e=Fl(e.nextSibling)}function fd(){Di=Pi=null,dr=!1}function K1(e){vo===null?vo=[e]:vo.push(e)}var f8=tl.ReactCurrentBatchConfig;function lf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var r=n.stateNode}if(!r)throw Error(ct(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,e))}return e}function th(e,t){throw e=Object.prototype.toString.call(t),Error(ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function w2(e){var t=e._init;return t(e._payload)}function bP(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=zl(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,x,w,S){return x===null||x.tag!==6?(x=Qb(w,y.mode,S),x.return=y,x):(x=a(x,w),x.return=y,x)}function l(y,x,w,S){var C=w.type;return C===Fu?d(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===kl&&w2(C)===x.type)?(S=a(x,w.props),S.ref=lf(y,x,w),S.return=y,S):(S=qh(w.type,w.key,w.props,null,y.mode,S),S.ref=lf(y,x,w),S.return=y,S)}function u(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Zb(w,y.mode,S),x.return=y,x):(x=a(x,w.children||[]),x.return=y,x)}function d(y,x,w,S,C){return x===null||x.tag!==7?(x=zc(w,y.mode,S,C),x.return=y,x):(x=a(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Qb(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wm:return w=qh(x.type,x.key,x.props,null,y.mode,w),w.ref=lf(y,null,x),w.return=y,w;case Lu:return x=Zb(x,y.mode,w),x.return=y,x;case kl:var S=x._init;return f(y,S(x._payload),w)}if(jf(x)||nf(x))return x=zc(x,y.mode,w,null),x.return=y,x;th(y,x)}return null}function p(y,x,w,S){var C=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:s(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wm:return w.key===C?l(y,x,w,S):null;case Lu:return w.key===C?u(y,x,w,S):null;case kl:return C=w._init,p(y,x,C(w._payload),S)}if(jf(w)||nf(w))return C!==null?null:d(y,x,w,S,null);th(y,w)}return null}function m(y,x,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,s(x,y,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wm:return y=y.get(S.key===null?w:S.key)||null,l(x,y,S,C);case Lu:return y=y.get(S.key===null?w:S.key)||null,u(x,y,S,C);case kl:var j=S._init;return m(y,x,w,j(S._payload),C)}if(jf(S)||nf(S))return y=y.get(w)||null,d(x,y,S,C,null);th(x,S)}return null}function h(y,x,w,S){for(var C=null,j=null,M=x,T=x=0,$=null;M!==null&&T<w.length;T++){M.index>T?($=M,M=null):$=M.sibling;var D=p(y,M,w[T],S);if(D===null){M===null&&(M=$);break}e&&M&&D.alternate===null&&t(y,M),x=i(D,x,T),j===null?C=D:j.sibling=D,j=D,M=$}if(T===w.length)return n(y,M),dr&&Sc(y,T),C;if(M===null){for(;T<w.length;T++)M=f(y,w[T],S),M!==null&&(x=i(M,x,T),j===null?C=M:j.sibling=M,j=M);return dr&&Sc(y,T),C}for(M=r(y,M);T<w.length;T++)$=m(M,y,T,w[T],S),$!==null&&(e&&$.alternate!==null&&M.delete($.key===null?T:$.key),x=i($,x,T),j===null?C=$:j.sibling=$,j=$);return e&&M.forEach(function(I){return t(y,I)}),dr&&Sc(y,T),C}function b(y,x,w,S){var C=nf(w);if(typeof C!="function")throw Error(ct(150));if(w=C.call(w),w==null)throw Error(ct(151));for(var j=C=null,M=x,T=x=0,$=null,D=w.next();M!==null&&!D.done;T++,D=w.next()){M.index>T?($=M,M=null):$=M.sibling;var I=p(y,M,D.value,S);if(I===null){M===null&&(M=$);break}e&&M&&I.alternate===null&&t(y,M),x=i(I,x,T),j===null?C=I:j.sibling=I,j=I,M=$}if(D.done)return n(y,M),dr&&Sc(y,T),C;if(M===null){for(;!D.done;T++,D=w.next())D=f(y,D.value,S),D!==null&&(x=i(D,x,T),j===null?C=D:j.sibling=D,j=D);return dr&&Sc(y,T),C}for(M=r(y,M);!D.done;T++,D=w.next())D=m(M,y,T,D.value,S),D!==null&&(e&&D.alternate!==null&&M.delete(D.key===null?T:D.key),x=i(D,x,T),j===null?C=D:j.sibling=D,j=D);return e&&M.forEach(function(O){return t(y,O)}),dr&&Sc(y,T),C}function v(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Fu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wm:e:{for(var C=w.key,j=x;j!==null;){if(j.key===C){if(C=w.type,C===Fu){if(j.tag===7){n(y,j.sibling),x=a(j,w.props.children),x.return=y,y=x;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===kl&&w2(C)===j.type){n(y,j.sibling),x=a(j,w.props),x.ref=lf(y,j,w),x.return=y,y=x;break e}n(y,j);break}else t(y,j);j=j.sibling}w.type===Fu?(x=zc(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=qh(w.type,w.key,w.props,null,y.mode,S),S.ref=lf(y,x,w),S.return=y,y=S)}return o(y);case Lu:e:{for(j=w.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=a(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=Zb(w,y.mode,S),x.return=y,y=x}return o(y);case kl:return j=w._init,v(y,x,j(w._payload),S)}if(jf(w))return h(y,x,w,S);if(nf(w))return b(y,x,w,S);th(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=a(x,w),x.return=y,y=x):(n(y,x),x=Qb(w,y.mode,S),x.return=y,y=x),o(y)):n(y,x)}return v}var pd=bP(!0),vP=bP(!1),bg=Zl(null),vg=null,qu=null,G1=null;function Y1(){G1=qu=vg=null}function X1(e){var t=bg.current;sr(bg),e._currentValue=t}function Tx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ad(e,t){vg=e,G1=qu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ci=!0),e.firstContext=null)}function no(e){var t=e._currentValue;if(G1!==e)if(e={context:e,memoizedValue:t,next:null},qu===null){if(vg===null)throw Error(ct(308));qu=e,vg.dependencies={lanes:0,firstContext:e}}else qu=qu.next=e;return t}var Pc=null;function J1(e){Pc===null?Pc=[e]:Pc.push(e)}function xP(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,J1(t)):(n.next=a.next,a.next=n),t.interleaved=n,Vs(e,r)}function Vs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sl=!1;function Q1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Mn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Vs(e,n)}return a=r.interleaved,a===null?(t.next=t,J1(r)):(t.next=a.next,a.next=t),r.interleaved=t,Vs(e,n)}function $h(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,F1(e,n)}}function k2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xg(e,t,n,r){var a=e.updateQueue;Sl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=u=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,b=s;switch(p=t,m=n,b.tag){case 1:if(h=b.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=b.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=Nr({},f,p);break e;case 2:Sl=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Jc|=o,e.lanes=o,e.memoizedState=f}}function S2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ct(191,a));a.call(r)}}}var Wp={},rs=Zl(Wp),up=Zl(Wp),dp=Zl(Wp);function Oc(e){if(e===Wp)throw Error(ct(174));return e}function Z1(e,t){switch(tr(dp,t),tr(up,e),tr(rs,Wp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dx(t,e)}sr(rs),tr(rs,t)}function md(){sr(rs),sr(up),sr(dp)}function kP(e){Oc(dp.current);var t=Oc(rs.current),n=dx(t,e.type);t!==n&&(tr(up,e),tr(rs,n))}function ek(e){up.current===e&&(sr(rs),sr(up))}var vr=Zl(0);function wg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hb=[];function tk(){for(var e=0;e<Hb.length;e++)Hb[e]._workInProgressVersionPrimary=null;Hb.length=0}var Bh=tl.ReactCurrentDispatcher,Kb=tl.ReactCurrentBatchConfig,Xc=0,Sr=null,Xr=null,da=null,kg=!1,Rf=!1,fp=0,p8=0;function Pa(){throw Error(ct(321))}function nk(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ao(e[n],t[n]))return!1;return!0}function rk(e,t,n,r,a,i){if(Xc=i,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bh.current=e===null||e.memoizedState===null?y8:b8,e=n(r,a),Rf){i=0;do{if(Rf=!1,fp=0,25<=i)throw Error(ct(301));i+=1,da=Xr=null,t.updateQueue=null,Bh.current=v8,e=n(r,a)}while(Rf)}if(Bh.current=Sg,t=Xr!==null&&Xr.next!==null,Xc=0,da=Xr=Sr=null,kg=!1,t)throw Error(ct(300));return e}function ak(){var e=fp!==0;return fp=0,e}function Jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return da===null?Sr.memoizedState=da=e:da=da.next=e,da}function ro(){if(Xr===null){var e=Sr.alternate;e=e!==null?e.memoizedState:null}else e=Xr.next;var t=da===null?Sr.memoizedState:da.next;if(t!==null)da=t,Xr=e;else{if(e===null)throw Error(ct(310));Xr=e,e={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},da===null?Sr.memoizedState=da=e:da=da.next=e}return da}function pp(e,t){return typeof t=="function"?t(e):t}function Gb(e){var t=ro(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=Xr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((Xc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Sr.lanes|=d,Jc|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=s,Ao(r,t.memoizedState)||(ci=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Sr.lanes|=i,Jc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yb(e){var t=ro(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ao(i,t.memoizedState)||(ci=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function SP(){}function NP(e,t){var n=Sr,r=ro(),a=t(),i=!Ao(r.memoizedState,a);if(i&&(r.memoizedState=a,ci=!0),r=r.queue,ik(AP.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||da!==null&&da.memoizedState.tag&1){if(n.flags|=2048,mp(9,CP.bind(null,n,r,a,t),void 0,null),pa===null)throw Error(ct(349));Xc&30||jP(n,t,a)}return a}function jP(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Sr.updateQueue,t===null?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CP(e,t,n,r){t.value=n,t.getSnapshot=r,MP(t)&&EP(e)}function AP(e,t,n){return n(function(){MP(t)&&EP(e)})}function MP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ao(e,n)}catch{return!0}}function EP(e){var t=Vs(e,1);t!==null&&No(t,e,1,-1)}function N2(e){var t=Jo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:e},t.queue=e,e=e.dispatch=g8.bind(null,Sr,e),[t.memoizedState,e]}function mp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Sr.updateQueue,t===null?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DP(){return ro().memoizedState}function zh(e,t,n,r){var a=Jo();Sr.flags|=e,a.memoizedState=mp(1|t,n,void 0,r===void 0?null:r)}function G0(e,t,n,r){var a=ro();r=r===void 0?null:r;var i=void 0;if(Xr!==null){var o=Xr.memoizedState;if(i=o.destroy,r!==null&&nk(r,o.deps)){a.memoizedState=mp(t,n,i,r);return}}Sr.flags|=e,a.memoizedState=mp(1|t,n,i,r)}function j2(e,t){return zh(8390656,8,e,t)}function ik(e,t){return G0(2048,8,e,t)}function TP(e,t){return G0(4,2,e,t)}function PP(e,t){return G0(4,4,e,t)}function OP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IP(e,t,n){return n=n!=null?n.concat([e]):null,G0(4,4,OP.bind(null,t,e),n)}function ok(){}function _P(e,t){var n=ro();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nk(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function LP(e,t){var n=ro();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nk(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function FP(e,t,n){return Xc&21?(Ao(n,t)||(n=UT(),Sr.lanes|=n,Jc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ci=!0),e.memoizedState=n)}function m8(e,t){var n=Bn;Bn=n!==0&&4>n?n:4,e(!0);var r=Kb.transition;Kb.transition={};try{e(!1),t()}finally{Bn=n,Kb.transition=r}}function RP(){return ro().memoizedState}function h8(e,t,n){var r=Bl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$P(e))BP(t,n);else if(n=xP(e,t,n,r),n!==null){var a=Xa();No(n,e,r,a),zP(n,t,r)}}function g8(e,t,n){var r=Bl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($P(e))BP(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Ao(s,o)){var l=t.interleaved;l===null?(a.next=a,J1(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=xP(e,t,a,r),n!==null&&(a=Xa(),No(n,e,r,a),zP(n,t,r))}}function $P(e){var t=e.alternate;return e===Sr||t!==null&&t===Sr}function BP(e,t){Rf=kg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,F1(e,n)}}var Sg={readContext:no,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useInsertionEffect:Pa,useLayoutEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useMutableSource:Pa,useSyncExternalStore:Pa,useId:Pa,unstable_isNewReconciler:!1},y8={readContext:no,useCallback:function(e,t){return Jo().memoizedState=[e,t===void 0?null:t],e},useContext:no,useEffect:j2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zh(4194308,4,OP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zh(4194308,4,e,t)},useInsertionEffect:function(e,t){return zh(4,2,e,t)},useMemo:function(e,t){var n=Jo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=h8.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){var t=Jo();return e={current:e},t.memoizedState=e},useState:N2,useDebugValue:ok,useDeferredValue:function(e){return Jo().memoizedState=e},useTransition:function(){var e=N2(!1),t=e[0];return e=m8.bind(null,e[1]),Jo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,a=Jo();if(dr){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=t(),pa===null)throw Error(ct(349));Xc&30||jP(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,j2(AP.bind(null,r,i,e),[e]),r.flags|=2048,mp(9,CP.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Jo(),t=pa.identifierPrefix;if(dr){var n=Ts,r=Ds;n=(r&~(1<<32-So(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=p8++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b8={readContext:no,useCallback:_P,useContext:no,useEffect:ik,useImperativeHandle:IP,useInsertionEffect:TP,useLayoutEffect:PP,useMemo:LP,useReducer:Gb,useRef:DP,useState:function(){return Gb(pp)},useDebugValue:ok,useDeferredValue:function(e){var t=ro();return FP(t,Xr.memoizedState,e)},useTransition:function(){var e=Gb(pp)[0],t=ro().memoizedState;return[e,t]},useMutableSource:SP,useSyncExternalStore:NP,useId:RP,unstable_isNewReconciler:!1},v8={readContext:no,useCallback:_P,useContext:no,useEffect:ik,useImperativeHandle:IP,useInsertionEffect:TP,useLayoutEffect:PP,useMemo:LP,useReducer:Yb,useRef:DP,useState:function(){return Yb(pp)},useDebugValue:ok,useDeferredValue:function(e){var t=ro();return Xr===null?t.memoizedState=e:FP(t,Xr.memoizedState,e)},useTransition:function(){var e=Yb(pp)[0],t=ro().memoizedState;return[e,t]},useMutableSource:SP,useSyncExternalStore:NP,useId:RP,unstable_isNewReconciler:!1};function yo(e,t){if(e&&e.defaultProps){t=Nr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Px(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Nr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Y0={isMounted:function(e){return(e=e._reactInternals)?uu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xa(),a=Bl(e),i=_s(r,a);i.payload=t,n!=null&&(i.callback=n),t=Rl(e,i,a),t!==null&&(No(t,e,a,r),$h(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xa(),a=Bl(e),i=_s(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Rl(e,i,a),t!==null&&(No(t,e,a,r),$h(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xa(),r=Bl(e),a=_s(n,r);a.tag=2,t!=null&&(a.callback=t),t=Rl(e,a,r),t!==null&&(No(t,e,r,n),$h(t,e,r))}};function C2(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!op(n,r)||!op(a,i):!0}function UP(e,t,n){var r=!1,a=Hl,i=t.contextType;return typeof i=="object"&&i!==null?i=no(i):(a=fi(t)?Gc:za.current,r=t.contextTypes,i=(r=r!=null)?dd(e,a):Hl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Y0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function A2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Y0.enqueueReplaceState(t,t.state,null)}function Ox(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Q1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=no(i):(i=fi(t)?Gc:za.current,a.context=dd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Px(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Y0.enqueueReplaceState(a,a.state,null),xg(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function hd(e,t){try{var n="",r=t;do n+=KB(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Xb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ix(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var x8=typeof WeakMap=="function"?WeakMap:Map;function VP(e,t,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jg||(jg=!0,Vx=r),Ix(e,t)},n}function WP(e,t,n){n=_s(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Ix(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ix(e,t),typeof r!="function"&&($l===null?$l=new Set([this]):$l.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function M2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new x8;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=I8.bind(null,e,t,n),t.then(e,e))}function E2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function D2(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_s(-1,1),t.tag=2,Rl(n,t,1))),n.lanes|=1),e)}var w8=tl.ReactCurrentOwner,ci=!1;function Ka(e,t,n,r){t.child=e===null?vP(t,null,n,r):pd(t,e.child,n,r)}function T2(e,t,n,r,a){n=n.render;var i=t.ref;return ad(t,a),r=rk(e,t,n,r,i,a),n=ak(),e!==null&&!ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a)):(dr&&n&&q1(t),t.flags|=1,Ka(e,t,r,a),t.child)}function P2(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!mk(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,qP(e,t,i,r,a)):(e=qh(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:op,n(o,r)&&e.ref===t.ref)return Ws(e,t,a)}return t.flags|=1,e=zl(i,r),e.ref=t.ref,e.return=t,t.child=e}function qP(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(op(i,r)&&e.ref===t.ref)if(ci=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(ci=!0);else return t.lanes=e.lanes,Ws(e,t,a)}return _x(e,t,n,r,a)}function HP(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(Ku,Ai),Ai|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tr(Ku,Ai),Ai|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,tr(Ku,Ai),Ai|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,tr(Ku,Ai),Ai|=r;return Ka(e,t,a,n),t.child}function KP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _x(e,t,n,r,a){var i=fi(n)?Gc:za.current;return i=dd(t,i),ad(t,a),n=rk(e,t,n,r,i,a),r=ak(),e!==null&&!ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a)):(dr&&r&&q1(t),t.flags|=1,Ka(e,t,n,a),t.child)}function O2(e,t,n,r,a){if(fi(n)){var i=!0;hg(t)}else i=!1;if(ad(t,a),t.stateNode===null)Uh(e,t),UP(t,n,r),Ox(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=no(u):(u=fi(n)?Gc:za.current,u=dd(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&A2(t,o,r,u),Sl=!1;var p=t.memoizedState;o.state=p,xg(t,r,o,a),l=t.memoizedState,s!==r||p!==l||di.current||Sl?(typeof d=="function"&&(Px(t,n,d,r),l=t.memoizedState),(s=Sl||C2(t,n,s,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wP(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:yo(t.type,s),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=no(l):(l=fi(n)?Gc:za.current,l=dd(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&A2(t,o,r,l),Sl=!1,p=t.memoizedState,o.state=p,xg(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||di.current||Sl?(typeof m=="function"&&(Px(t,n,m,r),h=t.memoizedState),(u=Sl||C2(t,n,u,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Lx(e,t,n,r,i,a)}function Lx(e,t,n,r,a,i){KP(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&b2(t,n,!1),Ws(e,t,i);r=t.stateNode,w8.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=pd(t,e.child,null,i),t.child=pd(t,null,s,i)):Ka(e,t,s,i),t.memoizedState=r.state,a&&b2(t,n,!0),t.child}function GP(e){var t=e.stateNode;t.pendingContext?y2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&y2(e,t.context,!1),Z1(e,t.containerInfo)}function I2(e,t,n,r,a){return fd(),K1(a),t.flags|=256,Ka(e,t,n,r),t.child}var Fx={dehydrated:null,treeContext:null,retryLane:0};function Rx(e){return{baseLanes:e,cachePool:null,transitions:null}}function YP(e,t,n){var r=t.pendingProps,a=vr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),tr(vr,a&1),e===null)return Dx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Q0(o,r,0,null),e=zc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Rx(n),t.memoizedState=Fx,e):sk(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return k8(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=zl(s,i):(i=zc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Rx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Fx,r}return i=e.child,e=i.sibling,r=zl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sk(e,t){return t=Q0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nh(e,t,n,r){return r!==null&&K1(r),pd(t,e.child,null,n),e=sk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k8(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Xb(Error(ct(422))),nh(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Q0({mode:"visible",children:r.children},a,0,null),i=zc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&pd(t,e.child,null,o),t.child.memoizedState=Rx(o),t.memoizedState=Fx,i);if(!(t.mode&1))return nh(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(ct(419)),r=Xb(i,r,void 0),nh(e,t,o,r)}if(s=(o&e.childLanes)!==0,ci||s){if(r=pa,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Vs(e,a),No(r,e,a,-1))}return pk(),r=Xb(Error(ct(421))),nh(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=_8.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Di=Fl(a.nextSibling),Pi=t,dr=!0,vo=null,e!==null&&(Yi[Xi++]=Ds,Yi[Xi++]=Ts,Yi[Xi++]=Yc,Ds=e.id,Ts=e.overflow,Yc=t),t=sk(t,r.children),t.flags|=4096,t)}function _2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tx(e.return,t,n)}function Jb(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function XP(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ka(e,t,r.children,n),r=vr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_2(e,n,t);else if(e.tag===19)_2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tr(vr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&wg(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Jb(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&wg(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Jb(t,!0,n,null,i);break;case"together":Jb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ct(153));if(t.child!==null){for(e=t.child,n=zl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function S8(e,t,n){switch(t.tag){case 3:GP(t),fd();break;case 5:kP(t);break;case 1:fi(t.type)&&hg(t);break;case 4:Z1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;tr(bg,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tr(vr,vr.current&1),t.flags|=128,null):n&t.child.childLanes?YP(e,t,n):(tr(vr,vr.current&1),e=Ws(e,t,n),e!==null?e.sibling:null);tr(vr,vr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return XP(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),tr(vr,vr.current),r)break;return null;case 22:case 23:return t.lanes=0,HP(e,t,n)}return Ws(e,t,n)}var JP,$x,QP,ZP;JP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$x=function(){};QP=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oc(rs.current);var i=null;switch(n){case"input":a=sx(e,a),r=sx(e,r),i=[];break;case"select":a=Nr({},a,{value:void 0}),r=Nr({},r,{value:void 0}),i=[];break;case"textarea":a=ux(e,a),r=ux(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pg)}fx(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ar("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ZP=function(e,t,n,r){n!==r&&(t.flags|=4)};function cf(e,t){if(!dr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oa(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function N8(e,t,n){var r=t.pendingProps;switch(H1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oa(t),null;case 1:return fi(t.type)&&mg(),Oa(t),null;case 3:return r=t.stateNode,md(),sr(di),sr(za),tk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(eh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vo!==null&&(Hx(vo),vo=null))),$x(e,t),Oa(t),null;case 5:ek(t);var a=Oc(dp.current);if(n=t.type,e!==null&&t.stateNode!=null)QP(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ct(166));return Oa(t),null}if(e=Oc(rs.current),eh(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[es]=t,r[cp]=i,e=(t.mode&1)!==0,n){case"dialog":ar("cancel",r),ar("close",r);break;case"iframe":case"object":case"embed":ar("load",r);break;case"video":case"audio":for(a=0;a<Af.length;a++)ar(Af[a],r);break;case"source":ar("error",r);break;case"img":case"image":case"link":ar("error",r),ar("load",r);break;case"details":ar("toggle",r);break;case"input":Wj(r,i),ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ar("invalid",r);break;case"textarea":Hj(r,i),ar("invalid",r)}fx(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Zm(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Zm(r.textContent,s,e),a=["children",""+s]):Zf.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ar("scroll",r)}switch(n){case"input":qm(r),qj(r,i,!0);break;case"textarea":qm(r),Kj(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pg)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[es]=t,e[cp]=r,JP(e,t,!1,!1),t.stateNode=e;e:{switch(o=px(n,r),n){case"dialog":ar("cancel",e),ar("close",e),a=r;break;case"iframe":case"object":case"embed":ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Af.length;a++)ar(Af[a],e);a=r;break;case"source":ar("error",e),a=r;break;case"img":case"image":case"link":ar("error",e),ar("load",e),a=r;break;case"details":ar("toggle",e),a=r;break;case"input":Wj(e,r),a=sx(e,r),ar("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Nr({},r,{value:void 0}),ar("invalid",e);break;case"textarea":Hj(e,r),a=ux(e,r),ar("invalid",e);break;default:a=r}fx(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?DT(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MT(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ep(e,l):typeof l=="number"&&ep(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ar("scroll",e):l!=null&&T1(e,i,l,o))}switch(n){case"input":qm(e),qj(e,r,!1);break;case"textarea":qm(e),Kj(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ql(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ed(e,!!r.multiple,i,!1):r.defaultValue!=null&&ed(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oa(t),null;case 6:if(e&&t.stateNode!=null)ZP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ct(166));if(n=Oc(dp.current),Oc(rs.current),eh(t)){if(r=t.stateNode,n=t.memoizedProps,r[es]=t,(i=r.nodeValue!==n)&&(e=Pi,e!==null))switch(e.tag){case 3:Zm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[es]=t,t.stateNode=r}return Oa(t),null;case 13:if(sr(vr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dr&&Di!==null&&t.mode&1&&!(t.flags&128))yP(),fd(),t.flags|=98560,i=!1;else if(i=eh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ct(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ct(317));i[es]=t}else fd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oa(t),i=!1}else vo!==null&&(Hx(vo),vo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?Qr===0&&(Qr=3):pk())),t.updateQueue!==null&&(t.flags|=4),Oa(t),null);case 4:return md(),$x(e,t),e===null&&sp(t.stateNode.containerInfo),Oa(t),null;case 10:return X1(t.type._context),Oa(t),null;case 17:return fi(t.type)&&mg(),Oa(t),null;case 19:if(sr(vr),i=t.memoizedState,i===null)return Oa(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)cf(i,!1);else{if(Qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wg(e),o!==null){for(t.flags|=128,cf(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tr(vr,vr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ir()>gd&&(t.flags|=128,r=!0,cf(i,!1),t.lanes=4194304)}else{if(!r)if(e=wg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!dr)return Oa(t),null}else 2*Ir()-i.renderingStartTime>gd&&n!==1073741824&&(t.flags|=128,r=!0,cf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ir(),t.sibling=null,n=vr.current,tr(vr,r?n&1|2:n&1),t):(Oa(t),null);case 22:case 23:return fk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ai&1073741824&&(Oa(t),t.subtreeFlags&6&&(t.flags|=8192)):Oa(t),null;case 24:return null;case 25:return null}throw Error(ct(156,t.tag))}function j8(e,t){switch(H1(t),t.tag){case 1:return fi(t.type)&&mg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return md(),sr(di),sr(za),tk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ek(t),null;case 13:if(sr(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ct(340));fd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(vr),null;case 4:return md(),null;case 10:return X1(t.type._context),null;case 22:case 23:return fk(),null;case 24:return null;default:return null}}var rh=!1,La=!1,C8=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Hu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mr(e,t,r)}else n.current=null}function e3(e,t,n){try{n()}catch(r){Mr(e,t,r)}}var L2=!1;function A8(e,t){if(Sx=ug,e=aP(),W1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nx={focusedElem:e,selectionRange:n},ug=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){t=Ct;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var b=h.memoizedProps,v=h.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:yo(t.type,b),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(S){Mr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}return h=L2,L2=!1,h}function $f(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&e3(t,n,i)}a=a.next}while(a!==r)}}function X0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function t3(e){var t=e.alternate;t!==null&&(e.alternate=null,t3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[cp],delete t[Ax],delete t[c8],delete t[u8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n3(e){return e.tag===5||e.tag===3||e.tag===4}function F2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pg));else if(r!==4&&(e=e.child,e!==null))for(zx(e,t,n),e=e.sibling;e!==null;)zx(e,t,n),e=e.sibling}function Ux(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ux(e,t,n),e=e.sibling;e!==null;)Ux(e,t,n),e=e.sibling}var ka=null,bo=!1;function bl(e,t,n){for(n=n.child;n!==null;)r3(e,t,n),n=n.sibling}function r3(e,t,n){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(U0,n)}catch{}switch(n.tag){case 5:La||Hu(n,t);case 6:var r=ka,a=bo;ka=null,bl(e,t,n),ka=r,bo=a,ka!==null&&(bo?(e=ka,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ka.removeChild(n.stateNode));break;case 18:ka!==null&&(bo?(e=ka,n=n.stateNode,e.nodeType===8?Wb(e.parentNode,n):e.nodeType===1&&Wb(e,n),ap(e)):Wb(ka,n.stateNode));break;case 4:r=ka,a=bo,ka=n.stateNode.containerInfo,bo=!0,bl(e,t,n),ka=r,bo=a;break;case 0:case 11:case 14:case 15:if(!La&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&e3(n,t,o),a=a.next}while(a!==r)}bl(e,t,n);break;case 1:if(!La&&(Hu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Mr(n,t,s)}bl(e,t,n);break;case 21:bl(e,t,n);break;case 22:n.mode&1?(La=(r=La)||n.memoizedState!==null,bl(e,t,n),La=r):bl(e,t,n);break;default:bl(e,t,n)}}function R2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new C8),t.forEach(function(r){var a=L8.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function go(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ka=s.stateNode,bo=!1;break e;case 3:ka=s.stateNode.containerInfo,bo=!0;break e;case 4:ka=s.stateNode.containerInfo,bo=!0;break e}s=s.return}if(ka===null)throw Error(ct(160));r3(i,o,a),ka=null,bo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Mr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a3(t,e),t=t.sibling}function a3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(go(t,e),Ko(e),r&4){try{$f(3,e,e.return),X0(3,e)}catch(b){Mr(e,e.return,b)}try{$f(5,e,e.return)}catch(b){Mr(e,e.return,b)}}break;case 1:go(t,e),Ko(e),r&512&&n!==null&&Hu(n,n.return);break;case 5:if(go(t,e),Ko(e),r&512&&n!==null&&Hu(n,n.return),e.flags&32){var a=e.stateNode;try{ep(a,"")}catch(b){Mr(e,e.return,b)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&jT(a,i),px(s,o);var u=px(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?DT(a,f):d==="dangerouslySetInnerHTML"?MT(a,f):d==="children"?ep(a,f):T1(a,d,f,u)}switch(s){case"input":lx(a,i);break;case"textarea":CT(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ed(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?ed(a,!!i.multiple,i.defaultValue,!0):ed(a,!!i.multiple,i.multiple?[]:"",!1))}a[cp]=i}catch(b){Mr(e,e.return,b)}}break;case 6:if(go(t,e),Ko(e),r&4){if(e.stateNode===null)throw Error(ct(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Mr(e,e.return,b)}}break;case 3:if(go(t,e),Ko(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ap(t.containerInfo)}catch(b){Mr(e,e.return,b)}break;case 4:go(t,e),Ko(e);break;case 13:go(t,e),Ko(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(uk=Ir())),r&4&&R2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(La=(u=La)||d,go(t,e),La=u):go(t,e),Ko(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ct=e,d=e.child;d!==null;){for(f=Ct=d;Ct!==null;){switch(p=Ct,m=p.child,p.tag){case 0:case 11:case 14:case 15:$f(4,p,p.return);break;case 1:Hu(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(b){Mr(r,n,b)}}break;case 5:Hu(p,p.return);break;case 22:if(p.memoizedState!==null){B2(f);continue}}m!==null?(m.return=p,Ct=m):B2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ET("display",o))}catch(b){Mr(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Mr(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:go(t,e),Ko(e),r&4&&R2(e);break;case 21:break;default:go(t,e),Ko(e)}}function Ko(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(n3(n)){var r=n;break e}n=n.return}throw Error(ct(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(ep(a,""),r.flags&=-33);var i=F2(e);Ux(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=F2(e);zx(e,s,o);break;default:throw Error(ct(161))}}catch(l){Mr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function M8(e,t,n){Ct=e,i3(e)}function i3(e,t,n){for(var r=(e.mode&1)!==0;Ct!==null;){var a=Ct,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||rh;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||La;s=rh;var u=La;if(rh=o,(La=l)&&!u)for(Ct=a;Ct!==null;)o=Ct,l=o.child,o.tag===22&&o.memoizedState!==null?z2(a):l!==null?(l.return=o,Ct=l):z2(a);for(;i!==null;)Ct=i,i3(i),i=i.sibling;Ct=a,rh=s,La=u}$2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ct=i):$2(e)}}function $2(e){for(;Ct!==null;){var t=Ct;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:La||X0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!La)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&S2(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}S2(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ap(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}La||t.flags&512&&Bx(t)}catch(p){Mr(t,t.return,p)}}if(t===e){Ct=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ct=n;break}Ct=t.return}}function B2(e){for(;Ct!==null;){var t=Ct;if(t===e){Ct=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ct=n;break}Ct=t.return}}function z2(e){for(;Ct!==null;){var t=Ct;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{X0(4,t)}catch(l){Mr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){Mr(t,a,l)}}var i=t.return;try{Bx(t)}catch(l){Mr(t,i,l)}break;case 5:var o=t.return;try{Bx(t)}catch(l){Mr(t,o,l)}}}catch(l){Mr(t,t.return,l)}if(t===e){Ct=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ct=s;break}Ct=t.return}}var E8=Math.ceil,Ng=tl.ReactCurrentDispatcher,lk=tl.ReactCurrentOwner,eo=tl.ReactCurrentBatchConfig,Mn=0,pa=null,Vr=null,Na=0,Ai=0,Ku=Zl(0),Qr=0,hp=null,Jc=0,J0=0,ck=0,Bf=null,si=null,uk=0,gd=1/0,js=null,jg=!1,Vx=null,$l=null,ah=!1,Tl=null,Cg=0,zf=0,Wx=null,Vh=-1,Wh=0;function Xa(){return Mn&6?Ir():Vh!==-1?Vh:Vh=Ir()}function Bl(e){return e.mode&1?Mn&2&&Na!==0?Na&-Na:f8.transition!==null?(Wh===0&&(Wh=UT()),Wh):(e=Bn,e!==0||(e=window.event,e=e===void 0?16:YT(e.type)),e):1}function No(e,t,n,r){if(50<zf)throw zf=0,Wx=null,Error(ct(185));zp(e,n,r),(!(Mn&2)||e!==pa)&&(e===pa&&(!(Mn&2)&&(J0|=n),Qr===4&&Ml(e,Na)),pi(e,r),n===1&&Mn===0&&!(t.mode&1)&&(gd=Ir()+500,K0&&ec()))}function pi(e,t){var n=e.callbackNode;fz(e,t);var r=cg(e,e===pa?Na:0);if(r===0)n!==null&&Xj(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xj(n),t===1)e.tag===0?d8(U2.bind(null,e)):mP(U2.bind(null,e)),s8(function(){!(Mn&6)&&ec()}),n=null;else{switch(VT(r)){case 1:n=L1;break;case 4:n=BT;break;case 16:n=lg;break;case 536870912:n=zT;break;default:n=lg}n=p3(n,o3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function o3(e,t){if(Vh=-1,Wh=0,Mn&6)throw Error(ct(327));var n=e.callbackNode;if(id()&&e.callbackNode!==n)return null;var r=cg(e,e===pa?Na:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ag(e,r);else{t=r;var a=Mn;Mn|=2;var i=l3();(pa!==e||Na!==t)&&(js=null,gd=Ir()+500,Bc(e,t));do try{P8();break}catch(s){s3(e,s)}while(!0);Y1(),Ng.current=i,Mn=a,Vr!==null?t=0:(pa=null,Na=0,t=Qr)}if(t!==0){if(t===2&&(a=bx(e),a!==0&&(r=a,t=qx(e,a))),t===1)throw n=hp,Bc(e,0),Ml(e,r),pi(e,Ir()),n;if(t===6)Ml(e,r);else{if(a=e.current.alternate,!(r&30)&&!D8(a)&&(t=Ag(e,r),t===2&&(i=bx(e),i!==0&&(r=i,t=qx(e,i))),t===1))throw n=hp,Bc(e,0),Ml(e,r),pi(e,Ir()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ct(345));case 2:Nc(e,si,js);break;case 3:if(Ml(e,r),(r&130023424)===r&&(t=uk+500-Ir(),10<t)){if(cg(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Xa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Cx(Nc.bind(null,e,si,js),t);break}Nc(e,si,js);break;case 4:if(Ml(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-So(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E8(r/1960))-r,10<r){e.timeoutHandle=Cx(Nc.bind(null,e,si,js),r);break}Nc(e,si,js);break;case 5:Nc(e,si,js);break;default:throw Error(ct(329))}}}return pi(e,Ir()),e.callbackNode===n?o3.bind(null,e):null}function qx(e,t){var n=Bf;return e.current.memoizedState.isDehydrated&&(Bc(e,t).flags|=256),e=Ag(e,t),e!==2&&(t=si,si=n,t!==null&&Hx(t)),e}function Hx(e){si===null?si=e:si.push.apply(si,e)}function D8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Ao(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ml(e,t){for(t&=~ck,t&=~J0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-So(t),r=1<<n;e[n]=-1,t&=~r}}function U2(e){if(Mn&6)throw Error(ct(327));id();var t=cg(e,0);if(!(t&1))return pi(e,Ir()),null;var n=Ag(e,t);if(e.tag!==0&&n===2){var r=bx(e);r!==0&&(t=r,n=qx(e,r))}if(n===1)throw n=hp,Bc(e,0),Ml(e,t),pi(e,Ir()),n;if(n===6)throw Error(ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,si,js),pi(e,Ir()),null}function dk(e,t){var n=Mn;Mn|=1;try{return e(t)}finally{Mn=n,Mn===0&&(gd=Ir()+500,K0&&ec())}}function Qc(e){Tl!==null&&Tl.tag===0&&!(Mn&6)&&id();var t=Mn;Mn|=1;var n=eo.transition,r=Bn;try{if(eo.transition=null,Bn=1,e)return e()}finally{Bn=r,eo.transition=n,Mn=t,!(Mn&6)&&ec()}}function fk(){Ai=Ku.current,sr(Ku)}function Bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,o8(n)),Vr!==null)for(n=Vr.return;n!==null;){var r=n;switch(H1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mg();break;case 3:md(),sr(di),sr(za),tk();break;case 5:ek(r);break;case 4:md();break;case 13:sr(vr);break;case 19:sr(vr);break;case 10:X1(r.type._context);break;case 22:case 23:fk()}n=n.return}if(pa=e,Vr=e=zl(e.current,null),Na=Ai=t,Qr=0,hp=null,ck=J0=Jc=0,si=Bf=null,Pc!==null){for(t=0;t<Pc.length;t++)if(n=Pc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Pc=null}return e}function s3(e,t){do{var n=Vr;try{if(Y1(),Bh.current=Sg,kg){for(var r=Sr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}kg=!1}if(Xc=0,da=Xr=Sr=null,Rf=!1,fp=0,lk.current=null,n===null||n.return===null){Qr=1,hp=t,Vr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=Na,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=E2(o);if(m!==null){m.flags&=-257,D2(m,o,s,i,t),m.mode&1&&M2(i,u,t),t=m,l=u;var h=t.updateQueue;if(h===null){var b=new Set;b.add(l),t.updateQueue=b}else h.add(l);break e}else{if(!(t&1)){M2(i,u,t),pk();break e}l=Error(ct(426))}}else if(dr&&s.mode&1){var v=E2(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),D2(v,o,s,i,t),K1(hd(l,s));break e}}i=l=hd(l,s),Qr!==4&&(Qr=2),Bf===null?Bf=[i]:Bf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=VP(i,l,t);k2(i,y);break e;case 1:s=l;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($l===null||!$l.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=WP(i,s,t);k2(i,S);break e}}i=i.return}while(i!==null)}u3(n)}catch(C){t=C,Vr===n&&n!==null&&(Vr=n=n.return);continue}break}while(!0)}function l3(){var e=Ng.current;return Ng.current=Sg,e===null?Sg:e}function pk(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),pa===null||!(Jc&268435455)&&!(J0&268435455)||Ml(pa,Na)}function Ag(e,t){var n=Mn;Mn|=2;var r=l3();(pa!==e||Na!==t)&&(js=null,Bc(e,t));do try{T8();break}catch(a){s3(e,a)}while(!0);if(Y1(),Mn=n,Ng.current=r,Vr!==null)throw Error(ct(261));return pa=null,Na=0,Qr}function T8(){for(;Vr!==null;)c3(Vr)}function P8(){for(;Vr!==null&&!rz();)c3(Vr)}function c3(e){var t=f3(e.alternate,e,Ai);e.memoizedProps=e.pendingProps,t===null?u3(e):Vr=t,lk.current=null}function u3(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=j8(n,t),n!==null){n.flags&=32767,Vr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,Vr=null;return}}else if(n=N8(n,t,Ai),n!==null){Vr=n;return}if(t=t.sibling,t!==null){Vr=t;return}Vr=t=e}while(t!==null);Qr===0&&(Qr=5)}function Nc(e,t,n){var r=Bn,a=eo.transition;try{eo.transition=null,Bn=1,O8(e,t,n,r)}finally{eo.transition=a,Bn=r}return null}function O8(e,t,n,r){do id();while(Tl!==null);if(Mn&6)throw Error(ct(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ct(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pz(e,i),e===pa&&(Vr=pa=null,Na=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ah||(ah=!0,p3(lg,function(){return id(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=eo.transition,eo.transition=null;var o=Bn;Bn=1;var s=Mn;Mn|=4,lk.current=null,A8(e,n),a3(n,e),Zz(Nx),ug=!!Sx,Nx=Sx=null,e.current=n,M8(n),az(),Mn=s,Bn=o,eo.transition=i}else e.current=n;if(ah&&(ah=!1,Tl=e,Cg=a),i=e.pendingLanes,i===0&&($l=null),sz(n.stateNode),pi(e,Ir()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(jg)throw jg=!1,e=Vx,Vx=null,e;return Cg&1&&e.tag!==0&&id(),i=e.pendingLanes,i&1?e===Wx?zf++:(zf=0,Wx=e):zf=0,ec(),null}function id(){if(Tl!==null){var e=VT(Cg),t=eo.transition,n=Bn;try{if(eo.transition=null,Bn=16>e?16:e,Tl===null)var r=!1;else{if(e=Tl,Tl=null,Cg=0,Mn&6)throw Error(ct(331));var a=Mn;for(Mn|=4,Ct=e.current;Ct!==null;){var i=Ct,o=i.child;if(Ct.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Ct=u;Ct!==null;){var d=Ct;switch(d.tag){case 0:case 11:case 15:$f(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ct=f;else for(;Ct!==null;){d=Ct;var p=d.sibling,m=d.return;if(t3(d),d===u){Ct=null;break}if(p!==null){p.return=m,Ct=p;break}Ct=m}}}var h=i.alternate;if(h!==null){var b=h.child;if(b!==null){h.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}Ct=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ct=o;else e:for(;Ct!==null;){if(i=Ct,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$f(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ct=y;break e}Ct=i.return}}var x=e.current;for(Ct=x;Ct!==null;){o=Ct;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ct=w;else e:for(o=x;Ct!==null;){if(s=Ct,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:X0(9,s)}}catch(C){Mr(s,s.return,C)}if(s===o){Ct=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Ct=S;break e}Ct=s.return}}if(Mn=a,ec(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(U0,e)}catch{}r=!0}return r}finally{Bn=n,eo.transition=t}}return!1}function V2(e,t,n){t=hd(n,t),t=VP(e,t,1),e=Rl(e,t,1),t=Xa(),e!==null&&(zp(e,1,t),pi(e,t))}function Mr(e,t,n){if(e.tag===3)V2(e,e,n);else for(;t!==null;){if(t.tag===3){V2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($l===null||!$l.has(r))){e=hd(n,e),e=WP(t,e,1),t=Rl(t,e,1),e=Xa(),t!==null&&(zp(t,1,e),pi(t,e));break}}t=t.return}}function I8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xa(),e.pingedLanes|=e.suspendedLanes&n,pa===e&&(Na&n)===n&&(Qr===4||Qr===3&&(Na&130023424)===Na&&500>Ir()-uk?Bc(e,0):ck|=n),pi(e,t)}function d3(e,t){t===0&&(e.mode&1?(t=Gm,Gm<<=1,!(Gm&130023424)&&(Gm=4194304)):t=1);var n=Xa();e=Vs(e,t),e!==null&&(zp(e,t,n),pi(e,n))}function _8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),d3(e,n)}function L8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(t),d3(e,n)}var f3;f3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||di.current)ci=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ci=!1,S8(e,t,n);ci=!!(e.flags&131072)}else ci=!1,dr&&t.flags&1048576&&hP(t,yg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Uh(e,t),e=t.pendingProps;var a=dd(t,za.current);ad(t,n),a=rk(null,t,r,e,a,n);var i=ak();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(r)?(i=!0,hg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Q1(t),a.updater=Y0,t.stateNode=a,a._reactInternals=t,Ox(t,r,e,n),t=Lx(null,t,r,!0,i,n)):(t.tag=0,dr&&i&&q1(t),Ka(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Uh(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=R8(r),e=yo(r,e),a){case 0:t=_x(null,t,r,e,n);break e;case 1:t=O2(null,t,r,e,n);break e;case 11:t=T2(null,t,r,e,n);break e;case 14:t=P2(null,t,r,yo(r.type,e),n);break e}throw Error(ct(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),_x(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),O2(e,t,r,a,n);case 3:e:{if(GP(t),e===null)throw Error(ct(387));r=t.pendingProps,i=t.memoizedState,a=i.element,wP(e,t),xg(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=hd(Error(ct(423)),t),t=I2(e,t,r,n,a);break e}else if(r!==a){a=hd(Error(ct(424)),t),t=I2(e,t,r,n,a);break e}else for(Di=Fl(t.stateNode.containerInfo.firstChild),Pi=t,dr=!0,vo=null,n=vP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fd(),r===a){t=Ws(e,t,n);break e}Ka(e,t,r,n)}t=t.child}return t;case 5:return kP(t),e===null&&Dx(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,jx(r,a)?o=null:i!==null&&jx(r,i)&&(t.flags|=32),KP(e,t),Ka(e,t,o,n),t.child;case 6:return e===null&&Dx(t),null;case 13:return YP(e,t,n);case 4:return Z1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pd(t,null,r,n):Ka(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),T2(e,t,r,a,n);case 7:return Ka(e,t,t.pendingProps,n),t.child;case 8:return Ka(e,t,t.pendingProps.children,n),t.child;case 12:return Ka(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,tr(bg,r._currentValue),r._currentValue=o,i!==null)if(Ao(i.value,o)){if(i.children===a.children&&!di.current){t=Ws(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_s(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tx(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ct(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Tx(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ka(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ad(t,n),a=no(a),r=r(a),t.flags|=1,Ka(e,t,r,n),t.child;case 14:return r=t.type,a=yo(r,t.pendingProps),a=yo(r.type,a),P2(e,t,r,a,n);case 15:return qP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),Uh(e,t),t.tag=1,fi(r)?(e=!0,hg(t)):e=!1,ad(t,n),UP(t,r,a),Ox(t,r,a,n),Lx(null,t,r,!0,e,n);case 19:return XP(e,t,n);case 22:return HP(e,t,n)}throw Error(ct(156,t.tag))};function p3(e,t){return $T(e,t)}function F8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(e,t,n,r){return new F8(e,t,n,r)}function mk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R8(e){if(typeof e=="function")return mk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O1)return 11;if(e===I1)return 14}return 2}function zl(e,t){var n=e.alternate;return n===null?(n=Qi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qh(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")mk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fu:return zc(n.children,a,i,t);case P1:o=8,a|=8;break;case rx:return e=Qi(12,n,t,a|2),e.elementType=rx,e.lanes=i,e;case ax:return e=Qi(13,n,t,a),e.elementType=ax,e.lanes=i,e;case ix:return e=Qi(19,n,t,a),e.elementType=ix,e.lanes=i,e;case kT:return Q0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xT:o=10;break e;case wT:o=9;break e;case O1:o=11;break e;case I1:o=14;break e;case kl:o=16,r=null;break e}throw Error(ct(130,e==null?e:typeof e,""))}return t=Qi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function zc(e,t,n,r){return e=Qi(7,e,r,t),e.lanes=n,e}function Q0(e,t,n,r){return e=Qi(22,e,r,t),e.elementType=kT,e.lanes=n,e.stateNode={isHidden:!1},e}function Qb(e,t,n){return e=Qi(6,e,null,t),e.lanes=n,e}function Zb(e,t,n){return t=Qi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $8(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ob(0),this.expirationTimes=Ob(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ob(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hk(e,t,n,r,a,i,o,s,l){return e=new $8(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q1(i),e}function B8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function m3(e){if(!e)return Hl;e=e._reactInternals;e:{if(uu(e)!==e||e.tag!==1)throw Error(ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ct(171))}if(e.tag===1){var n=e.type;if(fi(n))return pP(e,n,t)}return t}function h3(e,t,n,r,a,i,o,s,l){return e=hk(n,r,!0,e,a,i,o,s,l),e.context=m3(null),n=e.current,r=Xa(),a=Bl(n),i=_s(r,a),i.callback=t??null,Rl(n,i,a),e.current.lanes=a,zp(e,a,r),pi(e,r),e}function Z0(e,t,n,r){var a=t.current,i=Xa(),o=Bl(a);return n=m3(n),t.context===null?t.context=n:t.pendingContext=n,t=_s(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rl(a,t,o),e!==null&&(No(e,a,o,i),$h(e,a,o)),o}function Mg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function W2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gk(e,t){W2(e,t),(e=e.alternate)&&W2(e,t)}function z8(){return null}var g3=typeof reportError=="function"?reportError:function(e){console.error(e)};function yk(e){this._internalRoot=e}ey.prototype.render=yk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ct(409));Z0(e,t,null,null)};ey.prototype.unmount=yk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qc(function(){Z0(null,e,null,null)}),t[Us]=null}};function ey(e){this._internalRoot=e}ey.prototype.unstable_scheduleHydration=function(e){if(e){var t=HT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Al.length&&t!==0&&t<Al[n].priority;n++);Al.splice(n,0,e),n===0&&GT(e)}};function bk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ty(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function q2(){}function U8(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Mg(o);i.call(u)}}var o=h3(t,r,e,0,null,!1,!1,"",q2);return e._reactRootContainer=o,e[Us]=o.current,sp(e.nodeType===8?e.parentNode:e),Qc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var u=Mg(l);s.call(u)}}var l=hk(e,0,!1,null,null,!1,!1,"",q2);return e._reactRootContainer=l,e[Us]=l.current,sp(e.nodeType===8?e.parentNode:e),Qc(function(){Z0(t,l,n,r)}),l}function ny(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Mg(o);s.call(l)}}Z0(t,o,e,a)}else o=U8(n,t,e,a,r);return Mg(o)}WT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cf(t.pendingLanes);n!==0&&(F1(t,n|1),pi(t,Ir()),!(Mn&6)&&(gd=Ir()+500,ec()))}break;case 13:Qc(function(){var r=Vs(e,1);if(r!==null){var a=Xa();No(r,e,1,a)}}),gk(e,1)}};R1=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var n=Xa();No(t,e,134217728,n)}gk(e,134217728)}};qT=function(e){if(e.tag===13){var t=Bl(e),n=Vs(e,t);if(n!==null){var r=Xa();No(n,e,t,r)}gk(e,t)}};HT=function(){return Bn};KT=function(e,t){var n=Bn;try{return Bn=e,t()}finally{Bn=n}};hx=function(e,t,n){switch(t){case"input":if(lx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=H0(r);if(!a)throw Error(ct(90));NT(r),lx(r,a)}}}break;case"textarea":CT(e,n);break;case"select":t=n.value,t!=null&&ed(e,!!n.multiple,t,!1)}};OT=dk;IT=Qc;var V8={usingClientEntryPoint:!1,Events:[Vp,zu,H0,TT,PT,dk]},uf={findFiberByHostInstance:Tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W8={bundleType:uf.bundleType,version:uf.version,rendererPackageName:uf.rendererPackageName,rendererConfig:uf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=FT(e),e===null?null:e.stateNode},findFiberByHostInstance:uf.findFiberByHostInstance||z8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{U0=ih.inject(W8),ns=ih}catch{}}Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V8;Ri.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bk(t))throw Error(ct(200));return B8(e,t,null,n)};Ri.createRoot=function(e,t){if(!bk(e))throw Error(ct(299));var n=!1,r="",a=g3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hk(e,1,!1,null,null,n,!1,r,a),e[Us]=t.current,sp(e.nodeType===8?e.parentNode:e),new yk(t)};Ri.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ct(188)):(e=Object.keys(e).join(","),Error(ct(268,e)));return e=FT(t),e=e===null?null:e.stateNode,e};Ri.flushSync=function(e){return Qc(e)};Ri.hydrate=function(e,t,n){if(!ty(t))throw Error(ct(200));return ny(null,e,t,!0,n)};Ri.hydrateRoot=function(e,t,n){if(!bk(e))throw Error(ct(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=g3;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=h3(t,null,e,1,n??null,a,!1,i,o),e[Us]=t.current,sp(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ey(t)};Ri.render=function(e,t,n){if(!ty(t))throw Error(ct(200));return ny(null,e,t,!1,n)};Ri.unmountComponentAtNode=function(e){if(!ty(e))throw Error(ct(40));return e._reactRootContainer?(Qc(function(){ny(null,null,e,!1,function(){e._reactRootContainer=null,e[Us]=null})}),!0):!1};Ri.unstable_batchedUpdates=dk;Ri.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ty(n))throw Error(ct(200));if(e==null||e._reactInternals===void 0)throw Error(ct(38));return ny(e,t,n,!1,r)};Ri.version="18.3.1-next-f1338f8080-20240426";function y3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y3)}catch(e){console.error(e)}}y3(),gT.exports=Ri;var _d=gT.exports,H2=_d;tx.createRoot=H2.createRoot,tx.hydrateRoot=H2.hydrateRoot;const q8=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),b3=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],v3=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],H8=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],x3=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],K8=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],G8=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],Y8=new Set([10244]),X8=(e,t)=>{var n;if(Y8.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return G8.some(i=>a.includes(i))},J8=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},oh=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},w3=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,k3=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},ca=(e,t=2)=>Number.isFinite(e)?w3()&&Math.abs(e)>=1e4?k3(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",xl=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return w3()&&t>=1e4?k3(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var Q8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tn=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},u)=>g.createElement("svg",{ref:u,...Q8,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${Z8(e)}`,...l},[...t.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},S3=tn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),eU=tn("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),vk=tn("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),N3=tn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),tU=tn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),xk=tn("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),nU=tn("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),j3=tn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Kx=tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),rU=tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Mo=tn("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),aU=tn("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),iU=tn("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),oU=tn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),sU=tn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),gp=tn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),lU=tn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),wk=tn("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),cU=tn("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),C3=tn("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),uU=tn("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),kk=tn("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),dU=tn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Sk=tn("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),fU=tn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Nk=tn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Ca=tn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),K2=tn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),pU=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),mU=tn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),hU=tn("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),A3=tn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),yd=tn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ry=tn("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),ay=tn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Eg=tn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),gU=tn("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Pl=tn("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Uc=tn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),yU=tn("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Dr=tn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),bU=tn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),M3=tn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ma=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yp=tn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),jk=({className:e})=>c.jsx(pU,{className:e,strokeWidth:3.2}),du=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},Ck=({className:e=""})=>{const t=du("svg/custom-icons/mouse.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ak=({className:e=""})=>{const t=du("svg/custom-icons/gw2_aegis.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Vc=({className:e=""})=>{const t=du("svg/custom-icons/gw2_boon.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Mk=({className:e=""})=>{const t=du("svg/custom-icons/dam_mit.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Uf=({className:e=""})=>{const t=du("svg/custom-icons/gw2_fury.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ek=({className:e=""})=>{const t=du("svg/custom-icons/gw2_sigil.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},vU=[{id:"overview",label:"Overview",icon:Uc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:Uc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Pl},{id:"top-players",label:"Top Players",icon:Uc},{id:"top-skills-outgoing",label:"Top Skills",icon:vk},{id:"squad-composition",label:"Classes",icon:Dr},{id:"timeline",label:"Squad vs Enemy",icon:Dr},{id:"map-distribution",label:"Map Distribution",icon:Nk}]},{id:"roster",label:"Roster Intel",icon:gp,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:gp},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Dr},{id:"fight-comp",label:"Fight Comp",icon:Pl}]},{id:"offense",label:"Offensive Stats",icon:Pl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Pl},{id:"player-breakdown",label:"Player Breakdown",icon:Sk},{id:"damage-breakdown",label:"Damage Breakdown",icon:xk},{id:"spike-damage",label:"Spike Damage",icon:yp},{id:"conditions-outgoing",label:"Conditions",icon:ry}]},{id:"defense",label:"Defensive Stats",icon:yd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:hU},{id:"defense-detailed",label:"Defense Detailed",icon:yd},{id:"defense-mitigation",label:"Damage Mitigation",icon:Mk},{id:"boon-output",label:"Boon Output",icon:Vc},{id:"boon-timeline",label:"Boon Timeline",icon:Ak},{id:"boon-uptime",label:"Boon Uptime",icon:Uf},{id:"support-detailed",label:"Support Detailed",icon:jk},{id:"healing-stats",label:"Healing Stats",icon:C3}]},{id:"other",label:"Other Metrics",icon:Eg,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:wk},{id:"special-buffs",label:"Special Buffs",icon:Eg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Ek},{id:"skill-usage",label:"Skill Usage",icon:kk},{id:"apm-stats",label:"APM Breakdown",icon:Ck}]}],xU=(e,t=!0,n=!1)=>{const[r,a]=g.useState(!1),[i,o]=g.useState("overview"),s=g.useRef(null),l=g.useRef(null),u=g.useRef(0),d=g.useMemo(()=>vU,[]),f=g.useMemo(()=>d.flatMap(h=>h.items),[d]),p=h=>{const b=h==="kdr"?"overview":h,v=s.current,y=document.getElementById(b);if(v&&y){const x=v.getBoundingClientRect(),w=y.getBoundingClientRect().top-x.top+v.scrollTop,S=Math.max(0,v.scrollHeight-v.clientHeight),C=Math.min(Math.max(w-16,0),S);v.scrollTo({top:C,behavior:"smooth"}),o(b)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),o(b));a(!1)};g.useEffect(()=>{if(e||n)return;const h=b=>{if(n)return;const v=s.current;if(!v)return;const y=b.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&v.contains(y))&&b.deltaY!==0&&!(v.scrollHeight<=v.clientHeight)){if(u.current+=b.deltaY,l.current===null){const x=()=>{const w=u.current;if(Math.abs(w)<.5){u.current=0,l.current=null;return}const S=w*.2;u.current=w-S,v.scrollBy({top:S,behavior:"auto"}),l.current=requestAnimationFrame(x)};l.current=requestAnimationFrame(x)}b.preventDefault()}};return window.addEventListener("wheel",h,{passive:!1}),()=>{window.removeEventListener("wheel",h),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),u.current=0}},[e,n]);const m=h=>{var b;const v=Math.max(0,f.findIndex(w=>w.id===i)),y=Math.min(Math.max(v+h,0),f.length-1),x=(b=f[y])==null?void 0:b.id;x&&p(x)};return g.useEffect(()=>{if(!t||n)return;const h=s.current;if(!h)return;let b=0;const v=()=>{var x;const w=h.getBoundingClientRect().top;let S=((x=f[0])==null?void 0:x.id)||"overview";f.forEach(C=>{const j=document.getElementById(C.id);j&&j.getBoundingClientRect().top-w<=24&&(S=C.id)}),o(C=>C===S?C:S)},y=()=>{b&&cancelAnimationFrame(b),b=requestAnimationFrame(v)};return v(),h.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{b&&cancelAnimationFrame(b),h.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:a,activeNavId:i,setActiveNavId:o,scrollContainerRef:s,tocGroups:d,tocItems:f,scrollToSection:p,stepSection:m}},G2=["selfBuffs","groupBuffs","squadBuffs"],Ns=(e,t,n=0)=>t?e/t:n,Y2=e=>e!=null&&e.classification?e.classification==="Boon":!0,E3=e=>`b${e}`,wU=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},D3=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},kU=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let p=1;t==="groupBuffs"?p=Ns(i-a,a,1):t==="squadBuffs"?p=Ns(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?Ns(d,r):Ns(d,r)*100,h=n?Ns(f,r):Ns(f,r)*100;else{const b=Ns(d,r)/(p||1),v=Ns(f,r)/(p||1);m=n?b:b*100,h=n?v:v*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},T3=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=kU(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?Ns(a,o):i},SU=(e,t,n,r,a)=>{const i=T3(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,u=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${u}%`:u},NU=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,u=new Map;s.forEach(d=>{const f=d.group??0;u.set(f,(u.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=u.get(m)||1,b=wU(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const v=n.get(f);v.profession=p,p!=="Unknown"&&(v.professions.add(p),v.professionTimeMs[p]=(v.professionTimeMs[p]||0)+b),v.activeTimeMs+=b,v.numFights+=1,v.groupSupported+=h,v.squadSupported+=l,G2.forEach(y=>{(d[y]||[]).forEach(x=>{var w,S,C,j;if(typeof(x==null?void 0:x.id)!="number")return;const M=E3(x.id),T=o[M];if(!Y2(T))return;const $=(T==null?void 0:T.stacking)??!1,D=((S=(w=x.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,I=((j=(C=x.buffData)==null?void 0:C[0])==null?void 0:j.wasted)??0,{generationMs:O,wastedMs:q}=D3(y,$,D,I,i,h,l);!O&&!q||(t.has(M)||t.set(M,T||{}),v.boons[M]||(v.boons[M]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),v.boons[M][y].generationMs+=O,v.boons[M][y].wastedMs+=q)})})})}),{boonTables:Array.from(t.keys()).filter(r=>Y2(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!G2.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const u=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(u.length>0){d=u[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;u.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:u,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},Gx=(e,t,n,r,a,i,o={})=>{var s,l,u,d;const f=((e==null?void 0:e[t])||[]).find(v=>v.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[E3(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,b=((d=(u=f.buffData)==null?void 0:u[0])==null?void 0:d.wasted)??0;return D3(t,m,h,b,r,a,i)},jU={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},CU={methods:jU},AU=CU,Dk="count",MU=e=>(e||0)/1e3,EU=(e,t)=>{var n;if(!e)return 0;const r=(n=AU.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},P3=(e,t,n)=>n==="duration"?MU(t):n==="tiered"?EU(e,t):e;function DU(e,t=Dk){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return P3(a,i,t)}function TU(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,u=Gx(s,"selfBuffs",1122,n,l,i,r),d=Gx(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function PU(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function OU(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function IU(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const X2=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},J2=(e,t=Dk)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return P3(a,i,t)},Q2=e=>PU(e),Z2=e=>IU(e),eC=e=>OU(e),tC=(e,t=Dk)=>DU(e,t),_U=(e,t)=>TU(e,t),LU="count",O3={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Yx={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},FU={uploading:!1,message:null,url:null,buildStatus:"idle"},nC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),I3={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},sh=e=>{if(e)return I3[e]},bp=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=nC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=nC.get(a);if(i)return i}return null},Ou=e=>bp(e),_3=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=bp(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(I3).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Hh=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=bp(a);if(i)return i}return e?bp(e):null},RU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},$U=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},BU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},zU=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||RU,o=_3(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(b=>{b&&b.forEach(v=>{if(!v.id)return;let y=`Skill ${v.id}`,x;r&&(r[`s${v.id}`]?(y=r[`s${v.id}`].name||y,x=r[`s${v.id}`].icon||x):r[`${v.id}`]&&(y=r[`${v.id}`].name||y,x=r[`${v.id}`].icon||x));const w=Hh(y,v.id,a);if(!w)return;const S=a==null?void 0:a[`b${v.id}`],C=S==null?void 0:S.name,j=o.get(w)||(S==null?void 0:S.icon),M=y.startsWith("Skill ")?C||w:y,T=x||(S==null?void 0:S.icon),$=Number(v.connectedHits??0),D=Number(v.hits??0),I=$>0?$:D,O=Number(v.totalDamage??0);if(!Number.isFinite(I)&&!Number.isFinite(O))return;const q=l[w]||{name:w,icon:j,applications:0,damage:0};q.applications+=Number.isFinite(I)?I:0,q.damage+=Number.isFinite(O)?O:0,!q.icon&&j&&(q.icon=j),l[w]=q;const X=s[h][w]||{icon:j,applications:0,damage:0,skills:{}};X.applications+=Number.isFinite(I)?I:0,X.damage+=Number.isFinite(O)?O:0;const se=X.skills[M]||{name:M,hits:0,damage:0,icon:T};se.hits+=Number.isFinite(I)?I:0,se.damage+=Number.isFinite(O)?O:0,!se.icon&&T&&(se.icon=T),X.skills[M]=se,!X.icon&&j&&(X.icon=j),s[h][w]=X})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&u.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const b=Number(h==null?void 0:h.id);if(!Number.isFinite(b))return;const v=a==null?void 0:a[`b${b}`],y=bp(v==null?void 0:v.name);if(!y||v!=null&&v.classification&&v.classification!=="Condition")return;const x=y;if(!x)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,C])=>{var j;const M=u.get(S);if(!M)return;f+=1;const T=$U(C),$=BU(C);d+=T;const D=((j=s[M])==null?void 0:j[x])||{applications:0,damage:0,skills:{}};D.applicationsFromBuffs=(D.applicationsFromBuffs||0)+T,D.applicationsFromBuffsActive=(D.applicationsFromBuffsActive||0)+$,s[M]=s[M]||{},s[M][x]=D;const I=l[x]||{name:x,applications:0,damage:0};I.applicationsFromBuffs=(I.applicationsFromBuffs||0)+T,I.applicationsFromBuffsActive=(I.applicationsFromBuffsActive||0)+$,l[x]=I})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Zc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},UU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function Ls(e){return Zc[e]||Zc.Unknown}function VU(e){return e?UU[e]||e:"Unknown"}function Ic(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Zc[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=VU(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const WU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Yr=(e,t)=>WU((e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)??(e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)),Kh=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a,includePlayerSkillMap:i})=>{const o=m=>{var h;return(Array.isArray((h=m==null?void 0:m.details)==null?void 0:h.players)?m.details.players:[]).length>0},s=e.filter(m=>o(m)),l=r||Yx,u=n||O3,d=m=>{if(!m||typeof m!="object")return m;const h=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!h||h.length===0)return m;const b=C=>Array.isArray(C)&&C.some(j=>j&&Number(j.count)>0),v=new Map,y=new Map;e.forEach(C=>{var j;const M=(C==null?void 0:C.filePath)||(C==null?void 0:C.id);M&&v.set(String(M),C);const T=(C==null?void 0:C.permalink)||((j=C==null?void 0:C.details)==null?void 0:j.permalink);typeof T=="string"&&T.trim()&&y.set(T.trim(),C)});const x=h.map(C=>{var j;if(!C||typeof C!="object")return C;const M=C.id?String(C.id):"",T=typeof C.permalink=="string"?C.permalink.trim():"",$=(M?v.get(M):void 0)||(T?y.get(T):void 0);if(!$)return C;let D=C;if(Number(C.timestamp)<=0){const O=Yr($==null?void 0:$.details,$);O&&(D={...D,timestamp:O})}const I=(j=$==null?void 0:$.details)==null?void 0:j.teamBreakdown;return b(I)&&(D={...D,teamBreakdown:I}),D}),w=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],S=w.some(C=>Array.isArray(C==null?void 0:C.targetFocus)&&C.targetFocus.some(j=>Number((j==null?void 0:j.damage)||0)>0||Number((j==null?void 0:j.hits)||0)>0))?w:x.map((C,j)=>{const M=C&&typeof C.enemyClassCounts=="object"&&C.enemyClassCounts?C.enemyClassCounts:{},T=Object.entries(M).map(([H,W])=>({label:String(H||"Unknown"),count:Number(W||0)})).filter(H=>H.count>0).sort((H,W)=>W.count-H.count||H.label.localeCompare(W.label)),$=T.reduce((H,W)=>H+W.count,0),D=T.map(H=>({label:H.label,damage:H.count,hits:0,share:$>0?H.count/$:0})),I=Number((C==null?void 0:C.enemyDowns)||0),O=Number((C==null?void 0:C.enemyDeaths)||0),q=Number((C==null?void 0:C.alliesDown)||0),X=Number((C==null?void 0:C.alliesDead)||0),se=Number((C==null?void 0:C.totalOutgoingDamage)||0),we=Number((C==null?void 0:C.totalIncomingDamage)||0),ne=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:C!=null&&C.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((C==null?void 0:C.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((C==null?void 0:C.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:X>0?O/X:O},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:O},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:I},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:X},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:q},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:se-we},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:se},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:we},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((C==null?void 0:C.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((C==null?void 0:C.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((C==null?void 0:C.alliesRevived)||0)}];return{id:String((C==null?void 0:C.id)||`fight-${j+1}`),shortLabel:`F${j+1}`,fullLabel:`${String((C==null?void 0:C.mapName)||(C==null?void 0:C.label)||"Unknown Map")}  ${String((C==null?void 0:C.duration)||"--:--")}`,mapName:String((C==null?void 0:C.mapName)||""),timestamp:Number((C==null?void 0:C.timestamp)||0),duration:String((C==null?void 0:C.duration)||"--:--"),isWin:!!(C!=null&&C.isWin),targetFocus:D,squadMetrics:ne}});return{...m,fightBreakdown:x,fightDiffMode:S}},f=(()=>{if(t)return d(t);const m=a||LU,h=i!==!1,b=l.topSkillDamageSource||"target",v=l.topSkillsMetric||"damage",y=s.length;let x=0,w=0,S=0,C=0,j=0,M=0,T=0,$=0;const D=E=>{const z=((E==null?void 0:E.players)||[]).filter(Ie=>!Ie.notInSquad);let J=0,ae=0,fe=0,_e=0;return z.forEach(Ie=>{var vt;const St=(vt=Ie.defenses)==null?void 0:vt[0];if(!St)return;const zt=Number(St.downCount||0),Be=Number(St.deadCount||0);J+=zt+Be,fe+=Be}),z.forEach(Ie=>{!Ie.statsTargets||Ie.statsTargets.length===0||Ie.statsTargets.forEach(vt=>{const St=vt==null?void 0:vt[0];if(!St)return;const zt=Number(St.downed||0),Be=Number(St.killed||0);ae+=zt+Be,_e+=Be})}),{squadDownsDeaths:J,enemyDownsDeaths:ae,squadDeaths:fe,enemyDeaths:_e}},I=E=>{const{squadDownsDeaths:z,enemyDownsDeaths:J}=D(E);return z>0||J>0?J>z:typeof(E==null?void 0:E.success)=="boolean"?E.success:!1},O=new Map,q=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),X={},se={},we=new Map,ne={},H={},W={},k=new Map,V=new Map,P=new Set(Object.keys(Zc)),N=Object.keys(Zc).filter(E=>E&&E!=="Unknown").sort((E,z)=>z.length-E.length),F=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],U=E=>{if(!E)return"Unknown";const z=String(E).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(P.has(z))return z;const J=z.toLowerCase();for(const ae of N)if(J.includes(ae.toLowerCase()))return ae;return F.find(ae=>J.includes(ae.toLowerCase()))||z||"Unknown"},Q=E=>E!=null&&E.classification?E.classification==="Boon":!0,le=new Map,Y=new Map,L=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),B=E=>{const z=Number(E);return Number.isFinite(z)?z:0},re=E=>{const z=String(E).split("|"),J=z[0]||"Unknown",ae=U(z[1]||"Unknown"),fe=z[2]||J||"Unknown";return{name:J,profession:ae,account:fe}},R=(E,z,J)=>{let ae=E.get(z);return ae?J.profession&&!ae.professionList.includes(J.profession)&&ae.professionList.push(J.profession):(ae={account:J.account,name:J.name,profession:J.profession,professionList:J.profession?[J.profession]:[],activeMs:0,mitigationTotals:L()},E.set(z,ae)),ae},ce=(E,z,J)=>{let ae=E.get(z);return ae?J.profession&&!ae.professionList.includes(J.profession)&&ae.professionList.push(J.profession):(ae={account:J.account,name:J.name,profession:J.profession,professionList:J.profession?[J.profession]:[],activeMs:0,mitigationTotals:L(),minion:J.minion},E.set(z,ae)),ae},ye=(E,z)=>{E.totalHits+=B((z==null?void 0:z.skill_hits)??(z==null?void 0:z.skillHits)),E.blocked+=B(z==null?void 0:z.blocked),E.evaded+=B(z==null?void 0:z.evaded),E.glanced+=B(z==null?void 0:z.glanced),E.missed+=B(z==null?void 0:z.missed),E.invulned+=B(z==null?void 0:z.invulned),E.interrupted+=B(z==null?void 0:z.interrupted),E.totalMitigation+=B((z==null?void 0:z.avoided_damage)??(z==null?void 0:z.avoidedDamage)),E.minMitigation+=B((z==null?void 0:z.min_avoided_damage)??(z==null?void 0:z.minAvoidedDamage))},G=E=>Object.values(E).some(z=>z>0),me=new Map,Pe=E=>{const z=me.get(E);if(!z)return{hasSkill:!1,avg:1,min:1,hits:0};const J=z.connectedHits||0,ae=J>0?z.totalDamage/J:0,fe=z.minCount>0?z.minTotal/z.minCount:0;return{hasSkill:!0,avg:ae,min:fe,hits:J}},mt=new Map,Oe=new Map,ie=(E,z,J)=>{const ae=E.get(z)||L();return ae.totalHits+=J.totalHits,ae.blocked+=J.blocked,ae.evaded+=J.evaded,ae.glanced+=J.glanced,ae.missed+=J.missed,ae.invulned+=J.invulned,ae.interrupted+=J.interrupted,E.set(z,ae),ae};s.forEach(E=>{const z=E.details;z&&(z.targets||[]).forEach(J=>{const ae=(J==null?void 0:J.totalDamageDist)||[],fe=Array.isArray(ae)?ae[0]:null;fe==null||fe.forEach(_e=>{if(!(_e!=null&&_e.id))return;const Ie=Number(_e.id),vt=me.get(Ie)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};vt.totalDamage+=Number(_e.totalDamage||0),vt.connectedHits+=Number(_e.connectedHits||0);const St=Number.isFinite(Number(_e.min))?Number(_e.min):0;vt.minTotal+=St,vt.minCount+=1,me.set(Ie,vt)})})}),s.forEach(E=>{var z,J;const ae=E.details;if(!ae)return;const fe=ae.players,_e=ae.targets||[],Ie=ae.combatReplayMetaData||{},vt=(Ie==null?void 0:Ie.inchToPixel)>0?Ie.inchToPixel:1,St=(Ie==null?void 0:Ie.pollingRate)>0?Ie.pollingRate:1,zt=5e3,Be=oe=>Array.isArray(oe)?oe.map(Le=>Array.isArray(Le)?[Number(Le[0]),Number(Le[1])]:null).filter(Le=>!!Le&&Number.isFinite(Le[0])):[];let pe=[],he=ae.durationMS||0,et=!1;const ve=fe.find(oe=>(oe==null?void 0:oe.hasCommanderTag)&&!(oe!=null&&oe.notInSquad));(z=ve==null?void 0:ve.combatReplayData)!=null&&z.positions&&(pe=ve.combatReplayData.positions,Be(ve.combatReplayData.dead).forEach(([oe])=>{oe>0&&(et=!0,he=Math.min(he,oe))}));const tt=oe=>{var Le;const qe=(Le=oe.statsAll)==null?void 0:Le[0];if((qe==null?void 0:qe.distToCom)!==void 0&&(qe==null?void 0:qe.distToCom)!=="Infinity")return Math.round(Number(qe.distToCom));if((qe==null?void 0:qe.stackDist)!==void 0)return Math.round(Number(qe.stackDist))||0;if(oe.hasCommanderTag)return 0;const ht=oe.combatReplayData;if(!(ht!=null&&ht.positions)||!pe.length)return 0;const gt=ht.positions,We=Be(ht.dead),it=Be(ht.down),Ce=Math.floor((ht.start||0)/St);let Ge=0;if(We.length&&it.length)for(const[ot]of We){if(ot<0)continue;const ut=Math.max(0,Math.floor(ot/St))-Ce;for(const[Te,ft]of it){if(ot!==ft)continue;const xt=et&&Te>he?Math.max(1,Math.floor(he/St)):ut,jt=Math.max(0,Math.min(xt,gt.length,pe.length));if(jt<=0)continue;let mn=0;for(let on=0;on<jt;on++){const[ln,rt]=gt[on],[Kn,pn]=pe[on];mn+=Math.hypot(ln-Kn,rt-pn)}Ge=Math.round(mn/jt/vt)}}return Ge},nt=fe.filter(oe=>!oe.notInSquad);S+=nt.length,C+=_e.filter(oe=>!oe.isFake).length,_U(fe,{durationMS:ae.durationMS,buffMap:ae.buffMap});const{squadDeaths:wt,enemyDeaths:je}=D(ae);j+=wt,M+=je,$+=wt,T+=je,I(ae)?x++:w++;const Me=ae.skillMap?Number((J=Object.keys(ae.skillMap).find(oe=>{var Le,qe;return((qe=(Le=ae.skillMap)==null?void 0:Le[oe])==null?void 0:qe.name)==="Battle Standard"}))==null?void 0:J.replace(/^s/,"")):null;fe.forEach((oe,Le)=>{var qe,ht,gt,We,it,Ce,Ge,ot,ut,Te,ft,xt,jt;if(oe.notInSquad)return;const mn=oe.account||"Unknown",on=mn!=="Unknown"?mn:oe.name||"Unknown",ln=oe.name||"Unknown";O.has(on)||O.set(on,{name:ln,account:on,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:oe.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const rt=O.get(on);if(oe.hasCommanderTag&&(rt.isCommander=!0),ln!=="Unknown"&&rt.characterNames.add(String(ln)),oe.profession&&oe.profession!=="Unknown"){rt.profession=oe.profession,rt.professions.add(oe.profession);const Ze=Array.isArray(oe.activeTimes)&&typeof oe.activeTimes[0]=="number"?oe.activeTimes[0]:ae.durationMS||0;rt.professionTimeMs[oe.profession]=(rt.professionTimeMs[oe.profession]||0)+Ze}rt.logsJoined++,rt.downContrib+=Q2(oe),rt.cleanses+=X2(oe),rt.strips+=J2(oe,m),rt.healing+=Z2(oe),rt.barrier+=eC(oe),rt.cc+=tC(oe,m),rt.stab+=oe.stabGeneration||0;const Kn=tt(oe);Kn<=zt&&(rt.totalDist+=Kn,rt.distCount++),(qe=oe.defenses)!=null&&qe[0]&&(rt.dodges+=oe.defenses[0].dodgeCount||0,rt.downs+=oe.defenses[0].downCount||0,rt.deaths+=oe.defenses[0].deadCount||0),ae.durationMS&&(rt.totalFightMs+=ae.durationMS);const pn=Array.isArray(oe.activeTimes)&&typeof oe.activeTimes[0]=="number"?oe.activeTimes[0]:ae.durationMS||0;rt.squadActiveMs+=pn;const Cn=Yr(ae,E),Fr=Number((ae==null?void 0:ae.durationMS)||0);if(Cn>0&&((rt.firstSeenFightTs<=0||Cn<rt.firstSeenFightTs)&&(rt.firstSeenFightTs=Cn),rt.lastSeenFightTs<=0||Cn>rt.lastSeenFightTs?(rt.lastSeenFightTs=Cn,rt.lastSeenFightDurationMs=Fr):Cn===rt.lastSeenFightTs&&Fr>rt.lastSeenFightDurationMs&&(rt.lastSeenFightDurationMs=Fr)),rt.defenseActiveMs+=pn,rt.supportActiveMs+=pn,rt.healingActiveMs+=pn,Array.isArray(oe.buffUptimes)&&oe.buffUptimes.length>0&&oe.buffUptimes.forEach(Ze=>{var Re,Ye,He,Dt,Gt,hn;if(typeof(Ze==null?void 0:Ze.id)!="number")return;const Yt=`b${Ze.id}`,Qt=((Re=ae.buffMap)==null?void 0:Re[Yt])||((Ye=ae.buffMap)==null?void 0:Ye[String(Ze.id)]);if(!Qt||Q(Qt))return;const br=Number(((Dt=(He=Ze.buffData)==null?void 0:He[0])==null?void 0:Dt.uptime)??0),qa=Number(((hn=(Gt=Ze.buffData)==null?void 0:Gt[0])==null?void 0:hn.presence)??0);if((!Number.isFinite(br)||br<=0)&&(!Number.isFinite(qa)||qa<=0))return;const xn=(Qt==null?void 0:Qt.stacking)??!1,dc=(xn?Number.isFinite(br)?br:0:Number.isFinite(br)?br/100:0)*pn,Cr=xn?qa:br,fc=Math.min(Math.max(Number.isFinite(Cr)?Cr:0,0),100)/100*pn,zo=Number.isFinite(dc)&&dc>0,Em=Number.isFinite(fc)&&fc>0;if(!zo&&!Em)return;const ai=Ou(Qt==null?void 0:Qt.name);if(ai&&q8.has(ai)&&(!(Qt!=null&&Qt.classification)||Qt.classification==="Condition")){const vu=dc/1e3,ii=Qt==null?void 0:Qt.icon,pc=ne[ai]||{name:ai,icon:ii,applications:0,damage:0};pc.applicationsFromUptime=(pc.applicationsFromUptime||0)+vu,!pc.icon&&ii&&(pc.icon=ii),ne[ai]=pc;const xi=rt.outgoingConditions[ai]||{applications:0,damage:0,skills:{},icon:ii};xi.applicationsFromUptime=(xi.applicationsFromUptime||0)+vu,!xi.icon&&ii&&(xi.icon=ii),rt.outgoingConditions[ai]=xi;const ms=H[ai]||{name:ai,icon:ii,applications:0,damage:0};ms.applicationsFromUptime=(ms.applicationsFromUptime||0)+vu,!ms.icon&&ii&&(ms.icon=ii),H[ai]=ms;const hs=rt.incomingConditions[ai]||{applications:0,damage:0,skills:{},icon:ii};hs.applicationsFromUptime=(hs.applicationsFromUptime||0)+vu,!hs.icon&&ii&&(hs.icon=ii),rt.incomingConditions[ai]=hs}k.has(Yt)||k.set(Yt,{name:Qt==null?void 0:Qt.name,stacking:xn,icon:Qt==null?void 0:Qt.icon}),V.has(Yt)||V.set(Yt,new Map);const ps=V.get(Yt),Gd=rt.account||oe.account||oe.name||"Unknown";let Ui=ps.get(Gd);Ui||(Ui={account:Gd,profession:rt.profession||oe.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},ps.set(Gd,Ui));const dl=oe.profession||rt.profession;dl&&dl!=="Unknown"&&(Ui.professions.add(dl),Ui.professionTimeMs[dl]=(Ui.professionTimeMs[dl]||0)+pn,Ui.profession=dl),Ui.totalMs+=zo?dc:0,Ui.uptimeMs+=Em?fc:0,Ui.durationMs+=pn}),(ht=oe.defenses)!=null&&ht[0]){const Ze=Ye=>{let He=String(Ye||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return He.toUpperCase().includes("UNKNOWN")&&(He="Unknown"),He},Re=(()=>{const Ye=Array.isArray(oe==null?void 0:oe.minions)?oe.minions:[];if(Ye.length===0)return{total:0,byMinion:{}};let He=0;const Dt={};return Ye.forEach(Gt=>{const hn=Array.isArray(Gt==null?void 0:Gt.totalDamageTakenDist)?Gt.totalDamageTakenDist:[],Yt=Array.isArray(hn[0])?hn[0]:[],Qt=Ze(Gt==null?void 0:Gt.name);Yt.forEach(br=>{const qa=Number((br==null?void 0:br.totalDamage)??(br==null?void 0:br.damageTaken)??0);Number.isFinite(qa)&&(He+=qa,Dt[Qt]=(Dt[Qt]||0)+qa)})}),{total:He,byMinion:Dt}})();Re.byMinion&&typeof Re.byMinion=="object"&&Object.entries(Re.byMinion).forEach(([Ye,He])=>{const Dt=Number(He||0);!Number.isFinite(Dt)||Dt<=0||(rt.defenseMinionDamageTaken[Ye]=(rt.defenseMinionDamageTaken[Ye]||0)+Dt)}),v3.forEach(Ye=>{const He=Ye.id==="minionDamageTaken"?Re.total:Number(oe.defenses[0][Ye.field]??0);Number.isFinite(He)&&(rt.defenseTotals[Ye.id]=(rt.defenseTotals[Ye.id]||0)+He)})}(gt=oe.support)!=null&&gt[0]&&x3.forEach(Ze=>{let Re=Number(oe.support[0][Ze.field]??0);Number.isFinite(Re)&&(q.has(Ze.field)&&Re>999999&&(Re=0),rt.supportTotals[Ze.id]=(rt.supportTotals[Ze.id]||0)+Re)});const Tr=(Ze,Re)=>{Number.isFinite(Re)&&(rt.healingTotals[Ze]=(rt.healingTotals[Ze]||0)+Re)},In=(Ze,Re)=>Array.isArray(Ze)?Ze.reduce((Ye,He)=>Ye+Number((He==null?void 0:He[Re])??0),0):0,Da=(Ze,Re,Ye)=>{if(!Number.isFinite(Ye)||Ye<=0)return;const He=fe[Re],Dt=Re===Le,Gt=He==null?void 0:He.notInSquad,hn=!Gt,Yt=hn&&(He==null?void 0:He.group)!=null&&He.group===oe.group;Tr(Ze,Ye),hn&&Tr(`squad${Ze[0].toUpperCase()}${Ze.slice(1)}`,Ye),Yt&&Tr(`group${Ze[0].toUpperCase()}${Ze.slice(1)}`,Ye),Dt&&Tr(`self${Ze[0].toUpperCase()}${Ze.slice(1)}`,Ye),Gt&&Tr(`offSquad${Ze[0].toUpperCase()}${Ze.slice(1)}`,Ye)};if(Array.isArray(oe.rotation)){let Ze=0;oe.rotation.forEach(Re=>{var Ye;if(!(Re!=null&&Re.id)||!X8(Re.id,ae.skillMap))return;const He=((Ye=Re.skills)==null?void 0:Ye.length)||0;He>0&&(Ze+=He,Tr(`resUtility_s${Re.id}`,He))}),Ze>0&&Tr("resUtility",Ze)}const ra=(We=oe.extHealingStats)==null?void 0:We.outgoingHealingAllies;Array.isArray(ra)&&ra.forEach((Ze,Re)=>{const Ye=In(Ze,"healing"),He=In(Ze,"downedHealing");Da("healing",Re,Ye),Da("downedHealing",Re,He)});const ni=(it=oe.extBarrierStats)==null?void 0:it.outgoingBarrierAllies;Array.isArray(ni)&&ni.forEach((Ze,Re)=>{const Ye=In(Ze,"barrier");Da("barrier",Re,Ye)});const uc=(Ce=oe.statsAll)==null?void 0:Ce[0],Ta=(Ge=oe.dpsAll)==null?void 0:Ge[0],fs=(ot=oe.support)==null?void 0:ot[0];if(b3.forEach(Ze=>{if(Ze.id==="downContributionPercent"||!Ze.field)return;let Re=0,Ye=0;Ze.source==="dpsAll"&&Ta?Re=Number(Ta[Ze.field]??0):Ze.source==="statsAll"&&uc?(Re=Number(uc[Ze.field]??0),Ye=Number(uc[Ze.denomField||Ze.weightField||"connectedDamageCount"]??0)):Ze.source==="support"&&fs?Re=Number(fs[Ze.field]??0):oe.statsTargets&&oe.statsTargets.forEach(He=>{He!=null&&He[0]&&(Re+=Number(He[0][Ze.field]??0),Ye+=Number(He[0][Ze.denomField||Ze.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Re)&&(rt.offenseTotals[Ze.id]=(rt.offenseTotals[Ze.id]||0)+Re,Ze.isRate&&Ye>0&&(rt.offenseRateWeights[Ze.id]=(rt.offenseRateWeights[Ze.id]||0)+Ye))}),oe.targetDamageDist&&Number.isFinite(Me)){const Ze=oe.targetDamageDist.flatMap(Re=>Re||[]).flatMap(Re=>Re||[]).reduce((Re,Ye)=>Ye!=null&&Ye.id&&Ye.id===Me?Re+((Ye==null?void 0:Ye.connectedHits)||0):Re,0);rt.offenseTotals.battleStandardHits=(rt.offenseTotals.battleStandardHits||0)+Ze}rt.revives+=((Te=(ut=oe.support)==null?void 0:ut[0])==null?void 0:Te.resurrects)||0,Ta&&(rt.damage+=Ta.damage||0,rt.dps+=Ta.dps||0);const ri=Ze=>{var Re,Ye,He,Dt;let Gt=`Skill ${Ze.id}`;const hn=((Re=ae.skillMap)==null?void 0:Re[`s${Ze.id}`])||((Ye=ae.skillMap)==null?void 0:Ye[`${Ze.id}`]);let Yt=hn==null?void 0:hn.icon;if(hn!=null&&hn.name&&(Gt=hn.name),Gt.startsWith("Skill ")){const Qt=Hh(Gt,Ze.id,ae.buffMap);Qt&&(Gt=Qt,Yt=((Dt=(He=ae.buffMap)==null?void 0:He[`b${Ze.id}`])==null?void 0:Dt.icon)||Yt)}return{name:Gt,icon:Yt}},zi=Ze=>{if(!(Ze!=null&&Ze.id))return;const{name:Re,icon:Ye}=ri(Ze);X[Ze.id]||(X[Ze.id]={name:Re,icon:Ye,damage:0,hits:0,downContribution:0}),X[Ze.id].name.startsWith("Skill ")&&!Re.startsWith("Skill ")&&(X[Ze.id].name=Re),!X[Ze.id].icon&&Ye&&(X[Ze.id].icon=Ye),X[Ze.id].damage+=Ze.totalDamage,X[Ze.id].hits+=Ze.connectedHits,X[Ze.id].downContribution+=Number(Ze.downContribution||0)},Dn=oe.account||oe.name||"Unknown",vi=oe.profession||"Unknown",aa=`${Dn}|${vi}`;let Wa=we.get(aa);Wa||(Wa={key:aa,account:Dn,displayName:Dn,profession:vi,professionList:[vi],totalFightMs:0,skills:new Map},we.set(aa,Wa)),Wa.professionList.includes(vi)||Wa.professionList.push(vi),Wa.totalFightMs+=ae.durationMS||0;const Fn=Ze=>{if(!(Ze!=null&&Ze.id))return;const{name:Re,icon:Ye}=ri(Ze),He=`s${Ze.id}`;let Dt=Wa.skills.get(He);Dt||(Dt={id:He,name:Re,icon:Ye,damage:0,downContribution:0},Wa.skills.set(He,Dt)),Dt.name.startsWith("Skill ")&&!Re.startsWith("Skill ")&&(Dt.name=Re),!Dt.icon&&Ye&&(Dt.icon=Ye),Dt.damage+=Number(Ze.totalDamage||0),Dt.downContribution+=Number(Ze.downContribution||0)};if(b==="total")(ft=oe.totalDamageDist)==null||ft.forEach(Ze=>{Ze==null||Ze.forEach(Re=>{zi(Re),Fn(Re)})});else{const Ze=new Map;(xt=oe.targetDamageDist)==null||xt.forEach(Re=>{Re==null||Re.forEach(Ye=>{Ye==null||Ye.forEach(He=>{const Dt=Number(He==null?void 0:He.id);if(Number.isFinite(Dt)){const Gt=Ze.get(Dt)||{damage:0,hits:0,downContribution:0};Gt.damage+=Number((He==null?void 0:He.totalDamage)||0),Gt.hits+=Number((He==null?void 0:He.connectedHits)||0),Gt.downContribution+=Number((He==null?void 0:He.downContribution)||0),Ze.set(Dt,Gt)}zi(He),Fn(He)})})}),!(ae!=null&&ae.detailedWvW)&&((jt=oe.totalDamageDist)==null||jt.forEach(Re=>{Re==null||Re.forEach(Ye=>{const He=Number(Ye==null?void 0:Ye.id);if(!Number.isFinite(He))return;const Dt=Ze.get(He);if(!Dt){zi(Ye),Fn(Ye);return}const Gt=Number((Ye==null?void 0:Ye.totalDamage)||0),hn=Number((Ye==null?void 0:Ye.connectedHits)||0),Yt=Number((Ye==null?void 0:Ye.downContribution)||0),Qt=Gt-Number(Dt.damage||0),br=hn-Number(Dt.hits||0),qa=Yt-Number(Dt.downContribution||0);if(Qt<=0&&br<=0&&qa<=0)return;const xn={...Ye,totalDamage:Math.max(0,Qt),connectedHits:Math.max(0,br),downContribution:Math.max(0,qa)};zi(xn),Fn(xn)})}))}oe.totalDamageTaken&&oe.totalDamageTaken.forEach(Ze=>{Ze==null||Ze.forEach(Re=>{var Ye,He,Dt,Gt;if(!(Re!=null&&Re.id))return;let hn=`Skill ${Re.id}`;const Yt=((Ye=ae.skillMap)==null?void 0:Ye[`s${Re.id}`])||((He=ae.skillMap)==null?void 0:He[`${Re.id}`]);let Qt=Yt==null?void 0:Yt.icon;if(Yt!=null&&Yt.name&&(hn=Yt.name),hn.startsWith("Skill ")){const br=Hh(hn,Re.id,ae.buffMap);br&&(hn=br,Qt=((Gt=(Dt=ae.buffMap)==null?void 0:Dt[`b${Re.id}`])==null?void 0:Gt.icon)||Qt)}se[Re.id]||(se[Re.id]={name:hn,icon:Qt,damage:0,hits:0}),(!se[Re.id].name.startsWith("Skill ")||hn.startsWith("Skill "))&&(se[Re.id].name=hn),!se[Re.id].icon&&Qt&&(se[Re.id].icon=Qt),se[Re.id].damage+=Re.totalDamage,se[Re.id].hits+=Re.hits})})}),_e.forEach(oe=>{if(oe!=null&&oe.isFake)return;const Le=U((oe==null?void 0:oe.profession)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.id));Le&&(W[Le]=(W[Le]||0)+1)});const Se=zU({players:fe,targets:_e,skillMap:ae.skillMap,buffMap:ae.buffMap,getPlayerKey:oe=>oe.account&&oe.account!=="Unknown"?oe.account:oe.name||null}),De=_3(ae.buffMap);Object.entries(Se.playerConditions).forEach(([oe,Le])=>{const qe=O.get(oe);qe&&Object.entries(Le).forEach(([ht,gt])=>{const We=qe.outgoingConditions[ht]||{applications:0,damage:0,skills:{},icon:gt.icon};We.applications+=Number(gt.applications||0),We.damage+=Number(gt.damage||0),gt.applicationsFromBuffs&&(We.applicationsFromBuffs=(We.applicationsFromBuffs||0)+gt.applicationsFromBuffs),gt.applicationsFromBuffsActive&&(We.applicationsFromBuffsActive=(We.applicationsFromBuffsActive||0)+gt.applicationsFromBuffsActive),Object.entries(gt.skills||{}).forEach(([it,Ce])=>{const Ge=We.skills[it]||{name:Ce.name,hits:0,damage:0,icon:Ce.icon};Ge.hits+=Number(Ce.hits||0),Ge.damage+=Number(Ce.damage||0),!Ge.icon&&Ce.icon&&(Ge.icon=Ce.icon),We.skills[it]=Ge}),!We.icon&&gt.icon&&(We.icon=gt.icon),qe.outgoingConditions[ht]=We})}),Object.entries(Se.summary).forEach(([oe,Le])=>{const qe=ne[oe]||{name:Le.name||oe,icon:Le.icon,applications:0,damage:0};qe.applications+=Number(Le.applications||0),qe.damage+=Number(Le.damage||0),Le.applicationsFromBuffs&&(qe.applicationsFromBuffs=(qe.applicationsFromBuffs||0)+Le.applicationsFromBuffs),Le.applicationsFromBuffsActive&&(qe.applicationsFromBuffsActive=(qe.applicationsFromBuffsActive||0)+Le.applicationsFromBuffsActive),!qe.icon&&Le.icon&&(qe.icon=Le.icon),ne[oe]=qe}),nt.forEach(oe=>{const Le=oe.account&&oe.account!=="Unknown"?oe.account:oe.name||"Unknown",qe=O.get(Le);!qe||!oe.totalDamageTaken||oe.totalDamageTaken.forEach(ht=>ht==null?void 0:ht.forEach(gt=>{var We,it,Ce,Ge,ot,ut;if(!(gt!=null&&gt.id))return;let Te=`Skill ${gt.id}`;const ft=((We=ae.skillMap)==null?void 0:We[`s${gt.id}`])||((it=ae.skillMap)==null?void 0:it[`${gt.id}`]);ft!=null&&ft.name&&(Te=ft.name);const xt=Hh(Te,gt.id,ae.buffMap);if(!xt)return;const jt=(Ge=(Ce=ae.buffMap)==null?void 0:Ce[`b${gt.id}`])==null?void 0:Ge.name,mn=De.get(xt)||((ut=(ot=ae.buffMap)==null?void 0:ot[`b${gt.id}`])==null?void 0:ut.icon),on=(ft==null?void 0:ft.icon)||mn;Te.startsWith("Skill ")&&(jt||xt)&&(Te=jt||xt);const ln=Number(gt.hits??0),rt=Number(gt.totalDamage??0),Kn=H[xt]||{name:xt,icon:mn,applications:0,damage:0};Kn.applications+=Number.isFinite(ln)?ln:0,Kn.damage+=Number.isFinite(rt)?rt:0,!Kn.icon&&mn&&(Kn.icon=mn),H[xt]=Kn;const pn=qe.incomingConditions[xt]||{applications:0,damage:0,skills:{},icon:mn};pn.applications+=Number.isFinite(ln)?ln:0,pn.damage+=Number.isFinite(rt)?rt:0;const Cn=pn.skills[Te]||{name:Te,hits:0,damage:0,icon:on};Cn.hits+=Number.isFinite(ln)?ln:0,Cn.damage+=Number.isFinite(rt)?rt:0,!Cn.icon&&on&&(Cn.icon=on),pn.skills[Te]=Cn,!pn.icon&&mn&&(pn.icon=mn),qe.incomingConditions[xt]=pn}))});const $e=ae.player_damage_mitigation||ae.playerDamageMitigation,ge=$e&&typeof $e=="object"&&Object.keys($e).length>0;ge&&Object.entries($e).forEach(([oe,Le])=>{if(!Le||typeof Le!="object")return;const qe=re(oe),ht=R(le,qe.account,qe);Object.values(Le).forEach(gt=>{B((gt==null?void 0:gt.avoided_damage)??(gt==null?void 0:gt.avoidedDamage))<=0||ye(ht.mitigationTotals,gt)})});const ze=ae.player_minion_damage_mitigation||ae.playerMinionDamageMitigation,Je=ze&&typeof ze=="object"&&Object.keys(ze).length>0;Je&&Object.entries(ze).forEach(([oe,Le])=>{if(!Le||typeof Le!="object")return;const qe=re(oe);Object.entries(Le).forEach(([ht,gt])=>{if(!gt||typeof gt!="object")return;const We=`${qe.account}::${ht}`,it=ce(Y,We,{...qe,minion:String(ht||"Unknown")});Object.values(gt).forEach(Ce=>{ye(it.mitigationTotals,Ce)})})}),(!ge||!Je)&&(ge||nt.forEach(oe=>{const Le=(oe==null?void 0:oe.totalDamageTaken)||[];if(!Array.isArray(Le)||Le.length===0)return;const qe=oe.account||oe.name||"Unknown",ht={account:qe,name:oe.name||qe,profession:U(oe.profession||"Unknown")};R(le,qe,ht);const gt=Array.isArray(Le)?Le[0]:null;gt==null||gt.forEach(We=>{if(!(We!=null&&We.id))return;const it=B(We.blocked),Ce=B(We.evaded),Ge=B(We.glance??We.glanced),ot=B(We.missed),ut=B(We.invulned),Te=B(We.interrupted),ft=B(We.hits??We.connectedHits),xt=Number(We.id);ie(mt,`${qe}::${xt}`,{totalHits:ft,blocked:it,evaded:Ce,glanced:Ge,missed:ot,invulned:ut,interrupted:Te})})}),Je||nt.forEach(oe=>{const Le=(oe==null?void 0:oe.minions)||[];if(!Array.isArray(Le)||Le.length===0)return;const qe=oe.account||oe.name||"Unknown",ht={account:qe,name:oe.name||qe,profession:U(oe.profession||"Unknown")};Le.forEach(gt=>{const We=(gt==null?void 0:gt.totalDamageTakenDist)||[];if(!Array.isArray(We)||We.length===0)return;let it=String((gt==null?void 0:gt.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";it.toUpperCase().includes("UNKNOWN")&&(it="Unknown");const Ce=`${qe}::${it}`;ce(Y,Ce,{...ht,minion:it});const Ge=Array.isArray(We)?We[0]:null;Ge==null||Ge.forEach(ot=>{if(!(ot!=null&&ot.id))return;const ut=B(ot.blocked),Te=B(ot.evaded),ft=B(ot.glance??ot.glanced),xt=B(ot.missed),jt=B(ot.invulned),mn=B(ot.interrupted),on=B(ot.hits??ot.connectedHits),ln=Number(ot.id);ie(Oe,`${Ce}::${ln}`,{totalHits:on,blocked:ut,evaded:Te,glanced:ft,missed:xt,invulned:jt,interrupted:mn})})})}))});const Fe=(E,z)=>{const J=new Map,ae=fe=>{let _e=J.get(fe);return _e||(_e=L(),J.set(fe,_e)),_e};z.forEach((fe,_e)=>{const Ie=_e.lastIndexOf("::"),vt=Ie>-1?_e.slice(0,Ie):_e,St=Ie>-1?Number(_e.slice(Ie+2)):Number.NaN,zt=Number.isFinite(St)?Pe(St):{hasSkill:!1,avg:0,min:0,hits:0};if(!zt.hasSkill||zt.hits<=0)return;const Be=zt.avg,pe=zt.min,he=fe.glanced*Be/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*Be,et=fe.glanced*pe/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*pe;if(he<=0)return;const ve=ae(vt);ve.totalHits+=fe.totalHits,ve.blocked+=fe.blocked,ve.evaded+=fe.evaded,ve.glanced+=fe.glanced,ve.missed+=fe.missed,ve.invulned+=fe.invulned,ve.interrupted+=fe.interrupted,ve.totalMitigation+=he,ve.minMitigation+=et}),E.forEach((fe,_e)=>{const Ie=J.get(_e)||L();fe.mitigationTotals.totalHits=Ie.totalHits,fe.mitigationTotals.blocked=Ie.blocked,fe.mitigationTotals.evaded=Ie.evaded,fe.mitigationTotals.glanced=Ie.glanced,fe.mitigationTotals.missed=Ie.missed,fe.mitigationTotals.invulned=Ie.invulned,fe.mitigationTotals.interrupted=Ie.interrupted,fe.mitigationTotals.totalMitigation=Ie.totalMitigation,fe.mitigationTotals.minMitigation=Ie.minMitigation})};Fe(le,mt),Fe(Y,Oe);const te=y>0?Math.round(S/y):0,bt=y>0?Math.round(C/y):0,Lt=j>0?(M/j).toFixed(2):M>0?"":"0.00",zn=T>0?($/T).toFixed(2):$>0?"":"0.00",Ne=(E,z)=>{const J=E.filter(_e=>Number.isFinite(_e.value)&&(z?_e.value>0:_e.value>=0)).sort((_e,Ie)=>{const vt=z?Ie.value-_e.value:_e.value-Ie.value;return vt!==0?vt:_e.account.localeCompare(Ie.account)});let ae=null,fe=0;return J.map((_e,Ie)=>((ae===null||_e.value!==ae)&&(fe=Ie+1,ae=_e.value),{rank:fe,..._e}))},Qe=Array.from(O.values()).map(E=>{const z=Array.from(E.professions).filter(J=>J!=="Unknown");if(E.professionList=z,z.length>0){let J=z[0],ae=E.professionTimeMs[J]||0;z.forEach(fe=>{const _e=E.professionTimeMs[fe]||0;_e>ae&&(ae=_e,J=fe)}),E.profession=J}return{key:E.account,stat:E}}),Ft=E=>{const z=O.get(E.account);if(!z){const fe=E.professionList.length>0?E.professionList:E.profession?[E.profession]:[];return{...E,professionList:fe}}const J=z.professionList&&z.professionList.length>0?z.professionList:Array.from(z.professions||[]).filter(fe=>fe&&fe!=="Unknown"),ae=z.profession||E.profession;return{...E,profession:ae,professionList:J.length>0?J:ae?[ae]:[],activeMs:z.defenseActiveMs||z.totalFightMs||E.activeMs}},an=Array.from(le.values()).map(Ft).filter(E=>G(E.mitigationTotals)).sort((E,z)=>E.account.localeCompare(z.account)),sn=Array.from(Y.values()).map(Ft).filter(E=>E.mitigationTotals.totalMitigation>0).sort((E,z)=>{const J=E.account.localeCompare(z.account);return J!==0?J:String(E.minion||"").localeCompare(String(z.minion||""))}),hr=(E,z)=>{switch(z){case"downContrib":return E.downContrib;case"barrier":return E.barrier;case"healing":return E.healing;case"dodges":return E.dodges;case"strips":return E.strips;case"cleanses":return E.cleanses;case"cc":return E.cc;case"stability":return E.stab;case"revives":return E.revives;case"dps":return E.dps;case"damage":return E.damage;case"participation":return E.logsJoined;case"closestToTag":return!E.isCommander&&E.distCount>0?E.totalDist/E.distCount:Number.POSITIVE_INFINITY;default:return 0}},Qn=(E,z)=>Ne(Qe.map(({stat:J})=>({account:J.account,profession:J.profession,professionList:J.professionList,value:hr(J,E),count:J.logsJoined})),z),dn={downContrib:Qn("downContrib",!0),barrier:Qn("barrier",!0),healing:Qn("healing",!0),dodges:Qn("dodges",!0),strips:Qn("strips",!0),cleanses:Qn("cleanses",!0),cc:Qn("cc",!0),stability:Qn("stability",!0),revives:Qn("revives",!0),participation:Qn("participation",!0),dps:Qn("dps",!0),damage:Qn("damage",!0),closestToTag:Qn("closestToTag",!1).filter(E=>Number.isFinite(E.value))},Aa={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},gn=E=>{const z=E==null?void 0:E[0];return{value:(z==null?void 0:z.value)??0,player:(z==null?void 0:z.account)??"-",count:(z==null?void 0:z.count)??0,profession:(z==null?void 0:z.profession)??"Unknown",professionList:(z==null?void 0:z.professionList)??[]}},Ln={maxDownContrib:gn([]),maxBarrier:gn([]),maxHealing:gn([]),maxDodges:gn([]),maxStrips:gn([]),maxCleanses:gn([]),maxCC:gn([]),maxStab:gn([]),closestToTag:gn([])},gr={},En=(E,z)=>{if(z==="closestToTag")return hr(E,z);const J=Math.max(1,(E.totalFightMs||0)/1e3);return hr(E,z)/J};Object.values(Aa).forEach(E=>{const z=E!=="closestToTag";gr[E]=Ne(Qe.map(({stat:J})=>({account:J.account,profession:J.profession,professionList:J.professionList,value:En(J,E),count:J.logsJoined})),z)}),Ln.maxDownContrib=gn(gr.downContrib),Ln.maxBarrier=gn(gr.barrier),Ln.maxHealing=gn(gr.healing),Ln.maxDodges=gn(gr.dodges),Ln.maxStrips=gn(gr.strips),Ln.maxCleanses=gn(gr.cleanses),Ln.maxCC=gn(gr.cc),Ln.maxStab=gn(gr.stability),Ln.closestToTag=gn(gr.closestToTag);const sc={maxDownContrib:gn(dn.downContrib),maxBarrier:gn(dn.barrier),maxHealing:gn(dn.healing),maxDodges:gn(dn.dodges),maxStrips:gn(dn.strips),maxCleanses:gn(dn.cleanses),maxCC:gn(dn.cc),maxStab:gn(dn.stability),closestToTag:gn(dn.closestToTag)};let ya={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Lr,yu,lc=0;if(l!=null&&l.showMvp){const E={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},z=_e=>{const Ie=E[_e];return Ie?Number(u[Ie]||0)>0:!1},J=[],ae=_e=>[..._e||[]].filter(Ie=>z(Ie==null?void 0:Ie.name)).sort((Ie,vt)=>vt.ratio-Ie.ratio||Ie.rank-vt.rank||Ie.name.localeCompare(vt.name)).slice(0,3),fe=_e=>{var Ie;if(!_e)return;const vt=ae(_e.contribs);return{..._e,player:_e.name,reason:((Ie=vt[0])==null?void 0:Ie.name)||"Top Performance",topStats:vt}};Qe.forEach(({stat:_e})=>{let Ie=0;const vt=[],St=(zt,Be,pe,he,et=!0)=>{var ve,tt;if(pe<=0)return;const nt=((ve=Be[0])==null?void 0:ve.value)||0;if(nt&&Number.isFinite(zt)&&(et?zt>0:zt<Number.POSITIVE_INFINITY)){const wt=et?zt/nt:nt/zt;Ie+=wt*pe;const je=((tt=Be.find(Me=>Me.account===_e.account))==null?void 0:tt.rank)||0;vt.push({name:he,ratio:wt,val:zt.toLocaleString(),rank:je})}};St(_e.downContrib,dn.downContrib,u.downContribution,"Down Contribution"),St(_e.healing,dn.healing,u.healing,"Healing"),St(_e.cleanses,dn.cleanses,u.cleanses,"Cleanses"),St(_e.strips,dn.strips,u.strips,"Strips"),St(_e.stab,dn.stability,u.stability,"Stability"),St(_e.cc,dn.cc,u.cc,"CC"),St(_e.revives,dn.revives,u.revives,"Revives"),St(hr(_e,"closestToTag"),dn.closestToTag,u.distanceToTag,"Distance to Tag",!1),St(_e.logsJoined,dn.participation,u.participation,"Participation"),St(_e.dodges,dn.dodges,u.dodging,"Dodging"),St(_e.dps,dn.dps,u.dps,"DPS"),St(_e.damage,dn.damage,u.damage,"Damage"),J.push({..._e,score:Ie,contribs:vt.filter(zt=>z(zt.name))})}),J.sort((_e,Ie)=>Ie.score-_e.score),J[0]&&J[0].score>0&&(ya=fe(J[0])||ya),Lr=fe(J[1]),yu=fe(J[2]),lc=J.length>0?J.reduce((_e,Ie)=>_e+Ie.score,0)/J.length:0}const Ro=Object.values(X).sort((E,z)=>z.damage-E.damage||z.hits-E.hits||String(E.name||"").localeCompare(String(z.name||""))).slice(0,25),Ma=Object.values(X).sort((E,z)=>z.downContribution-E.downContribution||z.hits-E.hits||String(E.name||"").localeCompare(String(z.name||""))).slice(0,25),fo=v==="downContribution"?Ma:Ro,ba=Object.values(se).sort((E,z)=>z.damage-E.damage).slice(0,25),Kr=E=>{const z=String(E).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),J=z.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return J?`${J[1]} Borderlands`:z||"Unknown"},Ea=(E,z)=>Kr((E==null?void 0:E.zone)||(E==null?void 0:E.mapName)||(E==null?void 0:E.map)||(E==null?void 0:E.location)||(E==null?void 0:E.fightName)||(z==null?void 0:z.fightName)||(z==null?void 0:z.encounterName)||"Unknown"),va=(E,z)=>{const J=(z==null?void 0:z.permalink)||(E==null?void 0:E.permalink);if(typeof J=="string"&&J.trim().length>0)return J.trim();const ae=E==null?void 0:E.uploadLinks;if(!Array.isArray(ae))return"";for(const fe of ae){if(typeof fe=="string"&&fe.trim().length>0)return fe.trim();if(fe&&typeof fe=="object"){const _e=fe.permalink||fe.link||fe.url||fe.reportLink;if(typeof _e=="string"&&_e.trim().length>0)return _e.trim()}}return""},ll=(E,z)=>{const J=Number((E==null?void 0:E.durationMS)||0);return J>0?oh(J):(typeof(z==null?void 0:z.encounterDuration)=="string"?z.encounterDuration.trim():"")||"--:--"},ds=(E,z)=>{if((Array.isArray(E==null?void 0:E.players)?E.players:[]).length>0)return I(E);if(typeof(E==null?void 0:E.success)=="boolean")return E.success;const J=z==null?void 0:z.dashboardSummary;if(J&&typeof J=="object"){if(J.isWin===!0)return!0;if(J.isWin===!1)return!1}return null},Bi=(E,z)=>{var J,ae;const fe=Yr((J=E.log)==null?void 0:J.details,E.log),_e=Yr((ae=z.log)==null?void 0:ae.details,z.log),Ie=fe>0,vt=_e>0;return Ie&&vt&&fe!==_e?fe-_e:Ie!==vt?Ie?-1:1:E.originalIndex-z.originalIndex},Zn=e.map((E,z)=>({log:E,originalIndex:z})).sort(Bi),po=Zn.filter(({log:E})=>o(E)),$o={};s.forEach(E=>{const z=Ea(E==null?void 0:E.details,E);$o[z]=($o[z]||0)+1});const cc=Object.entries($o).map(([E,z])=>{const J=String(E).trim(),ae=/eternal battlegrounds|^ebg$/i.test(J);let fe="#64748b";return ae?fe="#ffffff":/red/i.test(J)?fe="#ef4444":/blue/i.test(J)?fe="#3b82f6":/green/i.test(J)&&(fe="#22c55e"),{name:E,value:z,color:fe}}).sort((E,z)=>z.value-E.value),{boonTables:cl}=NU(s),Kd=(()=>{const E=pe=>String(pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=pe=>E(pe).toLowerCase().split(/[^a-z0-9]+/i).map(he=>he.trim()).filter(Boolean).map(he=>he.length>3&&he.endsWith("s")?he.slice(0,-1):he),J=(pe,he)=>{const et=E(pe),ve=E(he);if(!ve)return et;if(!et)return ve;const tt=z(et),nt=z(ve),wt=new Set(tt),je=new Set(nt),Me=nt.length>0&&nt.every(De=>wt.has(De)),Se=tt.length>0&&tt.every(De=>je.has(De));return Me||Se?et:`${et} - ${ve}`},ae=new Map,fe=(pe,he)=>{if(!ae.has(pe))ae.set(pe,{id:pe,name:String((he==null?void 0:he.name)||pe),icon:he==null?void 0:he.icon,stacking:!!(he!=null&&he.stacking),players:new Map,fights:[]});else if(he){const et=ae.get(pe);(!et.name||et.name===pe)&&he!=null&&he.name&&(et.name=String(he.name)),!et.icon&&he!=null&&he.icon&&(et.icon=String(he.icon)),!et.stacking&&he!=null&&he.stacking&&(et.stacking=!0)}return ae.get(pe)},_e=pe=>Array.isArray(pe)?pe.map(he=>Array.isArray(he)?[Number(he[0]),Number(he[1])]:he&&typeof he=="object"?[Number(he.time),Number(he.value)]:null).filter(he=>!!he&&Number.isFinite(he[0])&&Number.isFinite(he[1])&&he[0]>=0).sort((he,et)=>he[0]-et[0]):[],Ie=(pe,he,et)=>{const ve=pe.get(he)||[];ve.length<et&&(ve.length=et);for(let tt=0;tt<et;tt+=1)Number.isFinite(ve[tt])||(ve[tt]=0);return pe.set(he,ve),ve},vt=(pe,he,et,ve,tt)=>{if(!he||he==="__all__"||ve<=0)return;const nt=_e(et);if(nt.length===0)return;const wt=Ie(pe,he,ve),je=Math.max(1,Number(tt||0),ve*5e3),Me=ge=>Math.max(0,Math.min(je,Number(ge||0))),Se=(ge,ze,Je)=>{if(!Number.isFinite(Je)||Je<=0)return;let oe=Me(ge);const Le=Me(ze);if(!(Le<=oe))for(;oe<Le;){const qe=Math.max(0,Math.min(ve-1,Math.floor(oe/5e3))),ht=Math.min(Le,(qe+1)*5e3),gt=Math.max(0,ht-oe);gt>0&&(wt[qe]=Number(wt[qe]||0)+gt*Je),oe=ht}};let De=Me(nt[0][0]),$e=Math.max(0,Number(nt[0][1]||0));for(let ge=1;ge<nt.length;ge+=1){const[ze,Je]=nt[ge],oe=Me(ze);Se(De,oe,$e),De=oe,$e=Math.max(0,Number(Je||0))}Se(De,je,$e)},St=(pe,he,et)=>{const ve=Array.from({length:et},(wt,je)=>Number((pe==null?void 0:pe[je])||0)),tt=ve.reduce((wt,je)=>wt+Number(je||0),0);if(!Number.isFinite(he)||he<=0)return ve.map(()=>0);if(!Number.isFinite(tt)||tt<=0){const wt=he/Math.max(1,et);return ve.map(()=>wt)}const nt=he/tt;return ve.map(wt=>Number(wt||0)*nt)},zt=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),Be=(pe,he,et)=>{const ve=Math.max(0,Number(et||0));ve&&(pe[he]=Number(pe[he]||0)+ve,(he==="selfBuffs"||he==="squadBuffs")&&(pe.totalBuffs=Number(pe.totalBuffs||0)+ve))};return s.map(pe=>({log:pe,ts:Yr(pe==null?void 0:pe.details,pe)})).sort((pe,he)=>pe.ts-he.ts).forEach(({log:pe},he)=>{const et=pe==null?void 0:pe.details;if(!et)return;const ve=(Array.isArray(et.players)?et.players:[]).filter(Le=>!(Le!=null&&Le.notInSquad)),tt=ve.length;if(tt<=0)return;const nt=Math.max(0,Number((et==null?void 0:et.durationMS)||0)),wt=Math.max(1,Math.ceil(Math.max(1,nt)/5e3)),je=et!=null&&et.buffMap&&typeof et.buffMap=="object"?et.buffMap:{},Me=new Map,Se=new Map;ve.forEach(Le=>{const qe=Number((Le==null?void 0:Le.group)??0);Se.set(qe,(Se.get(qe)||0)+1);const ht=String((Le==null?void 0:Le.account)||(Le==null?void 0:Le.name)||"Unknown");[Le==null?void 0:Le.name,Le==null?void 0:Le.display_name,Le==null?void 0:Le.character_name,Le==null?void 0:Le.account].map(gt=>String(gt||"").trim()).filter(Boolean).forEach(gt=>Me.set(gt,ht))});const De=E(et.fightName||pe.fightName||`Fight ${he+1}`),$e=Ea(et,pe),ge=J(De,String($e||"")),ze=new Map,Je=new Map,oe=new Map;ve.forEach(Le=>{const qe=String((Le==null?void 0:Le.account)||(Le==null?void 0:Le.name)||"Unknown"),ht=String((Le==null?void 0:Le.profession)||"Unknown"),gt=qe,We=Number((Le==null?void 0:Le.group)??0),it=Math.max(1,Number(Se.get(We)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(Ce=>{(Array.isArray(Le==null?void 0:Le[Ce])?Le[Ce]:[]).forEach(Ge=>{var ot;const ut=Number(Ge==null?void 0:Ge.id);if(!Number.isFinite(ut))return;const Te=`b${ut}`,ft=je[Te]||{},xt=String((ft==null?void 0:ft.classification)||"");if(xt&&xt!=="Boon")return;const jt=Number(((ot=Gx(Le,Ce,ut,nt,it,tt,je))==null?void 0:ot.generationMs)||0);if(!Number.isFinite(jt)||jt<=0)return;const mn=fe(Te,ft),on=mn.players.get(gt)||{key:gt,account:qe,displayName:qe,profession:ht,professionList:ht&&ht!=="Unknown"?[ht]:[],logs:0,totals:zt()};ht&&ht!=="Unknown"&&!on.professionList.includes(ht)&&on.professionList.push(ht),(!on.profession||on.profession==="Unknown")&&ht&&ht!=="Unknown"&&(on.profession=ht);const ln=oe.get(Te)||new Set;ln.has(gt)||(ln.add(gt),on.logs+=1,oe.set(Te,ln)),Be(on.totals,Ce,jt),mn.players.set(gt,on);const rt=mn.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:zt()};Be(rt.totals,Ce,jt),mn.players.set("__all__",rt);const Kn=ze.get(Te)||new Map,pn=Kn.get(gt)||zt();Be(pn,Ce,jt),Kn.set(gt,pn);const Cn=Kn.get("__all__")||zt();Be(Cn,Ce,jt),Kn.set("__all__",Cn),ze.set(Te,Kn);const Fr=Array.isArray(Le==null?void 0:Le.buffUptimes)?Le.buffUptimes.find(In=>Number(In==null?void 0:In.id)===ut):null,Tr=Fr!=null&&Fr.statesPerSource&&typeof Fr.statesPerSource=="object"?Fr.statesPerSource:null;if(Tr){const In=Je.get(Te)||new Map;Object.entries(Tr).forEach(([Da,ra])=>{const ni=Me.get(String(Da||"").trim());ni&&vt(In,ni,ra,wt,nt)}),Je.set(Te,In)}})})}),ze.forEach((Le,qe)=>{const ht=ae.get(qe);if(!ht)return;const gt=Je.get(qe)||new Map,We={};let it=Array.from({length:wt},()=>0),Ce=0;Le.forEach((Te,ft)=>{const xt={selfBuffs:Number((Te==null?void 0:Te.selfBuffs)||0),groupBuffs:Number((Te==null?void 0:Te.groupBuffs)||0),squadBuffs:Number((Te==null?void 0:Te.squadBuffs)||0),totalBuffs:Number((Te==null?void 0:Te.totalBuffs)||0)},jt=Math.max(0,Number(xt.totalBuffs||0));if(!Number.isFinite(jt)||jt<=0)return;const mn=gt.get(ft)||[],on=St(mn,jt,wt);We[ft]={total:jt,totals:xt,bucketWeights5s:Array.from({length:wt},(ln,rt)=>Number(mn[rt]||0)),buckets5s:on},ft!=="__all__"&&(jt>Ce&&(Ce=jt),it=it.map((ln,rt)=>Number(ln||0)+Number(on[rt]||0)))});const Ge=Le.get("__all__"),ot=Number((Ge==null?void 0:Ge.totalBuffs)||0);if(ot>0&&(We.__all__={total:ot,totals:{selfBuffs:Number((Ge==null?void 0:Ge.selfBuffs)||0),groupBuffs:Number((Ge==null?void 0:Ge.groupBuffs)||0),squadBuffs:Number((Ge==null?void 0:Ge.squadBuffs)||0),totalBuffs:Number((Ge==null?void 0:Ge.totalBuffs)||0)},bucketWeights5s:Array.from({length:wt},(Te,ft)=>Number((gt.get("__all__")||[])[ft]||0)),buckets5s:it.some(Te=>Number(Te||0)>0)?it:St(gt.get("__all__")||[],ot,wt)}),Object.keys(We).length===0)return;const ut=ht.players.get("__all__");ut&&(ut.logs+=1,ht.players.set("__all__",ut)),ht.fights.push({id:pe.filePath||pe.id||`fight-${he+1}`,shortLabel:`F${he+1}`,fullLabel:ge,timestamp:Yr(et,pe),durationMs:nt,values:We,maxTotal:Ce})})}),Array.from(ae.values()).map(pe=>({id:pe.id,name:pe.name||pe.id,icon:pe.icon,stacking:pe.stacking,players:Array.from(pe.players.values()).sort((he,et)=>{var ve,tt;if(he.key==="__all__")return-1;if(et.key==="__all__")return 1;const nt=Number(((ve=et.totals)==null?void 0:ve.totalBuffs)||0)-Number(((tt=he.totals)==null?void 0:tt.totalBuffs)||0);return nt!==0?nt:String(he.displayName||"").localeCompare(String(et.displayName||""))}),fights:[...pe.fights].sort((he,et)=>he.timestamp>0&&et.timestamp>0&&he.timestamp!==et.timestamp?he.timestamp-et.timestamp:he.shortLabel.localeCompare(et.shortLabel,void 0,{numeric:!0}))})).filter(pe=>pe.players.length>0&&pe.fights.length>0).sort((pe,he)=>String(pe.name||"").localeCompare(String(he.name||"")))})(),bi=(()=>{const E=Be=>String(Be||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=Be=>E(Be).toLowerCase().split(/[^a-z0-9]+/i).map(pe=>pe.trim()).filter(Boolean).map(pe=>pe.length>3&&pe.endsWith("s")?pe.slice(0,-1):pe),J=(Be,pe)=>{const he=E(Be),et=E(pe);if(!et)return he;if(!he)return et;const ve=z(he),tt=z(et),nt=new Set(ve),wt=new Set(tt),je=tt.length>0&&tt.every(Se=>nt.has(Se)),Me=ve.length>0&&ve.every(Se=>wt.has(Se));return je||Me?he:`${he} - ${et}`},ae=new Map,fe=(Be,pe)=>{if(!ae.has(Be))ae.set(Be,{id:Be,name:String((pe==null?void 0:pe.name)||Be),icon:pe==null?void 0:pe.icon,stacking:!!(pe!=null&&pe.stacking),players:new Map,fights:[]});else if(pe){const he=ae.get(Be);(!he.name||he.name===Be)&&pe!=null&&pe.name&&(he.name=String(pe.name)),!he.icon&&pe!=null&&pe.icon&&(he.icon=String(pe.icon)),!he.stacking&&pe!=null&&pe.stacking&&(he.stacking=!0)}return ae.get(Be)},_e=Be=>Array.isArray(Be)?Be.map(pe=>Array.isArray(pe)?[Number(pe[0]),Number(pe[1])]:pe&&typeof pe=="object"?[Number(pe.time),Number(pe.value)]:null).filter(pe=>!!pe&&Number.isFinite(pe[0])&&Number.isFinite(pe[1])&&pe[0]>=0).sort((pe,he)=>pe[0]-he[0]):[],Ie=(Be,pe)=>pe?(String(Be||"").trim().toLowerCase(),25):1,vt=(Be,pe,he)=>{const et=Number.isFinite(Be)?Math.max(0,Be):0;return pe?Math.max(0,Math.min(he,Math.round(et))):et>0?1:0},St=(Be,pe,he,et)=>{const ve=Array.from({length:pe},()=>0);if(!Be||typeof Be!="object"||pe<=0)return ve;Object.values(Be).forEach(nt=>{const wt=_e(nt);if(wt.length===0)return;let je=0,Me=0;for(let Se=0;Se<pe;Se+=1){const De=Se*5e3;for(;je<wt.length&&wt[je][0]<=De;)Me=Math.max(0,Number(wt[je][1]||0)),je+=1;ve[Se]+=Math.max(0,Number(Me||0))}});const tt=Ie(et,he);return ve.map(nt=>vt(nt,he,tt))},zt=Be=>{const pe=Be.reduce((et,ve)=>et+Math.max(0,Number(ve||0)),0),he=Be.reduce((et,ve)=>Math.max(et,Math.max(0,Number(ve||0))),0);return{total:pe,peak:he,buckets5s:Be}};return s.map(Be=>({log:Be,ts:Yr(Be==null?void 0:Be.details,Be)})).sort((Be,pe)=>Be.ts-pe.ts).forEach(({log:Be},pe)=>{const he=Be==null?void 0:Be.details;if(!he)return;const et=(Array.isArray(he.players)?he.players:[]).filter($e=>!($e!=null&&$e.notInSquad));if(et.length<=0)return;const ve=Math.max(0,Number((he==null?void 0:he.durationMS)||0)),tt=Math.max(1,Math.ceil(Math.max(1,ve)/5e3)),nt=he!=null&&he.buffMap&&typeof he.buffMap=="object"?he.buffMap:{},wt=E(he.fightName||Be.fightName||`Fight ${pe+1}`),je=Ea(he,Be),Me=J(wt,String(je||"")),Se=new Map,De=new Map;et.forEach($e=>{const ge=String(($e==null?void 0:$e.account)||($e==null?void 0:$e.name)||"Unknown"),ze=ge,Je=String(($e==null?void 0:$e.profession)||"Unknown");(Array.isArray($e==null?void 0:$e.buffUptimes)?$e.buffUptimes:[]).forEach(oe=>{const Le=Number(oe==null?void 0:oe.id);if(!Number.isFinite(Le))return;const qe=`b${Le}`,ht=nt[qe]||{},gt=String((ht==null?void 0:ht.classification)||"");if(gt&&gt!=="Boon")return;const We=oe!=null&&oe.statesPerSource&&typeof oe.statesPerSource=="object"?oe.statesPerSource:null;if(!We)return;const it=St(We,tt,!!(ht!=null&&ht.stacking),String((ht==null?void 0:ht.name)||"")),Ce=zt(it);if(Ce.total<=0&&Ce.peak<=0)return;const Ge=fe(qe,ht),ot=Ge.players.get(ze)||{key:ze,account:ge,displayName:ge,profession:Je,professionList:Je&&Je!=="Unknown"?[Je]:[],logs:0,total:0,peak:0};Je&&Je!=="Unknown"&&!ot.professionList.includes(Je)&&ot.professionList.push(Je),(!ot.profession||ot.profession==="Unknown")&&Je&&Je!=="Unknown"&&(ot.profession=Je);const ut=De.get(qe)||new Set;ut.has(ze)||(ut.add(ze),ot.logs+=1,De.set(qe,ut)),ot.total+=Ce.total,ot.peak=Math.max(ot.peak,Ce.peak),Ge.players.set(ze,ot);const Te=Se.get(qe)||new Map;Te.set(ze,Ce),Se.set(qe,Te)})}),Se.forEach(($e,ge)=>{const ze=ae.get(ge);if(!ze)return;const Je={};let oe=0;$e.forEach((Le,qe)=>{Je[qe]={total:Number(Le.total||0),peak:Number(Le.peak||0),buckets5s:Array.isArray(Le.buckets5s)?Le.buckets5s.map(ht=>Number(ht||0)):[]},oe=Math.max(oe,Number(Le.peak||0))}),Object.keys(Je).length!==0&&ze.fights.push({id:Be.filePath||Be.id||`fight-${pe+1}`,shortLabel:`F${pe+1}`,fullLabel:Me,timestamp:Yr(he,Be),durationMs:ve,values:Je,maxTotal:oe})})}),Array.from(ae.values()).map(Be=>({id:Be.id,name:Be.name||Be.id,icon:Be.icon,stacking:Be.stacking,players:Array.from(Be.players.values()).sort((pe,he)=>{const et=Number(he.peak||0)-Number(pe.peak||0);if(et!==0)return et;const ve=Number(he.total||0)-Number(pe.total||0);return ve!==0?ve:String(pe.displayName||"").localeCompare(String(he.displayName||""))}),fights:[...Be.fights].sort((pe,he)=>pe.timestamp>0&&he.timestamp>0&&pe.timestamp!==he.timestamp?pe.timestamp-he.timestamp:pe.shortLabel.localeCompare(he.shortLabel,void 0,{numeric:!0}))})).filter(Be=>Be.players.length>0&&Be.fights.length>0).sort((Be,pe)=>String(Be.name||"").localeCompare(String(pe.name||"")))})(),ul=Zn.map(({log:E})=>{const z=E==null?void 0:E.details,J=Array.isArray(z==null?void 0:z.players)?z.players:[],ae=Array.isArray(z==null?void 0:z.targets)?z.targets:[],fe=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,_e=J.filter(he=>!he.notInSquad),Ie=ae.filter(he=>!he.isFake),vt=Math.max(0,Number((fe==null?void 0:fe.squadCount)||0)),St=Math.max(0,Number((fe==null?void 0:fe.enemyCount)||0)),zt=_e.length>0?_e.length:vt,Be=Ie.length>0?Ie.length:St,pe=J.length>0?J.length:zt;return{timestamp:Yr(z,E),squadCount:zt,friendlyCount:pe,enemies:Be,isWin:ds(z,E)}}).map((E,z)=>({...E,index:z+1,label:`Log ${z+1}`})),Bo={};Array.from(O.values()).forEach(E=>{E.profession&&E.profession!=="Unknown"&&(Bo[E.profession]=(Bo[E.profession]||0)+1)});const bu=Object.entries(Bo).map(([E,z])=>({name:E,value:z,color:Ls(E)})).sort((E,z)=>z.value-E.value),K={};Object.keys(W).length===0&&s.forEach(E=>{var z,J;(J=(z=E.details)==null?void 0:z.targets)==null||J.forEach(ae=>{if(ae.isFake)return;const fe=ae.profession&&ae.profession!=="Unknown"?ae.profession:ae.name||ae.id||"Unknown",_e=U(fe);K[_e]=(K[_e]||0)+1})});const ke=Object.keys(W).length>0?W:K,Xe=Object.entries(ke).map(([E,z])=>({name:E,value:z,color:Ls(E)})).sort((E,z)=>z.value-E.value),yt=Zn.map(({log:E},z)=>{const J=E==null?void 0:E.details,ae=Array.isArray(J==null?void 0:J.players)?J.players:[],fe=ae.filter(ge=>!ge.notInSquad),_e=ae.filter(ge=>ge.notInSquad),Ie=(Array.isArray(J==null?void 0:J.targets)?J.targets:[]).filter(ge=>!ge.isFake),vt=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,St=fe.reduce((ge,ze)=>{var Je,oe;return ge+(((oe=(Je=ze.dpsAll)==null?void 0:Je[0])==null?void 0:oe.damage)||0)},0),zt=fe.reduce((ge,ze)=>{var Je,oe;return ge+(((oe=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:oe.damageTaken)||0)},0),{enemyDeaths:Be,enemyDownsDeaths:pe}=D(J),he=ds(J,E),et=Yr(J,E),ve=Ea(J,E),tt=ge=>{if(!ge||typeof ge!="object")return;const ze=ge.teamID??ge.teamId??ge.team??ge.teamColor??ge.team_color;if(ze!=null)return ze;const Je=Object.keys(ge).find(oe=>/^team/i.test(oe));return Je?ge[Je]:void 0},nt=(ge,ze)=>{const Je={};return ge.forEach(oe=>{const Le=ze(oe),qe=U(Le);qe&&(Je[qe]=(Je[qe]||0)+1)}),Je},wt=nt(fe,ge=>(ge==null?void 0:ge.profession)||(ge==null?void 0:ge.name)),je=nt(_e,ge=>(ge==null?void 0:ge.profession)||(ge==null?void 0:ge.name)),Me=nt(Ie,ge=>(ge==null?void 0:ge.profession)||(ge==null?void 0:ge.name)||(ge==null?void 0:ge.id)),Se=new Set;fe.forEach(ge=>{const ze=tt(ge);ze!=null&&Se.add(String(ze))});const De=new Map;Ie.forEach(ge=>{if((ge==null?void 0:ge.enemyPlayer)===!1)return;const ze=tt(ge);if(ze==null)return;const Je=String(ze);Se.has(Je)||De.set(Je,(De.get(Je)||0)+1)});const $e=Array.from(De.entries()).sort((ge,ze)=>{const Je=ze[1]-ge[1];return Je!==0?Je:ge[0].localeCompare(ze[0],void 0,{numeric:!0})}).slice(0,3).map(([ge,ze])=>({teamId:ge,count:ze}));return{id:E.filePath||`fight-${z}`,label:E.encounterName||`Fight ${z+1}`,permalink:va(J,E),timestamp:et,mapName:ve,duration:ll(J,E),isWin:he,squadCount:fe.length>0?fe.length:Math.max(0,Number((vt==null?void 0:vt.squadCount)||0)),allyCount:_e.length,enemyCount:Ie.length>0?Ie.length:Math.max(0,Number((vt==null?void 0:vt.enemyCount)||0)),teamBreakdown:$e,alliesDown:fe.reduce((ge,ze)=>{var Je,oe;return ge+(((oe=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:oe.downCount)||0)},0),alliesDead:fe.length>0?fe.reduce((ge,ze)=>{var Je,oe;return ge+(((oe=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:oe.deadCount)||0)},0):Math.max(0,Number((vt==null?void 0:vt.squadDeaths)||0)),alliesRevived:fe.reduce((ge,ze)=>{var Je,oe;return Number(((oe=(Je=ze.statsAll)==null?void 0:Je[0])==null?void 0:oe.saved)||0)>0?ge+1:ge},0),rallies:0,enemyDeaths:Ie.length>0||fe.length>0?Be:Math.max(0,Number((vt==null?void 0:vt.enemyDeaths)||0)),enemyDowns:Math.max(0,pe-Be),totalOutgoingDamage:St,totalIncomingDamage:zt,incomingBarrierAbsorbed:fe.reduce((ge,ze)=>{var Je,oe;return ge+(((oe=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:oe.damageBarrier)||0)},0),outgoingBarrierAbsorbed:fe.reduce((ge,ze)=>{var Je;const oe=(Je=ze.extBarrierStats)==null?void 0:Je.outgoingBarrier;if(!Array.isArray(oe))return ge;let Le=0;return oe.forEach(qe=>{if(Array.isArray(qe)){qe.forEach(ht=>{Le+=Number((ht==null?void 0:ht.barrier)||0)});return}Le+=Number((qe==null?void 0:qe.barrier)||0)}),ge+Le},0),squadClassCountsFight:wt,allyClassCountsFight:je,enemyClassCounts:Me}}),Vt=po.map(({log:E},z)=>{const J=E.details;if(!J)return null;const ae=(Array.isArray(J.players)?J.players:[]).filter(Ce=>!Ce.notInSquad),fe=Array.isArray(J.targets)?J.targets:[],_e=Yr(J,E),Ie=Ea(J,E),vt=Number(J.durationMS||0),{squadDownsDeaths:St,enemyDownsDeaths:zt,squadDeaths:Be,enemyDeaths:pe}=D(J),he=new Map,et=(Ce,Ge,ot)=>{const ut=he.get(Ce)||{label:Ce,damage:0,hits:0};ut.damage+=Ge,ut.hits+=ot,he.set(Ce,ut)};if(ae.forEach(Ce=>{(Array.isArray(Ce==null?void 0:Ce.statsTargets)?Ce.statsTargets:[]).forEach((Ge,ot)=>{const ut=Array.isArray(Ge)?Ge[0]:Ge,Te=Number((ut==null?void 0:ut.damage)??(ut==null?void 0:ut.totalDmg)??(ut==null?void 0:ut.connectedDmg)??0),ft=Number((ut==null?void 0:ut.connectedHits)??(ut==null?void 0:ut.connectedDamageCount)??(ut==null?void 0:ut.hits)??0);if(Te<=0&&ft<=0)return;const xt=fe[ot];if(xt!=null&&xt.isFake)return;const jt=(xt==null?void 0:xt.profession)||(xt==null?void 0:xt.name)||(xt==null?void 0:xt.id)||`Target ${ot+1}`,mn=U(jt);et(mn||String(jt),Te,ft)})}),he.size===0){const Ce=new Map,Ge=ot=>{if(!Array.isArray(ot)||ot.length===0)return[];const ut=ot[0];if(Array.isArray(ut)&&Array.isArray(ut[0])){if(typeof ut[0][0]=="number")return ut;if(Array.isArray(ut[0])&&typeof ut[0][0]=="number")return ot.map(Te=>Array.isArray(Te)?Te[0]||[]:[])}return[]};ae.forEach(ot=>{Ge(ot==null?void 0:ot.targetDamage1S).forEach((ut,Te)=>{if(!Array.isArray(ut)||ut.length===0)return;const ft=ut.map(jt=>Number(jt)).filter(jt=>Number.isFinite(jt)&&jt>=0);if(ft.length===0)return;const xt=Math.max(0,ft[ft.length-1]||0);xt<=0||Ce.set(Te,(Ce.get(Te)||0)+xt)})}),Ce.forEach((ot,ut)=>{if(ot<=0)return;const Te=fe[ut];if(Te!=null&&Te.isFake)return;const ft=(Te==null?void 0:Te.profession)||(Te==null?void 0:Te.name)||(Te==null?void 0:Te.id)||`Target ${ut+1}`,xt=U(ft);et(xt||String(ft),ot,0)})}if(he.size===0&&fe.forEach((Ce,Ge)=>{if(Ce!=null&&Ce.isFake)return;const ot=Array.isArray(Ce==null?void 0:Ce.totalDamageTaken)?Ce.totalDamageTaken:Array.isArray(Ce==null?void 0:Ce.totalDamageDist)?Ce.totalDamageDist:[];let ut=0,Te=0;if(ot.forEach(jt=>{ut+=Number((jt==null?void 0:jt.totalDamage)||(jt==null?void 0:jt.damage)||0),Te+=Number((jt==null?void 0:jt.connectedHits)||(jt==null?void 0:jt.hits)||0)}),ut<=0&&Number((Ce==null?void 0:Ce.damageTaken)||0)>0&&(ut=Number(Ce.damageTaken||0)),ut<=0&&Te<=0)return;const ft=(Ce==null?void 0:Ce.profession)||(Ce==null?void 0:Ce.name)||(Ce==null?void 0:Ce.id)||`Target ${Ge+1}`,xt=U(ft);et(xt||String(ft),ut,Te)}),he.size===0){const Ce=new Map;fe.forEach((Ge,ot)=>{if(Ge!=null&&Ge.isFake)return;const ut=(Ge==null?void 0:Ge.profession)||(Ge==null?void 0:Ge.name)||(Ge==null?void 0:Ge.id)||`Target ${ot+1}`,Te=U(ut)||String(ut);Ce.set(Te,(Ce.get(Te)||0)+1)}),Ce.forEach((Ge,ot)=>{Ge>0&&et(ot,Ge,0)})}const ve=Array.from(he.values()).sort((Ce,Ge)=>Ge.damage-Ce.damage||Ge.hits-Ce.hits||Ce.label.localeCompare(Ge.label)),tt=ve.reduce((Ce,Ge)=>Ce+Ge.damage,0),nt=ve.map(Ce=>({label:Ce.label,damage:Ce.damage,hits:Ce.hits,share:tt>0?Ce.damage/tt:0})),wt=fe.filter(Ce=>!(Ce!=null&&Ce.isFake)).length,je=ae.length,Me=ae.reduce((Ce,Ge)=>{var ot,ut;return Ce+Number(((ut=(ot=Ge==null?void 0:Ge.dpsAll)==null?void 0:ot[0])==null?void 0:ut.damage)||0)},0),Se=ae.reduce((Ce,Ge)=>{var ot,ut;return Ce+Number(((ut=(ot=Ge==null?void 0:Ge.defenses)==null?void 0:ot[0])==null?void 0:ut.damageTaken)||0)},0),De=ae.reduce((Ce,Ge)=>{var ot,ut;return Ce+Number(((ut=(ot=Ge==null?void 0:Ge.defenses)==null?void 0:ot[0])==null?void 0:ut.damageBarrier)||0)},0),$e=ae.reduce((Ce,Ge)=>{var ot;const ut=(ot=Ge==null?void 0:Ge.extBarrierStats)==null?void 0:ot.outgoingBarrier;if(!Array.isArray(ut))return Ce;let Te=0;return ut.forEach(ft=>{Array.isArray(ft)?ft.forEach(xt=>{Te+=Number((xt==null?void 0:xt.barrier)||0)}):Te+=Number((ft==null?void 0:ft.barrier)||0)}),Ce+Te},0),ge=ae.reduce((Ce,Ge)=>{var ot,ut;return Number(((ut=(ot=Ge==null?void 0:Ge.statsAll)==null?void 0:ot[0])==null?void 0:ut.saved)||0)>0?Ce+1:Ce},0),ze=ae.reduce((Ce,Ge)=>Ce+Number(X2(Ge)||0),0),Je=ae.reduce((Ce,Ge)=>Ce+Number(J2(Ge)||0),0),oe=ae.reduce((Ce,Ge)=>Ce+Number((Ge==null?void 0:Ge.stabGeneration)||0),0),Le=ae.reduce((Ce,Ge)=>Ce+Number(Z2(Ge)||0),0),qe=ae.reduce((Ce,Ge)=>Ce+Number(eC(Ge)||0),0),ht=ae.reduce((Ce,Ge)=>Ce+Number(tC(Ge)||0),0),gt=ae.reduce((Ce,Ge)=>Ce+Number(Q2(Ge)||0),0),We=Be>0?pe/Be:pe,it=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:I(J)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:je},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:wt},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:We},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:pe},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,zt-pe)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Be},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,St-Be)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Me-Se},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Me},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Se},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:ze},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:Je},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:oe},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Le},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:qe},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:De},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:$e},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:ht},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:gt},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:ge}];return{id:E.filePath||E.id||`fight-${z+1}`,shortLabel:`F${z+1}`,fullLabel:`${Ie||E.encounterName||"Unknown Map"}  ${oh(vt)}`,mapName:Ie,timestamp:_e,duration:oh(vt),isWin:I(J),targetFocus:nt,squadMetrics:it}}).filter(Boolean),Rt=Array.from(O.values()).map(E=>{const z=Object.entries(E.professionTimeMs||{}).map(([J,ae])=>({profession:J,timeMs:Number(ae||0)})).filter(J=>J.profession&&J.profession!=="Unknown"&&J.timeMs>0).sort((J,ae)=>{const fe=ae.timeMs-J.timeMs;return fe!==0?fe:J.profession.localeCompare(ae.profession)});return{account:E.account||"Unknown",characterNames:Array.from(E.characterNames||[]).filter(Boolean).sort((J,ae)=>J.localeCompare(ae)),classTimes:z,combatTimeMs:Number(E.squadActiveMs||E.totalFightMs||0),squadTimeMs:(()=>{const J=Number(E.firstSeenFightTs||0),ae=Number(E.lastSeenFightTs||0),fe=Math.max(0,Number(E.lastSeenFightDurationMs||0));return J>0&&ae>0?Math.max(0,ae+fe-J):Number(E.squadActiveMs||E.totalFightMs||0)})()}}).filter(E=>E.account&&E.account!=="Unknown").sort((E,z)=>{const J=z.squadTimeMs-E.squadTimeMs;return J!==0?J:String(E.account).localeCompare(String(z.account))}),Nt=s.map(E=>E).sort((E,z)=>Yr(E.details,E)-Yr(z.details,z)).map((E,z)=>{const J=E==null?void 0:E.details,ae=Array.isArray(J==null?void 0:J.players)?J.players.filter(Ie=>!(Ie!=null&&Ie.notInSquad)):[],fe=new Map;ae.forEach(Ie=>{const vt=Number(Ie==null?void 0:Ie.group),St=Number.isFinite(vt)&&vt>0?vt:0;fe.has(St)||fe.set(St,{party:St,players:[],classCounts:{}});const zt=U((Ie==null?void 0:Ie.profession)||(Ie==null?void 0:Ie.name)||"Unknown"),Be=String((Ie==null?void 0:Ie.account)||"Unknown"),pe=String((Ie==null?void 0:Ie.name)||(Ie==null?void 0:Ie.character_name)||""),he=!!(Ie!=null&&Ie.hasCommanderTag),et=fe.get(St);et.players.push({account:Be,characterName:pe,profession:zt,isCommander:he}),et.classCounts[zt]=(et.classCounts[zt]||0)+1});const _e=Array.from(fe.values()).map(Ie=>({...Ie,players:Ie.players.sort((vt,St)=>{const zt=+!!St.isCommander-+!!vt.isCommander;if(zt!==0)return zt;const Be=String(vt.profession).localeCompare(String(St.profession));return Be!==0?Be:String(vt.account).localeCompare(String(St.account))})})).sort((Ie,vt)=>Ie.party===0&&vt.party!==0?1:vt.party===0&&Ie.party!==0?-1:Ie.party-vt.party);return{id:String((E==null?void 0:E.filePath)||(E==null?void 0:E.id)||`fight-${z+1}`),label:`F${z+1}`,timestamp:Yr(J,E),mapName:Ea(J,E),duration:oh(Number((J==null?void 0:J.durationMS)||0)),parties:_e}}),yn=(E,z)=>{const J=(z==null?void 0:z.skillMap)||{},ae=(z==null?void 0:z.buffMap)||{};let fe=0,_e=0,Ie="";const vt=Be=>{const pe=Number(Be);if(!Number.isFinite(pe))return String(Be||"Unknown Skill");const he=(J==null?void 0:J[`s${pe}`])||(J==null?void 0:J[`${pe}`]);if(he!=null&&he.name)return String(he.name);const et=(ae==null?void 0:ae[`b${pe}`])||(ae==null?void 0:ae[`${pe}`]);return et!=null&&et.name?String(et.name):`Skill ${pe}`},St=Be=>{if(!Be||typeof Be!="object")return;const pe=[Number(Be.max),Number(Be.maxDamage),Number(Be.maxHit)].filter(ve=>Number.isFinite(ve)),he=pe.length>0?Math.max(...pe):0;he>fe&&(fe=he,Ie=vt(Be.id));const et=Number(Be.downContribution||0);et>_e&&(_e=et)};let zt=!1;return Array.isArray(E==null?void 0:E.targetDamageDist)&&E.targetDamageDist.forEach(Be=>{Array.isArray(Be)&&Be.forEach(pe=>{Array.isArray(pe)&&pe.forEach(he=>{zt=!0,St(he)})})}),(!zt||fe<=0)&&Array.isArray(E==null?void 0:E.totalDamageDist)&&E.totalDamageDist.forEach(Be=>{Array.isArray(Be)&&Be.forEach(pe=>St(pe))}),{peak:fe,peakDownContribution:_e,skillName:Ie||"Unknown Skill"}},fn=(()=>{const E=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=ve=>E(ve).toLowerCase().split(/[^a-z0-9]+/i).map(tt=>tt.trim()).filter(Boolean).map(tt=>tt.length>3&&tt.endsWith("s")?tt.slice(0,-1):tt),J=(ve,tt)=>{const nt=E(ve),wt=E(tt);if(!wt)return nt;if(!nt)return wt;const je=z(nt),Me=z(wt),Se=new Set(je),De=new Set(Me),$e=Me.length>0&&Me.every(ze=>Se.has(ze)),ge=je.length>0&&je.every(ze=>De.has(ze));return $e||ge?nt:`${nt} - ${wt}`},ae=[],fe=new Map,_e=ve=>{const tt=De=>{if(!Array.isArray(De)||De.length===0)return[];const $e=[];for(let ge=0;ge<De.length;ge+=1){const ze=Number(De[ge]||0),Je=ge>0?Number(De[ge-1]||0):0;$e.push(Math.max(0,ze-Je))}return $e},nt=De=>{if(!Array.isArray(De))return[];const $e=De.reduce((ze,Je)=>Math.max(ze,Array.isArray(Je)?Je.length:0),0);if($e<=0)return[];const ge=new Array($e).fill(0);return De.forEach(ze=>{if(Array.isArray(ze))for(let Je=0;Je<$e;Je+=1)ge[Je]+=Number(ze[Je]||0)}),ge},wt=De=>Array.isArray(De)?De.map($e=>Number($e||0)):null,je=(De=>{if(!Array.isArray(De)||De.length===0)return null;const $e=De[0];if(!Array.isArray($e))return null;if(Array.isArray($e[0])&&Array.isArray($e[0][0]))return nt($e);if(Array.isArray($e[0])&&!Array.isArray($e[0][0])){const ge=De.map(ze=>wt(Array.isArray(ze)?ze[0]:null)).filter(ze=>Array.isArray(ze)&&ze.length>0);if(ge.length>0)return nt(ge)}return null})(ve==null?void 0:ve.targetDamage1S),Me=Array.isArray(ve==null?void 0:ve.damage1S)&&Array.isArray(ve.damage1S[0])?ve.damage1S[0]:null,Se=je||(Array.isArray(Me)?Me.map(De=>Number(De||0)):[]);return tt(Se)},Ie=(ve,tt)=>{if(!Array.isArray(ve)||ve.length===0||tt<=0)return 0;let nt=0,wt=0;for(let je=0;je<ve.length;je+=1)nt+=Number(ve[je]||0),je>=tt&&(nt-=Number(ve[je-tt]||0)),je>=tt-1&&nt>wt&&(wt=nt);return Math.max(0,wt)},vt=(ve,tt)=>{if(!Array.isArray(ve)||ve.length===0||tt<=0)return[];const nt=[];for(let wt=0;wt<ve.length;wt+=tt){const je=Math.min(wt+tt,ve.length),Me=ve.slice(wt,je).reduce((Se,De)=>Se+Number(De||0),0);nt.push(Me)}return nt},St=(ve,tt)=>{let nt=0,wt=0;const je=new Map,Me=Se=>{if(!Se||typeof Se!="object"||Se.indirectDamage)return;const De=Number(Se.totalDamage||0),$e=Number(Se.downContribution||0);!Number.isFinite(De)&&!Number.isFinite($e)||(nt+=Number.isFinite(De)?De:0,wt+=Number.isFinite($e)?$e:0)};return Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(Se=>{Array.isArray(Se)&&Se.forEach(De=>{Array.isArray(De)&&De.forEach($e=>{const ge=Number($e==null?void 0:$e.id);if(Number.isFinite(ge)){const ze=je.get(ge)||{damage:0,downContribution:0};ze.damage+=Number(($e==null?void 0:$e.totalDamage)||0),ze.downContribution+=Number(($e==null?void 0:$e.downContribution)||0),je.set(ge,ze)}Me($e)})})}),!(tt!=null&&tt.detailedWvW)&&Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(Se=>{Array.isArray(Se)&&Se.forEach(De=>{const $e=Number(De==null?void 0:De.id);if(!Number.isFinite($e)){Me(De);return}const ge=je.get($e);if(!ge){Me(De);return}const ze=Number((De==null?void 0:De.totalDamage)||0)-Number(ge.damage||0),Je=Number((De==null?void 0:De.downContribution)||0)-Number(ge.downContribution||0);ze<=0&&Je<=0||Me({...De,totalDamage:Math.max(0,ze),downContribution:Math.max(0,Je)})})}),{damageTotal:Math.max(0,nt),downContributionTotal:Math.max(0,wt)}},zt=(ve,tt)=>{const nt=Number(ve);if(!Number.isFinite(nt))return{name:String(ve||"Unknown Skill"),icon:void 0};const wt=(tt==null?void 0:tt.skillMap)||{},je=(tt==null?void 0:tt.buffMap)||{},Me=(wt==null?void 0:wt[`s${nt}`])||(wt==null?void 0:wt[`${nt}`]);if(Me!=null&&Me.name)return{name:String(Me.name),icon:Me==null?void 0:Me.icon};const Se=(je==null?void 0:je[`b${nt}`])||(je==null?void 0:je[`${nt}`]);return Se!=null&&Se.name?{name:String(Se.name),icon:Se==null?void 0:Se.icon}:{name:`Skill ${nt}`,icon:void 0}},Be=ve=>Array.isArray(ve)?ve.map(tt=>Array.isArray(tt)?[Number(tt[0]),Number(tt[1])]:tt&&typeof tt=="object"?[Number(tt.time),Number(tt.value)]:null).filter(tt=>!!tt&&Number.isFinite(tt[0])&&tt[0]>=0):[],pe=(ve,tt,nt,wt,je)=>{if(!ve.length||wt<=0)return[];const Me=Math.max(wt*5e3,je||0),Se=qe=>qe.reduce((ht,gt)=>gt>=0&&gt<=Me+2e3?ht+1:ht,0),De=ve.map(qe=>Number(qe||0)).filter(qe=>Number.isFinite(qe)&&qe>=0);if(!De.length)return[];const $e=[De],ge=De.reduce((qe,ht)=>Math.max(qe,ht),0),ze=De.reduce((qe,ht)=>Math.min(qe,ht),Number.POSITIVE_INFINITY);ge>Me*20&&$e.push(De.map(qe=>qe/1e3)),ge<=Me*2&&ze>=0&&ge>0&&ge<Math.max(120,wt*5+10)&&$e.push(De.map(qe=>qe*1e3));let Je=De,oe=0,Le=-1;return $e.forEach(qe=>{const ht=qe.reduce((We,it)=>Math.min(We,it),Number.POSITIVE_INFINITY),gt=new Set([0,...tt,...nt]);if(Number.isFinite(ht)&&Me>0&&ht>Me){const We=Math.floor(ht/Me)*Me;gt.add(We),gt.add(Math.max(0,We-Me))}gt.forEach(We=>{const it=qe.map(Ge=>Ge-We),Ce=Se(it);Ce>Le&&(Le=Ce,oe=We,Je=qe)})}),Je.map(qe=>qe-oe).filter(qe=>Number.isFinite(qe)&&qe>=0)},he=(ve,tt,nt,wt,je)=>{const Me=pe(ve,tt,nt,wt,je);return Array.from(new Set(Me.map(Se=>Math.floor(Se/5e3)).filter(Se=>Number.isFinite(Se)&&Se>=0&&Se<wt)))};s.map(ve=>({log:ve,ts:Yr(ve==null?void 0:ve.details,ve)})).sort((ve,tt)=>ve.ts-tt.ts).forEach(({log:ve},tt)=>{const nt=ve==null?void 0:ve.details;if(!nt)return;const wt=E(nt.fightName||ve.fightName||`Fight ${tt+1}`),je=Ea(nt,ve),Me=J(wt,String(je||"")),Se={},De=Array.isArray(nt.players)?nt.players:[],$e=De.flatMap(We=>{const it=We==null?void 0:We.combatReplayData;return Array.isArray(it)?it.map(Ce=>Number(Ce==null?void 0:Ce.start)):[Number(it==null?void 0:it.start)]}).filter(We=>Number.isFinite(We)&&We>=0);De.forEach(We=>{if(We!=null&&We.notInSquad)return;const it=String((We==null?void 0:We.account)||(We==null?void 0:We.name)||"Unknown"),Ce=String((We==null?void 0:We.character_name)||(We==null?void 0:We.display_name)||(We==null?void 0:We.name)||""),Ge=String((We==null?void 0:We.profession)||"Unknown"),ot=`${it}|${Ge}`,ut=yn(We,nt),Te=Number(ut.peak||0),ft=Number(ut.peakDownContribution||0),xt=_e(We),{damageTotal:jt,downContributionTotal:mn}=St(We,nt),on=jt>0?Math.min(1,Math.max(0,mn/jt)):0,ln=xt.map(Ye=>Number(Ye||0)*on),rt=Number(Ie(xt,1)||0),Kn=Number(Ie(xt,5)||0),pn=Number(Ie(xt,30)||0),Cn=Number(Ie(ln,1)||0),Fr=Number(Ie(ln,5)||0),Tr=Number(Ie(ln,30)||0),In=Math.max(0,Math.ceil(Number((nt==null?void 0:nt.durationMS)||0)/5e3)),Da=Math.max(0,Math.ceil(xt.length/5)),ra=Math.max(0,Math.ceil(ln.length/5)),ni=Math.max(In,Da,ra),uc=vt(xt,5),Ta=vt(ln,5),fs=Array.from({length:ni},(Ye,He)=>Number(uc[He]||0)),ri=Array.from({length:ni},(Ye,He)=>Number(Ta[He]||0)),zi=new Map,Dn=Ye=>{if(!Ye||typeof Ye!="object"||Ye.indirectDamage)return;const He=Number(Ye.totalDamage||0),Dt=Number(Ye.downContribution||0);if((!Number.isFinite(He)||He<=0)&&(!Number.isFinite(Dt)||Dt<=0))return;const Gt=Number(Ye.connectedHits||Ye.hits||0),hn=zt(Ye.id,nt),Yt=hn.name,Qt=zi.get(Yt)||{skillName:Yt,damage:0,downContribution:0,hits:0,icon:hn.icon};Qt.damage+=Number.isFinite(He)?He:0,Qt.downContribution+=Number.isFinite(Dt)?Dt:0,Qt.hits+=Number.isFinite(Gt)?Gt:0,!Qt.icon&&hn.icon&&(Qt.icon=hn.icon),zi.set(Yt,Qt)},vi=new Map;Array.isArray(We==null?void 0:We.targetDamageDist)&&We.targetDamageDist.forEach(Ye=>{Array.isArray(Ye)&&Ye.forEach(He=>{Array.isArray(He)&&He.forEach(Dt=>{const Gt=Number(Dt==null?void 0:Dt.id),hn=Number((Dt==null?void 0:Dt.totalDamage)||0),Yt=Number((Dt==null?void 0:Dt.downContribution)||0);if(Number.isFinite(Gt)){const Qt=vi.get(Gt)||{damage:0,downContribution:0,hits:0};Qt.damage+=Number.isFinite(hn)?hn:0,Qt.downContribution+=Number.isFinite(Yt)?Yt:0,Qt.hits+=Number((Dt==null?void 0:Dt.connectedHits)||(Dt==null?void 0:Dt.hits)||0),vi.set(Gt,Qt)}Dn(Dt)})})}),!(nt!=null&&nt.detailedWvW)&&Array.isArray(We==null?void 0:We.totalDamageDist)&&We.totalDamageDist.forEach(Ye=>{Array.isArray(Ye)&&Ye.forEach(He=>{const Dt=Number(He==null?void 0:He.id);if(!Number.isFinite(Dt)){Dn(He);return}const Gt=vi.get(Dt);if(!Gt){Dn(He);return}const hn=Number((He==null?void 0:He.totalDamage)||0),Yt=Number((He==null?void 0:He.downContribution)||0),Qt=Number((He==null?void 0:He.connectedHits)||(He==null?void 0:He.hits)||0),br=hn-Number(Gt.damage||0),qa=Yt-Number(Gt.downContribution||0),xn=Qt-Number(Gt.hits||0);br<=0&&qa<=0&&xn<=0||Dn({...He,totalDamage:Math.max(0,br),downContribution:Math.max(0,qa),connectedHits:Math.max(0,xn),hits:Math.max(0,xn)})})});const aa=(()=>{const Ye=We==null?void 0:We.combatReplayData;return Array.isArray(Ye)?Ye.filter(He=>He&&typeof He=="object"):Ye&&typeof Ye=="object"?[Ye]:[]})(),Wa=aa.map(Ye=>Number(Ye==null?void 0:Ye.start)).filter(Ye=>Number.isFinite(Ye)&&Ye>=0),Fn=aa.flatMap(Ye=>Be(Ye==null?void 0:Ye.down).map(([He])=>Number(He||0))),Ze=aa.flatMap(Ye=>Be(Ye==null?void 0:Ye.dead).map(([He])=>Number(He||0)));Se[ot]={hit:Te,burst1s:rt,burst5s:Kn,burst30s:pn,hitDown:ft,burst1sDown:Cn,burst5sDown:Fr,burst30sDown:Tr,skillName:ut.skillName,buckets5s:fs,buckets5sDown:ri,downIndices5s:he(Fn,Wa,$e,ni,Number((nt==null?void 0:nt.durationMS)||0)),deathIndices5s:he(Ze,Wa,$e,ni,Number((nt==null?void 0:nt.durationMS)||0)),skillRows:Array.from(zi.values()).sort((Ye,He)=>He.damage-Ye.damage).slice(0,50)};const Re=fe.get(ot)||{key:ot,account:it,displayName:it,characterName:Ce,profession:Ge,professionList:[Ge],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Re.logs+=1,Re.professionList.includes(Ge)||Re.professionList.push(Ge),!Re.characterName&&Ce&&(Re.characterName=Ce),Te>Re.peakHit&&(Re.peakHit=Te,Re.peakFightLabel=Me,Re.peakSkillName=ut.skillName),rt>Re.peak1s&&(Re.peak1s=rt),Kn>Re.peak5s&&(Re.peak5s=Kn),pn>Re.peak30s&&(Re.peak30s=pn),ft>Re.peakHitDown&&(Re.peakHitDown=ft),Cn>Re.peak1sDown&&(Re.peak1sDown=Cn),Fr>Re.peak5sDown&&(Re.peak5sDown=Fr),Tr>Re.peak30sDown&&(Re.peak30sDown=Tr),fe.set(ot,Re)});const ge=Object.values(Se).reduce((We,it)=>Math.max(We,Number((it==null?void 0:it.hit)||0)),0),ze=Object.values(Se).reduce((We,it)=>Math.max(We,Number((it==null?void 0:it.burst1s)||0)),0),Je=Object.values(Se).reduce((We,it)=>Math.max(We,Number((it==null?void 0:it.burst5s)||0)),0),oe=Object.values(Se).reduce((We,it)=>Math.max(We,Number((it==null?void 0:it.burst30s)||0)),0),Le=Object.values(Se).reduce((We,it)=>Math.max(We,Number((it==null?void 0:it.hitDown)||0)),0),qe=Object.values(Se).reduce((We,it)=>Math.max(We,Number((it==null?void 0:it.burst1sDown)||0)),0),ht=Object.values(Se).reduce((We,it)=>Math.max(We,Number((it==null?void 0:it.burst5sDown)||0)),0),gt=Object.values(Se).reduce((We,it)=>Math.max(We,Number((it==null?void 0:it.burst30sDown)||0)),0);ae.push({id:ve.filePath||ve.id||`fight-${tt+1}`,shortLabel:`F${tt+1}`,fullLabel:Me,timestamp:Yr(nt,ve),values:Se,maxHit:ge,max1s:ze,max5s:Je,max30s:oe,maxHitDown:Le,max1sDown:qe,max5sDown:ht,max30sDown:gt})});const et=Array.from(fe.values()).sort((ve,tt)=>tt.peakHit!==ve.peakHit?tt.peakHit-ve.peakHit:ve.displayName.localeCompare(tt.displayName));return{fights:ae,players:et}})(),yr=(()=>{const E=je=>String(je||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=je=>E(je).toLowerCase().split(/[^a-z0-9]+/i).map(Me=>Me.trim()).filter(Boolean).map(Me=>Me.length>3&&Me.endsWith("s")?Me.slice(0,-1):Me),J=(je,Me)=>{const Se=E(je),De=E(Me);if(!De)return Se;if(!Se)return De;const $e=z(Se),ge=z(De),ze=new Set($e),Je=new Set(ge),oe=ge.length>0&&ge.every(qe=>ze.has(qe)),Le=$e.length>0&&$e.every(qe=>Je.has(qe));return oe||Le?Se:`${Se} - ${De}`},ae=[],fe=new Map,_e=(je,Me)=>{const Se=Number(je);if(!Number.isFinite(Se))return{name:String(je||"Unknown Skill"),icon:void 0};const De=(Me==null?void 0:Me.skillMap)||{},$e=(Me==null?void 0:Me.buffMap)||{},ge=(De==null?void 0:De[`s${Se}`])||(De==null?void 0:De[`${Se}`]);if(ge!=null&&ge.name)return{name:String(ge.name),icon:ge==null?void 0:ge.icon};const ze=($e==null?void 0:$e[`b${Se}`])||($e==null?void 0:$e[`${Se}`]);return ze!=null&&ze.name?{name:String(ze.name),icon:ze==null?void 0:ze.icon}:{name:`Skill ${Se}`,icon:void 0}},Ie=(je,Me)=>{let Se=0,De="";const $e=ge=>{if(!ge||typeof ge!="object"||ge.indirectDamage)return;const ze=[Number(ge.max),Number(ge.maxDamage),Number(ge.maxHit)].filter(oe=>Number.isFinite(oe)),Je=ze.length>0?Math.max(...ze):0;Je>Se&&(Se=Je,De=_e(ge.id,Me).name)};return Array.isArray(je==null?void 0:je.totalDamageDist)&&je.totalDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(ze=>$e(ze))}),Array.isArray(je==null?void 0:je.targetDamageDist)&&je.targetDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(ze=>{Array.isArray(ze)&&ze.forEach(Je=>$e(Je))})}),{peak:Se,skillName:De||"Unknown Skill"}},vt=je=>{if(!Array.isArray(je)||je.length===0)return[];const Me=[];for(let Se=0;Se<je.length;Se+=1){const De=Number(je[Se]||0),$e=Se>0?Number(je[Se-1]||0):0;Me.push(Math.max(0,De-$e))}return Me},St=je=>{if(!Array.isArray(je)||je.length===0)return[];const Me=je.reduce((De,$e)=>Math.max(De,Array.isArray($e)?$e.length:0),0);if(Me<=0)return[];const Se=new Array(Me).fill(0);return je.forEach(De=>{if(Array.isArray(De))for(let $e=0;$e<Me;$e+=1)Se[$e]+=Number(De[$e]||0)}),Se},zt=je=>{if(!Array.isArray(je)||je.length===0)return[];const Me=je[0];if(typeof Me=="number")return je.map(Se=>Number(Se||0));if(Array.isArray(Me)&&Me.length>0){if(typeof Me[0]=="number")return Me.map(Se=>Number(Se||0));if(Array.isArray(Me[0])){const Se=Me.map(De=>Array.isArray(De)?De.map($e=>Number($e||0)):null).filter(De=>Array.isArray(De)&&De.length>0);if(Se.length>0)return St(Se)}}return[]},Be=je=>{const Me=zt(je==null?void 0:je.powerDamage1S),Se=zt(je==null?void 0:je.damage1S),De=Me.length>0?Me:Se;return vt(De)},pe=(je,Me)=>{const Se=je==null?void 0:je.targetPowerDamage1S;if(!Array.isArray(Se)||!Array.isArray(Se[Me]))return[];const De=Se[Me];if(!Array.isArray(De)||De.length===0)return[];if(typeof De[0]=="number")return De.map($e=>Number($e||0));if(Array.isArray(De[0])&&!Array.isArray(De[0][0]))return De[0].map($e=>Number($e||0));if(Array.isArray(De[0])&&Array.isArray(De[0][0])){const $e=De[0].map(ge=>Array.isArray(ge)?ge.map(ze=>Number(ze||0)):null).filter(ge=>Array.isArray(ge)&&ge.length>0);return St($e)}return[]},he=(je,Me)=>{if(!Array.isArray(je)||je.length===0||Me<=0)return 0;let Se=0,De=0;for(let $e=0;$e<je.length;$e+=1)Se+=Number(je[$e]||0),$e>=Me&&(Se-=Number(je[$e-Me]||0)),$e>=Me-1&&Se>De&&(De=Se);return Math.max(0,De)},et=(je,Me)=>{if(!Array.isArray(je)||je.length===0||Me<=0)return[];const Se=[];for(let De=0;De<je.length;De+=Me){const $e=Math.min(De+Me,je.length),ge=je.slice(De,$e).reduce((ze,Je)=>ze+Number(Je||0),0);Se.push(ge)}return Se},ve=je=>Array.isArray(je)?je.map(Me=>Array.isArray(Me)?[Number(Me[0]),Number(Me[1])]:Me&&typeof Me=="object"?[Number(Me.time),Number(Me.value)]:null).filter(Me=>!!Me&&Number.isFinite(Me[0])&&Me[0]>=0):[],tt=(je,Me,Se,De,$e)=>{if(!je.length||De<=0)return[];const ge=Math.max(De*5e3,$e||0),ze=it=>it.reduce((Ce,Ge)=>Ge>=0&&Ge<=ge+2e3?Ce+1:Ce,0),Je=je.map(it=>Number(it||0)).filter(it=>Number.isFinite(it)&&it>=0);if(!Je.length)return[];const oe=[Je],Le=Je.reduce((it,Ce)=>Math.max(it,Ce),0),qe=Je.reduce((it,Ce)=>Math.min(it,Ce),Number.POSITIVE_INFINITY);Le>ge*20&&oe.push(Je.map(it=>it/1e3)),Le<=ge*2&&qe>=0&&Le>0&&Le<Math.max(120,De*5+10)&&oe.push(Je.map(it=>it*1e3));let ht=Je,gt=0,We=-1;return oe.forEach(it=>{const Ce=it.reduce((ot,ut)=>Math.min(ot,ut),Number.POSITIVE_INFINITY),Ge=new Set([0,...Me,...Se]);if(Number.isFinite(Ce)&&ge>0&&Ce>ge){const ot=Math.floor(Ce/ge)*ge;Ge.add(ot),Ge.add(Math.max(0,ot-ge))}Ge.forEach(ot=>{const ut=it.map(ft=>ft-ot),Te=ze(ut);Te>We&&(We=Te,gt=ot,ht=it)})}),ht.map(it=>it-gt).filter(it=>Number.isFinite(it)&&it>=0)},nt=(je,Me,Se,De,$e)=>{const ge=tt(je,Me,Se,De,$e);return Array.from(new Set(ge.map(ze=>Math.floor(ze/5e3)).filter(ze=>Number.isFinite(ze)&&ze>=0&&ze<De)))};s.map(je=>({log:je,ts:Yr(je==null?void 0:je.details,je)})).sort((je,Me)=>je.ts-Me.ts).forEach(({log:je},Me)=>{const Se=je==null?void 0:je.details;if(!Se)return;const De=E(Se.fightName||je.fightName||`Fight ${Me+1}`),$e=Ea(Se,je),ge=J(De,String($e||"")),ze={},Je=(Array.isArray(Se.players)?Se.players:[]).filter(Te=>!(Te!=null&&Te.notInSquad)),oe=Je.flatMap(Te=>{const ft=Te==null?void 0:Te.combatReplayData;return Array.isArray(ft)?ft.map(xt=>Number(xt==null?void 0:xt.start)):[Number(ft==null?void 0:ft.start)]}).filter(Te=>Number.isFinite(Te)&&Te>=0),Le=Je.flatMap(Te=>{const ft=Te==null?void 0:Te.combatReplayData;return(Array.isArray(ft)?ft:ft?[ft]:[]).flatMap(xt=>ve(xt==null?void 0:xt.down).map(([jt])=>Number(jt||0)))}),qe=Je.flatMap(Te=>{const ft=Te==null?void 0:Te.combatReplayData;return(Array.isArray(ft)?ft:ft?[ft]:[]).flatMap(xt=>ve(xt==null?void 0:xt.dead).map(([jt])=>Number(jt||0)))}),ht=new Map,gt=new Map,We=new Map;(Array.isArray(Se.targets)?Se.targets:[]).forEach((Te,ft)=>{if(!Te||Te.isFake||!Te.enemyPlayer)return;const xt=U((Te==null?void 0:Te.profession)||(Te==null?void 0:Te.name)||(Te==null?void 0:Te.id))||"Unknown";We.set(xt,(We.get(xt)||0)+1);const jt=gt.get(xt)||new Map;Array.isArray(Te==null?void 0:Te.totalDamageDist)&&Te.totalDamageDist.forEach(pn=>{Array.isArray(pn)&&pn.forEach(Cn=>{if(!Cn||typeof Cn!="object"||Cn.indirectDamage)return;const Fr=Number(Cn.totalDamage||0);if(!Number.isFinite(Fr)||Fr<=0)return;const Tr=Number(Cn.connectedHits||Cn.hits||0),In=_e(Cn.id,Se),Da=In.name,ra=jt.get(Da)||{skillName:Da,damage:0,hits:0,icon:In.icon};ra.damage+=Fr,ra.hits+=Number.isFinite(Tr)?Tr:0,!ra.icon&&In.icon&&(ra.icon=In.icon),jt.set(Da,ra)})}),gt.set(xt,jt);const mn=St(Je.map(pn=>pe(pn,ft))),on=mn.length>0?vt(mn):Be(Te),ln=Ie(Te,Se);let rt=ht.get(xt);rt||(rt={perSecond:[],hit:0,skillName:""},ht.set(xt,rt)),on.length>rt.perSecond.length&&(rt.perSecond.length=on.length);for(let pn=0;pn<on.length;pn+=1)rt.perSecond[pn]=Number(rt.perSecond[pn]||0)+Number(on[pn]||0);const Kn=Number(ln.peak||0);Kn>rt.hit&&(rt.hit=Kn,rt.skillName=ln.skillName||"Unknown Skill")});const it=Array.from(ht.values()).some(Te=>Array.isArray(Te.perSecond)&&Te.perSecond.some(ft=>Number(ft||0)>0));if(ht.size===0||!it){const Te=St(Je.map(xt=>{const jt=zt(xt==null?void 0:xt.powerDamageTaken1S);return vt(jt)})),ft=Array.from(We.values()).reduce((xt,jt)=>xt+Number(jt||0),0);Te.length>0&&ft>0&&We.forEach((xt,jt)=>{const mn=Number(xt||0)/ft,on=Te.map(rt=>Number(rt||0)*mn),ln=ht.get(jt);ht.set(jt,{perSecond:on,hit:Number((ln==null?void 0:ln.hit)||0),skillName:String((ln==null?void 0:ln.skillName)||"")})})}ht.forEach((Te,ft)=>{var xt;const jt=ft,mn=Number(Te.hit||0),on=Number(he(Te.perSecond,1)||0),ln=Number(he(Te.perSecond,5)||0),rt=Number(he(Te.perSecond,30)||0),Kn=Math.max(0,Math.ceil(Number((Se==null?void 0:Se.durationMS)||0)/5e3)),pn=Math.max(0,Math.ceil(Te.perSecond.length/5)),Cn=Math.max(Kn,pn),Fr=et(Te.perSecond,5),Tr=Array.from({length:Cn},(Da,ra)=>Number(Fr[ra]||0));ze[jt]={hit:mn,burst1s:on,burst5s:ln,burst30s:rt,skillName:Te.skillName||"Unknown Skill",buckets5s:Tr,downIndices5s:nt(Le,[],oe,Cn,Number((Se==null?void 0:Se.durationMS)||0)),deathIndices5s:nt(qe,[],oe,Cn,Number((Se==null?void 0:Se.durationMS)||0)),skillRows:Array.from(((xt=gt.get(ft))==null?void 0:xt.values())||[]).sort((Da,ra)=>ra.damage-Da.damage).slice(0,50)};const In=fe.get(jt)||{key:jt,account:ft,displayName:ft,characterName:"",profession:ft,professionList:[ft],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};In.logs+=1,mn>In.peakHit&&(In.peakHit=mn,In.peakFightLabel=ge,In.peakSkillName=Te.skillName||"Unknown Skill"),on>In.peak1s&&(In.peak1s=on),ln>In.peak5s&&(In.peak5s=ln),rt>In.peak30s&&(In.peak30s=rt),fe.set(jt,In)});const Ce=Object.values(ze).reduce((Te,ft)=>Math.max(Te,Number((ft==null?void 0:ft.hit)||0)),0),Ge=Object.values(ze).reduce((Te,ft)=>Math.max(Te,Number((ft==null?void 0:ft.burst1s)||0)),0),ot=Object.values(ze).reduce((Te,ft)=>Math.max(Te,Number((ft==null?void 0:ft.burst5s)||0)),0),ut=Object.values(ze).reduce((Te,ft)=>Math.max(Te,Number((ft==null?void 0:ft.burst30s)||0)),0);ae.push({id:je.filePath||je.id||`fight-${Me+1}`,shortLabel:`F${Me+1}`,fullLabel:ge,timestamp:Yr(Se,je),values:ze,maxHit:Ce,max1s:Ge,max5s:ot,max30s:ut})});const wt=Array.from(fe.values()).sort((je,Me)=>Me.peakHit!==je.peakHit?Me.peakHit-je.peakHit:je.displayName.localeCompare(Me.displayName));return{fights:ae,players:wt}})(),nr=Array.from(V.entries()).map(([E,z])=>{const J=k.get(E)||{},ae=Array.from(z.values()).map(fe=>{var _e,Ie;const vt=Array.from(fe.professions||[]).filter(ve=>ve&&ve!=="Unknown");let St=fe.profession||"Unknown";if(vt.length>0){St=vt[0];let ve=((_e=fe.professionTimeMs)==null?void 0:_e[St])||0;vt.forEach(tt=>{var nt;const wt=((nt=fe.professionTimeMs)==null?void 0:nt[tt])||0;wt>ve&&(ve=wt,St=tt)})}const zt=fe.durationMs||0,Be=fe.totalMs/1e3,pe=zt>0?fe.totalMs/zt:0,he=((Ie=O.get(fe.account))==null?void 0:Ie.supportActiveMs)||zt,et=he>0?fe.uptimeMs/he:0;return{account:fe.account,profession:St,professionList:vt,total:Be,perSecond:pe,uptimePerSecond:et,duration:zt/1e3}}).filter(fe=>fe.total>0||fe.perSecond>0);return{id:E,name:J.name||E,icon:J.icon,rows:ae}}).filter(E=>E.rows.length>0),lt=Array.from(we.values()).map(E=>{const z=Array.from(E.skills.values()).sort((ae,fe)=>fe.damage-ae.damage),J={key:E.key,account:E.account,displayName:E.displayName,profession:E.profession,professionList:E.professionList,totalFightMs:E.totalFightMs,skills:z};return h&&(J.skillMap=z.reduce((ae,fe)=>(ae[fe.id]=fe,ae),{})),J}).sort((E,z)=>E.displayName.localeCompare(z.displayName));return{total:y,wins:x,losses:w,avgSquadSize:te,avgEnemies:bt,squadKDR:Lt,enemyKDR:zn,totalSquadKills:M,totalSquadDeaths:j,totalEnemyKills:$,totalEnemyDeaths:T,leaderboards:dn,...sc,outgoingConditionSummary:Object.values(ne).sort((E,z)=>z.damage-E.damage),incomingConditionSummary:Object.values(H).sort((E,z)=>z.damage-E.damage),outgoingConditionPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.outgoingConditions})),incomingConditionPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.incomingConditions})),topSkills:fo,topIncomingSkills:ba,topSkillsByDamage:Ro,topSkillsByDownContribution:Ma,playerSkillBreakdowns:lt,topSkillsMetric:v,mapData:cc,timelineData:ul,boonTables:cl,boonTimeline:Kd,boonUptimeTimeline:bi,offensePlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,offenseTotals:E.offenseTotals,offenseRateWeights:E.offenseRateWeights,totalFightMs:E.totalFightMs})),defensePlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,defenseTotals:E.defenseTotals,activeMs:E.defenseActiveMs,minionDamageTakenByMinion:E.defenseMinionDamageTaken})),damageMitigationPlayers:an,damageMitigationMinions:sn,supportPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,supportTotals:E.supportTotals,activeMs:E.supportActiveMs})),healingPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,healingTotals:E.healingTotals,activeMs:E.healingActiveMs})),mvp:ya,silver:Lr,bronze:yu,squadClassData:bu,enemyClassData:Xe,fightBreakdown:yt,fightDiffMode:Vt,attendanceData:Rt,squadCompByFight:Nt,spikeDamage:fn,incomingStrikeDamage:yr,specialTables:nr,topStatsPerSecond:Ln,topStatsLeaderboardsPerSecond:gr,avgMvpScore:lc}})(),p=(()=>{const m=new Map,h=new Map,b=[],v=new Map,y=new Map;s.forEach(w=>{const S=w.details;if(!S)return;const C=S.skillMap||{},j=S.fightName||"Log",M=Yr(S,w)||Date.now(),T={id:w.filePath||w.id||j,label:j,timestamp:M,skillEntries:{},playerActiveSeconds:{},durationSeconds:S.durationMS?S.durationMS/1e3:0};(S.players||[]).forEach($=>{if($.notInSquad)return;const D=$.account||$.name||"Unknown",I=$.profession||"Unknown",O=`${D}|${I}`;let q=h.get(O);q||(q={key:O,account:D,displayName:D,profession:I,professionList:[I],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(O,q)),q.logs++;const X=(Array.isArray($.activeTimes)?$.activeTimes[0]:0)/1e3;q.totalActiveSeconds=(q.totalActiveSeconds||0)+X,T.playerActiveSeconds[O]=X,($.rotation||[]).forEach(se=>{var we,ne,H;if(!(se!=null&&se.id))return;const W=((we=se.skills)==null?void 0:we.length)||0;if(W<=0)return;const k=`s${se.id}`,V=((ne=C[k])==null?void 0:ne.name)||`Skill ${se.id}`,P=(H=C[k])==null?void 0:H.icon;q.skillTotals[k]=(q.skillTotals[k]||0)+W,m.set(k,(m.get(k)||0)+W),v.set(k,V),P&&!y.has(k)&&y.set(k,P),T.skillEntries[k]||(T.skillEntries[k]={name:V,icon:P,players:{}}),!T.skillEntries[k].icon&&P&&(T.skillEntries[k].icon=P),T.skillEntries[k].players[O]=(T.skillEntries[k].players[O]||0)+W})}),b.push(T)});const x=Array.from(m.entries()).map(([w,S])=>({id:w,name:v.get(w)||w,total:S,icon:y.get(w)})).sort((w,S)=>S.total-w.total);return{logRecords:b,players:Array.from(h.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:s,stats:f,skillUsageData:p}},qU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=g.useState({uploading:!1,message:null,url:null}),[u,d]=g.useState("idle"),f=()=>{const m=new Set;let h=null,b=null;e.forEach(M=>{const T=M.details;if(!T)return;const $=T.timeStartStd||T.timeStart||T.uploadTime||M.uploadTime,D=T.timeEndStd||T.timeEnd||T.uploadTime||M.uploadTime,I=$?new Date($):null,O=D?new Date(D):null;I&&!Number.isNaN(I.getTime())&&(!h||I<h)&&(h=I),O&&!Number.isNaN(O.getTime())&&(!b||O>b)&&(b=O),(T.players||[]).forEach(q=>{if(!(q!=null&&q.notInSquad)&&q!=null&&q.hasCommanderTag){const X=(q==null?void 0:q.name)||(q==null?void 0:q.account)||"Unknown";m.add(X)}})});const v=Array.from(m).sort((M,T)=>M.localeCompare(T)),y=h||new Date,x=b||y,w=y.toISOString(),S=x.toISOString(),C=`${y.toLocaleString()} - ${x.toLocaleString()}`,j=M=>String(M).padStart(2,"0");return{id:`${y.getFullYear()}${j(y.getMonth()+1)}${j(y.getDate())}-${j(y.getHours())}${j(y.getMinutes())}${j(y.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:v.length?v.join(", "):"Unknown Commander",commanders:v,dateStart:w,dateEnd:S,dateLabel:C,generatedAt:new Date().toISOString()}},p=()=>{var m;const h={...t,skillUsageData:n,statsViewSettings:r,uiTheme:a};if(Array.isArray(h.fightDiffMode)&&h.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return h;try{const b=Kh({logs:e,statsViewSettings:r}),v=(m=b==null?void 0:b.stats)==null?void 0:m.fightDiffMode;if(Array.isArray(v)&&v.length>0)return{...h,fightDiffMode:v}}catch{}return h};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const m=f(),h=p();await o({meta:m,stats:h})}catch(m){console.error("[StatsView] Web upload failed:",m)}},handleDevMockUpload:async()=>{var m;if(!(i||!((m=window.electronAPI)!=null&&m.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const h=f(),b=p(),v=await window.electronAPI.mockWebReport({meta:h,stats:b});v!=null&&v.success?l({uploading:!1,message:"Local report ready.",url:v.url||null}):l({uploading:!1,message:(v==null?void 0:v.error)||"Local report failed.",url:null})}catch(h){l({uploading:!1,message:(h==null?void 0:h.message)||"Local report failed.",url:null})}}}}};function HU(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const KU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Ul(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let df=null;function L3(e={}){return df||(e.includeStyleProperties?(df=e.includeStyleProperties,df):(df=Ul(window.getComputedStyle(document.documentElement)),df))}function Dg(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function GU(e){const t=Dg(e,"border-left-width"),n=Dg(e,"border-right-width");return e.clientWidth+t+n}function YU(e){const t=Dg(e,"border-top-width"),n=Dg(e,"border-bottom-width");return e.clientHeight+t+n}function F3(e,t={}){const n=t.width||GU(e),r=t.height||YU(e);return{width:n,height:r}}function XU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ji=16384;function JU(e){(e.width>ji||e.height>ji)&&(e.width>ji&&e.height>ji?e.width>e.height?(e.height*=ji/e.width,e.width=ji):(e.width*=ji/e.height,e.height=ji):e.width>ji?(e.height*=ji/e.width,e.width=ji):(e.width*=ji/e.height,e.height=ji))}function Tg(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function QU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function ZU(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),QU(a)}const mi=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||mi(n,t)};function eV(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function tV(e,t){return L3(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function nV(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?eV(n):tV(n,r);return document.createTextNode(`${a}{${i}}`)}function rC(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=KU();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(nV(o,n,a,r)),t.appendChild(s)}function rV(e,t,n){rC(e,t,":before",n),rC(e,t,":after",n)}const aC="application/font-woff",iC="image/jpeg",aV={woff:aC,woff2:aC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:iC,jpeg:iC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function iV(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Tk(e){const t=iV(e).toLowerCase();return aV[t]||""}function oV(e){return e.split(/,/)[1]}function Xx(e){return e.search(/^(data:)/)!==-1}function sV(e,t){return`data:${t};base64,${e}`}async function R3(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const ev={};function lV(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Pk(e,t,n){const r=lV(e,t,n.includeQueryParams);if(ev[r]!=null)return ev[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await R3(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),oV(s)));a=sV(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return ev[r]=a,a}async function cV(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Tg(t)}async function uV(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Tg(s)}const n=e.poster,r=Tk(n),a=await Pk(n,r,t);return Tg(a)}async function dV(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await iy(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function fV(e,t){return mi(e,HTMLCanvasElement)?cV(e):mi(e,HTMLVideoElement)?uV(e,t):mi(e,HTMLIFrameElement)?dV(e,t):e.cloneNode($3(e))}const pV=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",$3=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function mV(e,t,n){var r,a;if($3(t))return t;let i=[];return pV(e)&&e.assignedNodes?i=Ul(e.assignedNodes()):mi(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=Ul(e.contentDocument.body.childNodes):i=Ul(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||mi(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>iy(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function hV(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):L3(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),mi(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function gV(e,t){mi(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),mi(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function yV(e,t){if(mi(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function bV(e,t,n){return mi(t,Element)&&(hV(e,t,n),rV(e,t,n),gV(e,t),yV(e,t)),t}async function vV(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await iy(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function iy(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>fV(r,t)).then(r=>mV(e,r,t)).then(r=>bV(e,r,t)).then(r=>vV(r,t))}const B3=/url\((['"]?)([^'"]+?)\1\)/g,xV=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,wV=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function kV(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function SV(e){const t=[];return e.replace(B3,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Xx(n))}async function NV(e,t,n,r,a){try{const i=n?HU(t,n):t,o=Tk(t);let s;return a||(s=await Pk(i,o,r)),e.replace(kV(t),`$1${s}$3`)}catch{}return e}function jV(e,{preferredFontFormat:t}){return t?e.replace(wV,n=>{for(;;){const[r,,a]=xV.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function z3(e){return e.search(B3)!==-1}async function U3(e,t,n){if(!z3(e))return e;const r=jV(e,n);return SV(r).reduce((a,i)=>a.then(o=>NV(o,i,t,n)),Promise.resolve(r))}async function Mu(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await U3(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function CV(e,t){await Mu("background",e,t)||await Mu("background-image",e,t),await Mu("mask",e,t)||await Mu("-webkit-mask",e,t)||await Mu("mask-image",e,t)||await Mu("-webkit-mask-image",e,t)}async function AV(e,t){const n=mi(e,HTMLImageElement);if(!(n&&!Xx(e.src))&&!(mi(e,SVGImageElement)&&!Xx(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await Pk(r,Tk(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(u){o(u)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function MV(e,t){const n=Ul(e.childNodes).map(r=>V3(r,t));await Promise.all(n).then(()=>e)}async function V3(e,t){mi(e,Element)&&(await CV(e,t),await AV(e,t),await MV(e,t))}function EV(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const oC={};async function sC(e){let t=oC[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},oC[e]=t,t}async function lC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),R3(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function cC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function DV(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{Ul(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,u=sC(l).then(d=>lC(d,t)).then(d=>cC(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(sC(a.href).then(s=>lC(s,t)).then(s=>cC(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{Ul(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function TV(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>z3(t.style.getPropertyValue("src")))}async function PV(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Ul(e.ownerDocument.styleSheets),r=await DV(n,t);return TV(r)}function W3(e){return e.trim().replace(/["']/g,"")}function OV(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(W3(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function IV(e,t){const n=await PV(e,t),r=OV(e);return(await Promise.all(n.filter(a=>r.has(W3(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return U3(a.cssText,i,t)}))).join(`
`)}async function _V(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await IV(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function LV(e,t={}){const{width:n,height:r}=F3(e,t),a=await iy(e,t,!0);return await _V(a,t),await V3(a,t),EV(a,t),await ZU(a,n,r)}async function FV(e,t={}){const{width:n,height:r}=F3(e,t),a=await LV(e,t),i=await Tg(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||XU(),u=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=u*l,o.height=d*l,t.skipAutoScale||JU(o),o.style.width=`${u}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function RV(e,t={}){return(await FV(e,t)).toDataURL()}const $V=e=>{const[t,n]=g.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),u=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=u,globalThis.fetch=u;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],u=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const b=await u(h);if(!b)return;const v=p.src,y=p.srcset;p.src=b,p.srcset="",l.push(()=>{p.src=v,p.srcset=y});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let b=m,v=!1;for(const x of h){const w=x[1];if(!w)continue;const S=await u(w);S&&(b=b.replace(x[0],`url("${S}")`),v=!0)}if(!v)return;const y=p.style.backgroundImage;p.style.backgroundImage=b,l.push(()=>{p.style.backgroundImage=y})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const u=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>RV(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{u(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},Mf=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},BV=e=>!!(e&&e.__statsPruned===!0),uC=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,a])=>{if(!a||typeof a!="object")return;const i={};typeof a.name=="string"&&(i.name=a.name),typeof a.icon=="string"&&(i.icon=a.icon),t!=null&&t.includeClassification&&typeof a.classification=="string"&&(i.classification=a.classification),t!=null&&t.includeStacking&&(typeof a.stacking=="boolean"?i.stacking=a.stacking:typeof a.stacking=="number"&&(i.stacking=!!a.stacking)),Object.keys(i).length>0&&(n[r]=i)}),n},dC=e=>{var t;const n=(t=e==null?void 0:e.statsAll)==null?void 0:t[0];return!n||typeof n!="object"?!1:n.distToCom!==void 0&&n.distToCom!=="Infinity"||n.stackDist!==void 0},zV=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const a=Mf(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(a.positions=r.positions),a};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},fC=e=>{if(!e||typeof e!="object")return e;const t=Mf(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=uC(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=uC(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,r=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!dC(a));t.players=n.map(a=>{const i=Mf(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];i.minions=o.map(l=>Mf(l,["name","totalDamageTakenDist"]));const s=r&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!dC(a));return i.combatReplayData=zV(a==null?void 0:a.combatReplayData,s),i})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>Mf(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},UV=e=>{if(!e||typeof e!="object"||BV(e))return e;const t={...e};return e.details?t.details=fC(e.details):t.details=fC(e),t.__statsPruned=!0,t},VV=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=g.useState(()=>Kh(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,u]=g.useState(0),[d,f]=g.useState(0),[p,m]=g.useState(0),[h,b]=g.useState(0),[v,y]=g.useState(null),x=g.useRef(0),[w,S]=g.useState(0),C=g.useRef(null),j=g.useRef(null),[M,T]=g.useState(!1),$=g.useRef(null),D=g.useRef(null),I=g.useRef(0),O=g.useRef(0),q=g.useRef(new Map),X=g.useRef(""),se=g.useRef(void 0),we=g.useRef(""),ne=g.useRef(0),[H,W]=g.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[k,V]=g.useState(null),P=g.useRef(0),N=()=>{if($.current!==null&&(window.clearTimeout($.current),$.current=null),D.current!==null){const B=window.cancelIdleCallback;typeof B=="function"&&B(D.current),D.current=null}},F=(B,re)=>{const R=String((B==null?void 0:B.filePath)||(B==null?void 0:B.id)||`idx-${re}`),ce=B!=null&&B.details&&typeof B.details=="object"?B.details:null,ye=q.current.get(R);if(ye&&(ce&&ye.sourceDetails===ce||!ce&&ye.sourceLog===B))return ye.pruned;const G=UV(B);return q.current.set(R,{sourceLog:B,sourceDetails:ce,pruned:G}),G},U=g.useMemo(()=>{if(!r){X.current="",se.current=void 0;return}const B={...r};delete B.topSkillsMetric;const re=JSON.stringify(B);return X.current!==re&&(X.current=re,se.current=B),se.current},[r]);g.useEffect(()=>{if(!(typeof Worker>"u")&&!M&&i)return j.current||(j.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-CFtn4NoA-DoC9K9EI.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),j.current.onmessage=B=>{var re;if(((re=B.data)==null?void 0:re.type)==="result"){const R=typeof B.data.token=="number"?B.data.token:null;if(R!==null&&R!==x.current)return;g.startTransition(()=>{var ce;s(B.data.result),typeof B.data.computeId=="number"?u(B.data.computeId):u(Pe=>Pe+1),typeof B.data.logCount=="number"&&f(B.data.logCount),typeof B.data.token=="number"&&m(B.data.token),typeof B.data.completedAt=="number"&&b(B.data.completedAt),typeof B.data.flushId=="number"&&y(B.data.flushId);const ye=R===null||R===x.current,G=ne.current,me=typeof B.data.logCount=="number"?B.data.logCount:0;if(ye){const Pe=typeof B.data.completedAt=="number"?B.data.completedAt:Date.now(),mt=((ce=B.data)==null?void 0:ce.diagnostics)||{},Oe=Math.max(0,Number(mt.computeMs||0)),ie=P.current>0?P.current:Pe,Fe=Math.max(0,Pe-ie),te=Math.max(0,Fe-Oe);V({mode:"worker",logsInPayload:Number(mt.logsInPayload||B.data.logCount||0),streamedLogs:Number(B.data.logCount||0),totalLogs:G,startedAt:ie,completedAt:Pe,streamMs:te,computeMs:Oe,totalMs:Fe,flushId:typeof B.data.flushId=="number"?B.data.flushId:null,transferStripStats:mt.transferStripStats,counts:mt.counts,expectedLogCount:Number(mt.expectedLogCount||0),droppedLogMessages:Number(mt.droppedLogMessages||0)})}ye&&me>=G&&W(Pe=>({...Pe,active:G>0,phase:G>0?"settled":"idle",streamed:G,total:G,completedAt:typeof B.data.completedAt=="number"?B.data.completedAt:Date.now()}))})}},j.current.onerror=B=>{var re;console.warn("[StatsWorker] Worker error. Falling back to main thread.",B),(re=j.current)==null||re.terminate(),j.current=null,T(!0)},j.current.onmessageerror=B=>{var re;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",B),(re=j.current)==null||re.terminate(),j.current=null,T(!0)},C.current!==null&&j.current.postMessage({type:"flush",flushId:C.current,token:x.current})),()=>{var B;O.current+=1,N(),(B=j.current)==null||B.terminate(),j.current=null}},[M,i]),g.useEffect(()=>{var B;if(!j.current||M||!i)return;const re=O.current+1;O.current=re;let R=!1;try{ne.current=e.length,P.current=Date.now(),V(null),W({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const ce=x.current+1;x.current=ce,S(ce);const ye=new Set;e.forEach((ie,Fe)=>{ye.add(String((ie==null?void 0:ie.filePath)||(ie==null?void 0:ie.id)||`idx-${Fe}`))}),q.current.forEach((ie,Fe)=>{ye.has(Fe)||q.current.delete(Fe)}),N(),j.current.postMessage({type:"reset",token:ce,totalLogs:e.length}),j.current.postMessage({type:"settings",token:ce,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}});let G=0;const me=e.length,Pe=(ie,Fe=!1)=>{const te=performance.now();if(!Fe&&te-I.current<120&&G<me)return;I.current=te;const bt=Math.min(G,me);W(Lt=>Lt.active===me>0&&Lt.phase===ie&&Lt.streamed===bt&&Lt.total===me?Lt:{...Lt,active:me>0,phase:ie,streamed:bt,total:me})},mt=()=>{if(R||O.current!==re||!j.current)return;const ie=window.requestIdleCallback;if(typeof ie=="function"){D.current=ie(Fe=>{D.current=null,Oe(Fe)},{timeout:120});return}$.current=window.setTimeout(()=>{$.current=null,Oe()},0)},Oe=ie=>{if(R||O.current!==re||!j.current)return;const Fe=!!(ie&&typeof ie.timeRemaining=="function"),te=Fe?Math.max(0,Number(ie.timeRemaining()||0)):0,bt=Fe?te>12?4:te>7?2:1:1;let Lt=0;for(;Lt<bt&&G<me;)j.current.postMessage({type:"log",token:ce,payload:F(e[G],G)}),G+=1,Lt+=1;G<me?(Pe("streaming"),mt()):(Pe("computing",!0),j.current.postMessage({type:"flush",token:ce}))};I.current=0,me<=0?(Pe("computing",!0),j.current.postMessage({type:"flush",token:ce})):(Pe("streaming",!0),mt())}catch(ce){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",ce),N(),(B=j.current)==null||B.terminate(),j.current=null,T(!0),W({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),V(null)}return()=>{R=!0,N()}},[e,t,n,U,a,i,M]);const Q=g.useMemo(()=>{if(!M&&typeof Worker<"u"&&i)return null;const B=Date.now(),re=performance.now(),R=Kh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}),ce=Math.max(0,performance.now()-re),ye=Date.now();return{result:R,computeMs:ce,startedAt:B,completedAt:ye}},[M,e,t,n,U,a,i]),le=g.useMemo(()=>{if(!M&&typeof Worker<"u"&&i)return"worker";const B=e[0],re=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(B==null?void 0:B.filePath)||(B==null?void 0:B.name)||"",lastLogPath:(re==null?void 0:re.filePath)||(re==null?void 0:re.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:X.current})},[M,i,e,t,a]);g.useEffect(()=>{if(!M&&typeof Worker<"u"&&i||we.current===le)return;we.current=le,u(re=>re+1),f(e.length),m(x.current);const B=Date.now();b(B),V({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(Q==null?void 0:Q.startedAt)||B,completedAt:B,streamMs:0,computeMs:Math.max(0,Number((Q==null?void 0:Q.computeMs)||0)),totalMs:Math.max(0,Number((Q==null?void 0:Q.computeMs)||0)),flushId:null})},[le,Q,M,e.length,i]);const Y=M||typeof Worker>"u"||!i?(Q==null?void 0:Q.result)??Kh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}):o,L=!M&&typeof Worker<"u"&&i?H:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:Y,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:v,aggregationProgress:L,aggregationDiagnostics:k,requestFlush:()=>{const B=Date.now();return C.current=B,j.current&&!M&&j.current.postMessage({type:"flush",flushId:B,token:x.current}),B}}},WV=e=>({apmSpecBuckets:g.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=J8(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),u=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=u;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,C])=>{const j=Number(C);if(!Number.isFinite(j)||j<=0)return;const M=n.get(S),T=(M==null?void 0:M.name)||S,$=M==null?void 0:M.icon,D=a(T,S);d+=j,D&&(f+=j);let I=s.skillMap.get(S);I||(I={id:S,name:T,icon:$,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,I)),!I.icon&&$&&(I.icon=$),I.totalCasts+=j;const O=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;I.playerCounts.set(O,j)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=u/60,h=m>0?d/m:0,b=Math.max(0,d-f),v=m>0?b/m:0,y=u>0?d/u:0,x=u>0?b/u:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:u,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:v,aps:y,apsNoAuto:x};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((u,d)=>d.apm-u.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(u=>{const d=i.playerRows.map(h=>{var b;const v=Number(((b=u.playerCounts)==null?void 0:b.get(h.key))||0);if(!Number.isFinite(v)||v<=0)return null;const y=Number(h.totalActiveSeconds||0),x=y>0?v/(y/60):0,w=y>0?v/y:0;return{...h,count:v,apm:x,aps:w}}).filter(Boolean).sort((h,b)=>b.apm-h.apm||String(h.displayName||"").localeCompare(String(b.displayName||""))),f=Number(u.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...u,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((u,d)=>d.totalCasts-u.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),qV=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=g.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=g.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const b=p.totalActiveSeconds||1;h=b>0?m/b:0}d.set(p.key,h)}),d},[e.players,t,r]),o=g.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=g.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const b={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let v=!1,y=!1;if(Object.entries(h.players).forEach(([x,w])=>{var S;if(n.size>0&&!n.has(x))return;let C=w;if(f){const j=((S=p.playerActiveSeconds)==null?void 0:S[x])||0;C=j>0?w/j:0}b[x]=C,C>d&&(d=C),v=!0,y=!0}),n.size>0){if(!y)return null}else if(!v)return null;return n.forEach(x=>{b[x]===void 0&&(b[x]=0)}),b}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),u=g.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:u}};function q3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=q3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=q3(e))&&(r&&(r+=" "),r+=t);return r}var HV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ok(e){if(typeof e!="string")return!1;var t=HV;return t.includes(e)}var KV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GV=new Set(KV);function H3(e){return typeof e!="string"?!1:GV.has(e)}function K3(e){return typeof e=="string"&&e.startsWith("data-")}function ao(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(H3(n)||K3(n))&&(t[n]=e[n]);return t}function bd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ao(t)}return typeof e=="object"&&!Array.isArray(e)?ao(e):null}function Ua(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(H3(n)||K3(n)||Ok(n))&&(t[n]=e[n]);return t}function YV(e){return e==null?null:g.isValidElement(e)?Ua(e.props):typeof e=="object"&&!Array.isArray(e)?Ua(e):null}var XV=["children","width","height","viewBox","className","style","title","desc"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jx.apply(null,arguments)}function JV(e,t){if(e==null)return{};var n,r,a=QV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function QV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ik=g.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:u}=e,d=JV(e,XV),f=i||{width:r,height:a,x:0,y:0},p=Pn("recharts-surface",o);return g.createElement("svg",Jx({},Ua(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),ZV=["children","className"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(null,arguments)}function e7(e,t){if(e==null)return{};var n,r,a=t7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function t7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ja=g.forwardRef((e,t)=>{var{children:n,className:r}=e,a=e7(e,ZV),i=Pn("recharts-layer",r);return g.createElement("g",Qx({className:i},Ua(a),{ref:t}),n)}),G3=g.createContext(null),n7=()=>g.useContext(G3);function ir(e){return function(){return e}}const Y3=Math.cos,Pg=Math.sin,Lo=Math.sqrt,Og=Math.PI,oy=2*Og,Zx=Math.PI,ew=2*Zx,jc=1e-6,r7=ew-jc;function X3(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function a7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X3;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class i7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?X3:a7(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,u=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>jc)if(!(Math.abs(f*l-u*d)>jc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,b=l*l+u*u,v=m*m+h*h,y=Math.sqrt(b),x=Math.sqrt(p),w=i*Math.tan((Zx-Math.acos((b+p-v)/(2*y*x)))/2),S=w/x,C=w/y;Math.abs(S-1)>jc&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),u=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>jc||Math.abs(this._y1-d)>jc)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%ew+ew),p>r7?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>jc&&this._append`A${r},${r},0,${+(p>=Zx)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function _k(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new i7(t)}function Lk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function J3(e){this._context=e}J3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sy(e){return new J3(e)}function Q3(e){return e[0]}function Z3(e){return e[1]}function eO(e,t){var n=ir(!0),r=null,a=sy,i=null,o=_k(s);e=typeof e=="function"?e:e===void 0?Q3:ir(e),t=typeof t=="function"?t:t===void 0?Z3:ir(t);function s(l){var u,d=(l=Lk(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,l),+t(f,u,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ir(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ir(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ir(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function lh(e,t,n){var r=null,a=ir(!0),i=null,o=sy,s=null,l=_k(u);e=typeof e=="function"?e:e===void 0?Q3:ir(+e),t=typeof t=="function"?t:ir(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Z3:ir(+n);function u(f){var p,m,h,b=(f=Lk(f)).length,v,y=!1,x,w=new Array(b),S=new Array(b);for(i==null&&(s=o(x=l())),p=0;p<=b;++p){if(!(p<b&&a(v=f[p],p,f))===y)if(y=!y)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}y&&(w[p]=+e(v,p,f),S[p]=+t(v,p,f),s.point(r?+r(v,p,f):w[p],n?+n(v,p,f):S[p]))}if(x)return s=null,x+""||null}function d(){return eO().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ir(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ir(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ir(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class tO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function o7(e){return new tO(e,!0)}function s7(e){return new tO(e,!1)}const Fk={draw(e,t){const n=Lo(t/Og);e.moveTo(n,0),e.arc(0,0,n,0,oy)}},l7={draw(e,t){const n=Lo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},nO=Lo(1/3),c7=nO*2,u7={draw(e,t){const n=Lo(t/c7),r=n*nO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},d7={draw(e,t){const n=Lo(t),r=-n/2;e.rect(r,r,n,n)}},f7=.8908130915292852,rO=Pg(Og/10)/Pg(7*Og/10),p7=Pg(oy/10)*rO,m7=-Y3(oy/10)*rO,h7={draw(e,t){const n=Lo(t*f7),r=p7*n,a=m7*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=oy*i/5,s=Y3(o),l=Pg(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},tv=Lo(3),g7={draw(e,t){const n=-Lo(t/(tv*3));e.moveTo(0,n*2),e.lineTo(-tv*n,-n),e.lineTo(tv*n,-n),e.closePath()}},Vi=-.5,Wi=Lo(3)/2,tw=1/Lo(12),y7=(tw/2+1)*3,b7={draw(e,t){const n=Lo(t/y7),r=n/2,a=n*tw,i=r,o=n*tw+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Vi*r-Wi*a,Wi*r+Vi*a),e.lineTo(Vi*i-Wi*o,Wi*i+Vi*o),e.lineTo(Vi*s-Wi*l,Wi*s+Vi*l),e.lineTo(Vi*r+Wi*a,Vi*a-Wi*r),e.lineTo(Vi*i+Wi*o,Vi*o-Wi*i),e.lineTo(Vi*s+Wi*l,Vi*l-Wi*s),e.closePath()}};function v7(e,t){let n=null,r=_k(a);e=typeof e=="function"?e:ir(e||Fk),t=typeof t=="function"?t:ir(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ir(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ir(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Ig(){}function _g(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function aO(e){this._context=e}aO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_g(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x7(e){return new aO(e)}function iO(e){this._context=e}iO.prototype={areaStart:Ig,areaEnd:Ig,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_g(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w7(e){return new iO(e)}function oO(e){this._context=e}oO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_g(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k7(e){return new oO(e)}function sO(e){this._context=e}sO.prototype={areaStart:Ig,areaEnd:Ig,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function S7(e){return new sO(e)}function pC(e){return e<0?-1:1}function mC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(pC(i)+pC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function hC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function nv(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Lg(e){this._context=e}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nv(this,this._t0,hC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nv(this,hC(this,n=mC(this,e,t)),n);break;default:nv(this,this._t0,n=mC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function lO(e){this._context=new cO(e)}(lO.prototype=Object.create(Lg.prototype)).point=function(e,t){Lg.prototype.point.call(this,t,e)};function cO(e){this._context=e}cO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function N7(e){return new Lg(e)}function j7(e){return new lO(e)}function uO(e){this._context=e}uO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=gC(e),a=gC(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gC(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function C7(e){return new uO(e)}function ly(e,t){this._context=e,this._t=t}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function A7(e){return new ly(e,.5)}function M7(e){return new ly(e,0)}function E7(e){return new ly(e,1)}function eu(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function nw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function D7(e,t){return e[t]}function T7(e){const t=[];return t.key=e,t}function P7(){var e=ir([]),t=nw,n=eu,r=D7;function a(i){var o=Array.from(e.apply(this,arguments),T7),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,i)]).data=f;for(s=0,d=Lk(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ir(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:ir(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?nw:typeof i=="function"?i:ir(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??eu,a):n},a}function O7(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}eu(e,t)}}function I7(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}eu(e,t)}}function _7(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var b=e[t[h]],v=b[r][1]||0,y=b[r-1][1]||0;m+=v-y}l+=f,u+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=u/l)}a[r-1][1]+=a[r-1][0]=n,eu(e,t)}}var cy={},dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(dO);var Rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Rk);var uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(uy);var dy={},fO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fO,n=uy;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,l+=a[s]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(dy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dO,n=Rk,r=uy,a=dy;function i(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?u:d}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?u:d}}}function o(s,l,u){if(l.length===0)return u;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=i})(cy);var L7=cy.get;const tu=_o(L7);var F7=4;function Ol(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F7,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Ar(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Ol(s)+i:a+i},"")}var $a=e=>e===0?0:e>0?1:-1,io=e=>typeof e=="number"&&e!=+e,qs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_t=e=>(typeof e=="number"||e instanceof Number)&&!io(e),oo=e=>_t(e)||typeof e=="string",R7=0,vp=e=>{var t=++R7;return"".concat(e||"").concat(t)},to=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(e)&&typeof e!="string")return n;var a;if(qs(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return io(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},pO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ra(e,t,n){return _t(e)&&_t(t)?Ol(e+n*(t-e)):t}function mO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):tu(r,t))===n)}var Zr=e=>e===null||typeof e>"u",qp=e=>Zr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $7(e){return e!=null}function Hp(){}var B7=["type","size","sizeType"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rw.apply(null,arguments)}function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(n),!0).forEach(function(r){z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z7(e,t,n){return(t=U7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W7(e,t){if(e==null)return{};var n,r,a=q7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function q7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hO={symbolCircle:Fk,symbolCross:l7,symbolDiamond:u7,symbolSquare:d7,symbolStar:h7,symbolTriangle:g7,symbolWye:b7},H7=Math.PI/180,K7=e=>{var t="symbol".concat(qp(e));return hO[t]||Fk},G7=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*H7;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Y7=(e,t)=>{hO["symbol".concat(qp(e))]=t},$k=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=W7(e,B7),i=bC(bC({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=K7(o),m=v7().type(p).size(G7(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:u,cy:d}=i,f=Ua(i);return _t(u)&&_t(d)&&_t(n)?g.createElement("path",rw({},f,{className:Pn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};$k.registerSymbol=Y7;var gO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Bk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Ok(a)&&(r[a]=i=>n[a](n,i))}),r},X7=(e,t,n)=>r=>(e(t,n,r),null),zk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];Ok(a)&&typeof i=="function"&&(r||(r={}),r[a]=X7(i,t,n))}),r};function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){Q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q7(e,t,n){return(t=Z7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z7(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t){var n=J7({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fg.apply(null,arguments)}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function t9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){n9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n9(e,t,n){return(t=r9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ki=32,i9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function o9(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Ki/2,i=Ki/6,o=Ki/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Ki,y2:a,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ki,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Ki/8,"h").concat(Ki,"v").concat(Ki*3/4,"h").concat(-Ki,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=t9({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement($k,{fill:s,cx:a,cy:a,size:Ki,sizeType:"diameter",type:l})}function s9(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Ki,height:Ki},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=Pn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,b=p?p(d.value,d,f):d.value;return g.createElement("li",Fg({className:m,style:l,key:"legend-item-".concat(f)},zk(e,d,f)),g.createElement(Ik,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(b," legend icon")},g.createElement(o9,{data:d,iconType:o,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},b))})}var l9=e=>{var t=Hr(e,i9),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(s9,Fg({},t,{payload:n})))},yO={},bO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(bO);var vO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(vO);var Uk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Uk);var xO={},fy={},wO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(wO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(fy);var kO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(kO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fy,n=kO;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(xO);var SO={},NO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cy;function n(r){return function(a){return t.get(a,r)}}e.property=n})(NO);var jO={},Vk={},CO={},Wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Wk);var qk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(qk);var Hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk,n=qk,r=Hk;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,b,v,y,x,w){const S=p(h,b,v,y,x,w);return S!==void 0?!!S:i(h,b,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return u(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let b=0;b<h.length;b++){const v=h[b];if(!n.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!p(d[v],f[v],v,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,b]of f.entries()){const v=d.get(h);if(p(v,b,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let b=0;b<f.length;b++){const v=f[b];let y=!1;for(let x=0;x<d.length;x++){if(h.has(x))continue;const w=d[x];let S=!1;if(p(w,v,b,d,f,m)&&(S=!0),S){h.add(x),y=!0;break}}if(!y)return!1}return!0}function u(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=u})(CO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CO;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(Vk);var AO={},Kk={},MO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(MO);var py={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(py);var Gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",b="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",j="[object Int16Array]",M="[object Int32Array]",T="[object BigInt64Array]",$="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=b,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=$,e.float64ArrayTag=D,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=M,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(Gk);var EO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(EO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MO,n=py,r=Gk,a=qk,i=EO;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const b=h==null?void 0:h(d,f,p,m);if(b!==void 0)return b;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let y=0;y<d.length;y++)v[y]=s(d[y],y,p,m,h);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[y,x]of d)v.set(y,s(x,y,p,m,h));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const y of d)v.add(s(y,void 0,p,m,h));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let y=0;y<d.length;y++)v[y]=s(d[y],y,p,m,h);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),l(v,d,p,m,h),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),l(v,d,p,m,h),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),l(v,d,p,m,h),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,l(v,d,p,m,h),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return m.set(d,v),l(v,d,p,m,h),v}if(d instanceof Number){const v=new Number(d.valueOf());return m.set(d,v),l(v,d,p,m,h),v}if(d instanceof String){const v=new String(d.valueOf());return m.set(d,v),l(v,d,p,m,h),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),l(v,d,p,m,h),v}return d}function l(d,f,p=d,m,h){const b=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<b.length;v++){const y=b[v],x=Object.getOwnPropertyDescriptor(d,y);(x==null||x.writable)&&(d[y]=s(f[y],y,p,m,h))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Kk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(AO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vk,n=AO;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(jO);var DO={},TO={},PO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk,n=py,r=Gk;function a(i,o){return t.cloneDeepWith(i,(s,l,u,d)=>{const f=o==null?void 0:o(s,l,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,u,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(PO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(TO);var OO={},Yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Yk);var IO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=py;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(IO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rk,n=Yk,r=IO,a=dy;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(OO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vk,n=uy,r=TO,a=cy,i=OO;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(DO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uk,n=NO,r=jO,a=DO;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(SO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bO,n=vO,r=Uk,a=xO,i=SO;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(yO);var c9=yO.uniqBy;const wC=_o(c9);function _O(e,t,n){return t===!0?wC(e,n):typeof t=="function"?wC(e,t):e}var LO={exports:{}},FO={},RO={exports:{}},$O={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var vd=g;function u9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d9=typeof Object.is=="function"?Object.is:u9,f9=vd.useState,p9=vd.useEffect,m9=vd.useLayoutEffect,h9=vd.useDebugValue;function g9(e,t){var n=t(),r=f9({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return m9(function(){a.value=n,a.getSnapshot=t,rv(a)&&i({inst:a})},[e,n,t]),p9(function(){return rv(a)&&i({inst:a}),e(function(){rv(a)&&i({inst:a})})},[e]),h9(n),n}function rv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!d9(e,n)}catch{return!0}}function y9(e,t){return t()}var b9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y9:g9;$O.useSyncExternalStore=vd.useSyncExternalStore!==void 0?vd.useSyncExternalStore:b9;RO.exports=$O;var v9=RO.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var my=g,x9=v9;function w9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k9=typeof Object.is=="function"?Object.is:w9,S9=x9.useSyncExternalStore,N9=my.useRef,j9=my.useEffect,C9=my.useMemo,A9=my.useDebugValue;FO.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=N9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=C9(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,k9(d,m))return h;var b=r(m);return a!==void 0&&a(h,b)?(d=m,h):(d=m,f=b)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=S9(e,i[0],i[1]);return j9(function(){o.hasValue=!0,o.value=s},[s]),A9(s),s};LO.exports=FO;var M9=LO.exports,Xk=g.createContext(null),E9=e=>e,Xn=()=>{var e=g.useContext(Xk);return e?e.store.dispatch:E9},Gh=()=>{},D9=()=>Gh,T9=(e,t)=>e===t;function Mt(e){var t=g.useContext(Xk);return M9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:D9,t?t.store.getState:Gh,t?t.store.getState:Gh,t?e:Gh,T9)}function P9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function O9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function I9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var kC=e=>Array.isArray(e)?e:[e];function _9(e){const t=Array.isArray(e[0])?e[0]:e;return I9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function L9(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var F9=class{constructor(e){this.value=e}deref(){return this.value}},R9=typeof WeakRef<"u"?WeakRef:F9,$9=0,SC=1;function ch(){return{s:$9,v:void 0,o:null,p:null}}function BO(e,t={}){let n=ch();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:u}=arguments;for(let p=0,m=u;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const v=b.get(h);v===void 0?(l=ch(),b.set(h,l)):l=v}else{let b=l.p;b===null&&(l.p=b=new Map);const v=b.get(h);v===void 0?(l=ch(),b.set(h,l)):l=v}}const d=l;let f;if(l.s===SC)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new R9(f):f}return d.s=SC,d.v=f,f}return o.clearCache=()=>{n=ch(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function B9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),P9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=BO,argsMemoizeOptions:h=[]}=d,b=kC(p),v=kC(h),y=_9(a),x=f(function(){return i++,u.apply(null,arguments)},...b),w=m(function(){o++;const S=L9(y,arguments);return s=x.apply(null,S),s},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var be=B9(BO),z9=Object.assign((e,t=be)=>{O9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>z9}),zO={},UO={},VO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(VO);var WO={},Jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Jk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(WO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO,n=WO,r=dy;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,m)=>{let h=p;for(let b=0;b<m.length&&h!=null;++b)h=h[m[b]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const b=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(b!==0)return b}return 0}).map(p=>p.original)}e.orderBy=a})(UO);var qO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(qO);var Qk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yk,n=fy,r=Wk,a=Hk;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(Qk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UO,n=qO,r=Qk;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(zO);var U9=zO.sortBy;const hy=_o(U9);var HO=e=>e.legend.settings,V9=e=>e.legend.size,W9=e=>e.legend.payload,q9=be([W9,HO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?hy(r,n):r});function H9(){return Mt(q9)}var uh=1;function KO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>uh||Math.abs(o.left-t.left)>uh||Math.abs(o.top-t.top)>uh||Math.abs(o.width-t.width)>uh)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function wa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K9=typeof Symbol=="function"&&Symbol.observable||"@@observable",NC=K9,av=()=>Math.random().toString(36).substring(7).split("").join("."),G9={INIT:`@@redux/INIT${av()}`,REPLACE:`@@redux/REPLACE${av()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${av()}`},Rg=G9;function Zk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function GO(e,t,n){if(typeof e!="function")throw new Error(wa(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wa(1));return n(GO)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function u(){o===i&&(o=new Map,i.forEach((b,v)=>{o.set(v,b)}))}function d(){if(l)throw new Error(wa(3));return a}function f(b){if(typeof b!="function")throw new Error(wa(4));if(l)throw new Error(wa(5));let v=!0;u();const y=s++;return o.set(y,b),function(){if(v){if(l)throw new Error(wa(6));v=!1,u(),o.delete(y),i=null}}}function p(b){if(!Zk(b))throw new Error(wa(7));if(typeof b.type>"u")throw new Error(wa(8));if(typeof b.type!="string")throw new Error(wa(17));if(l)throw new Error(wa(9));try{l=!0,a=r(a,b)}finally{l=!1}return(i=o).forEach(v=>{v()}),b}function m(b){if(typeof b!="function")throw new Error(wa(10));r=b,p({type:Rg.REPLACE})}function h(){const b=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(wa(11));function y(){const x=v;x.next&&x.next(d())}return y(),{unsubscribe:b(y)}},[NC](){return this}}}return p({type:Rg.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[NC]:h}}function Y9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Rg.INIT})>"u")throw new Error(wa(12));if(typeof n(void 0,{type:Rg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wa(13))})}function YO(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{Y9(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(wa(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function $g(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function X9(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(wa(15))};const o={getState:a.getState,dispatch:(l,...u)=>i(l,...u)},s=e.map(l=>l(o));return i=$g(...s)(a.dispatch),{...a,dispatch:i}}}function XO(e){return Zk(e)&&"type"in e&&typeof e.type=="string"}var JO=Symbol.for("immer-nothing"),jC=Symbol.for("immer-draftable"),Qa=Symbol.for("immer-state");function xo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ti=Object,xd=Ti.getPrototypeOf,Bg="constructor",gy="prototype",aw="configurable",zg="enumerable",Yh="writable",xp="value",Hs=e=>!!e&&!!e[Qa];function Eo(e){var t;return e?QO(e)||by(e)||!!e[jC]||!!((t=e[Bg])!=null&&t[jC])||vy(e)||xy(e):!1}var J9=Ti[gy][Bg].toString(),CC=new WeakMap;function QO(e){if(!e||!eS(e))return!1;const t=xd(e);if(t===null||t===Ti[gy])return!0;const n=Ti.hasOwnProperty.call(t,Bg)&&t[Bg];if(n===Object)return!0;if(!Iu(n))return!1;let r=CC.get(n);return r===void 0&&(r=Function.toString.call(n),CC.set(n,r)),r===J9}function yy(e,t,n=!0){Kp(e)===0?(n?Reflect.ownKeys(e):Ti.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Kp(e){const t=e[Qa];return t?t.type_:by(e)?1:vy(e)?2:xy(e)?3:0}var AC=(e,t,n=Kp(e))=>n===2?e.has(t):Ti[gy].hasOwnProperty.call(e,t),iw=(e,t,n=Kp(e))=>n===2?e.get(t):e[t],Ug=(e,t,n,r=Kp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Q9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var by=Array.isArray,vy=e=>e instanceof Map,xy=e=>e instanceof Set,eS=e=>typeof e=="object",Iu=e=>typeof e=="function",iv=e=>typeof e=="boolean";function Z9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var As=e=>e.copy_||e.base_,tS=e=>e.modified_?e.copy_:e.base_;function ow(e,t){if(vy(e))return new Map(e);if(xy(e))return new Set(e);if(by(e))return Array[gy].slice.call(e);const n=QO(e);if(t===!0||t==="class_only"&&!n){const r=Ti.getOwnPropertyDescriptors(e);delete r[Qa];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[Yh]===!1&&(s[Yh]=!0,s[aw]=!0),(s.get||s.set)&&(r[o]={[aw]:!0,[Yh]:!0,[zg]:s[zg],[xp]:e[o]})}return Ti.create(xd(e),r)}else{const r=xd(e);if(r!==null&&n)return{...e};const a=Ti.create(r);return Ti.assign(a,e)}}function nS(e,t=!1){return wy(e)||Hs(e)||!Eo(e)||(Kp(e)>1&&Ti.defineProperties(e,{set:dh,add:dh,clear:dh,delete:dh}),Ti.freeze(e),t&&yy(e,(n,r)=>{nS(r,!0)},!1)),e}function eW(){xo(2)}var dh={[xp]:eW};function wy(e){return e===null||!eS(e)?!0:Ti.isFrozen(e)}var Vg="MapSet",sw="Patches",MC="ArrayMethods",ZO={};function nu(e){const t=ZO[e];return t||xo(0,e),t}var EC=e=>!!ZO[e],wp,e4=()=>wp,tW=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:EC(Vg)?nu(Vg):void 0,arrayMethodsPlugin_:EC(MC)?nu(MC):void 0});function DC(e,t){t&&(e.patchPlugin_=nu(sw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lw(e){cw(e),e.drafts_.forEach(nW),e.drafts_=null}function cw(e){e===wp&&(wp=e.parent_)}var TC=e=>wp=tW(wp,e);function nW(e){const t=e[Qa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function PC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Qa].modified_&&(lw(t),xo(4)),Eo(e)&&(e=OC(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Qa].base_,e,t)}else e=OC(t,n);return rW(t,e,!0),lw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==JO?e:void 0}function OC(e,t){if(wy(t))return t;const n=t[Qa];if(!n)return Wg(t,e.handledSet_,e);if(!ky(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);r4(n,e)}return n.copy_}function rW(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nS(t,n)}function t4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ky=(e,t)=>e.scope_===t,aW=[];function n4(e,t,n,r){const a=As(e),i=e.type_;if(r!==void 0&&iw(a,r,i)===t){Ug(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;yy(a,(l,u)=>{if(Hs(u)){const d=s.get(u)||[];d.push(l),s.set(u,d)}})}const o=e.draftLocations_.get(t)??aW;for(const s of o)Ug(a,s,n,i)}function iW(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!ky(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=tS(i);n4(e,i.draft_??i,o,n),r4(i,r)})}function r4(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}t4(e)}}function oW(e,t,n){const{scope_:r}=e;if(Hs(n)){const a=n[Qa];ky(a,r)&&a.callbacks_.push(function(){Xh(e);const i=tS(a);n4(e,n,i,t)})}else Eo(n)&&e.callbacks_.push(function(){const a=As(e);e.type_===3?a.has(n)&&Wg(n,r.handledSet_,r):iw(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Wg(iw(e.copy_,t,e.type_),r.handledSet_,r)})}function Wg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Hs(e)||t.has(e)||!Eo(e)||wy(e)||(t.add(e),yy(e,(r,a)=>{if(Hs(a)){const i=a[Qa];if(ky(i,n)){const o=tS(i);Ug(e,r,o,e.type_),t4(i)}}else Eo(a)&&Wg(a,t,n)})),e}function sW(e,t){const n=by(e),r={type_:n?1:0,scope_:t?t.scope_:e4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=qg;n&&(a=[r],i=kp);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var qg={get(e,t){if(t===Qa)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=As(e);if(!AC(a,t,e.type_))return lW(e,a,t);const i=a[t];if(e.finalized_||!Eo(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&Z9(t))return i;if(i===ov(e.base_,t)){Xh(e);const o=e.type_===1?+t:t,s=dw(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in As(e)},ownKeys(e){return Reflect.ownKeys(As(e))},set(e,t,n){const r=a4(As(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=ov(As(e),t),i=a==null?void 0:a[Qa];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Q9(n,a)&&(n!==void 0||AC(e.base_,t,e.type_)))return!0;Xh(e),uw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),oW(e,t,n)),!0},deleteProperty(e,t){return Xh(e),ov(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),uw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=As(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Yh]:!0,[aw]:e.type_!==1||t!=="length",[zg]:r[zg],[xp]:n[t]}},defineProperty(){xo(11)},getPrototypeOf(e){return xd(e.base_)},setPrototypeOf(){xo(12)}},kp={};for(let e in qg){let t=qg[e];kp[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}kp.deleteProperty=function(e,t){return kp.set.call(this,e,t,void 0)};kp.set=function(e,t,n){return qg.set.call(this,e[0],t,n,e[0])};function ov(e,t){const n=e[Qa];return(n?As(n):e)[t]}function lW(e,t,n){var r;const a=a4(t,n);return a?xp in a?a[xp]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function a4(e,t){if(!(t in e))return;let n=xd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=xd(n)}}function uw(e){e.modified_||(e.modified_=!0,e.parent_&&uw(e.parent_))}function Xh(e){e.copy_||(e.assigned_=new Map,e.copy_=ow(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Iu(t)&&!Iu(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}Iu(n)||xo(6),r!==void 0&&!Iu(r)&&xo(7);let a;if(Eo(t)){const i=TC(this),o=dw(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?lw(i):cw(i)}return DC(i,r),PC(a,i)}else if(!t||!eS(t)){if(a=n(t),a===void 0&&(a=t),a===JO&&(a=void 0),this.autoFreeze_&&nS(a,!0),r){const i=[],o=[];nu(sw).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else xo(1,t)},this.produceWithPatches=(t,n)=>{if(Iu(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},iv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),iv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),iv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Eo(e)||xo(8),Hs(e)&&(e=jo(e));const t=TC(this),n=dw(t,e,void 0);return n[Qa].isManual_=!0,cw(t),n}finishDraft(e,t){const n=e&&e[Qa];(!n||!n.isManual_)&&xo(9);const{scope_:r}=n;return DC(r,t),PC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=nu(sw).applyPatches_;return Hs(e)?r(e,t):this.produce(e,a=>r(a,t))}};function dw(e,t,n,r){const[a,i]=vy(t)?nu(Vg).proxyMap_(t,n):xy(t)?nu(Vg).proxySet_(t,n):sW(t,n);return((n==null?void 0:n.scope_)??e4()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?iW(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function jo(e){return Hs(e)||xo(10,e),i4(e)}function i4(e){if(!Eo(e)||wy(e))return e;const t=e[Qa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ow(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ow(e,!0);return yy(n,(a,i)=>{Ug(n,a,i4(i))},r),t&&(t.finalized_=!1),n}var uW=new cW,o4=uW.produce;function s4(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var dW=s4(),fW=s4,pW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$g:$g.apply(null,arguments)};function so(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Oi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>XO(r)&&r.type===e,n}var l4=class Ef extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ef.prototype)}static get[Symbol.species](){return Ef}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ef(...t[0].concat(this)):new Ef(...t.concat(this))}};function IC(e){return Eo(e)?o4(e,()=>{}):e}function fh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function mW(e){return typeof e=="boolean"}var hW=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new l4;return t&&(mW(t)?i.push(dW):i.push(fW(t.extraArgument))),i},c4="RTK_autoBatch",ur=()=>e=>({payload:e,meta:{[c4]:!0}}),_C=e=>t=>{setTimeout(t,e)},u4=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_C(10):e.type==="callback"?e.queueNotification:_C(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[c4]),i=!a,i&&(o||(o=!0,l(u))),r.dispatch(d)}finally{a=!0}}})},gW=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new l4(e);return n&&r.push(u4(typeof n=="object"?n:void 0)),r};function yW(e){const t=hW(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(Zk(n))s=YO(n);else throw new Error(Oi(1));let l;typeof r=="function"?l=r(t):l=t();let u=$g;a&&(u=pW({trace:!1,...typeof a=="object"&&a}));const d=X9(...l),f=gW(d);let p=typeof o=="function"?o(f):f();const m=u(...p);return GO(s,i,m)}function d4(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(Oi(28));if(s in t)throw new Error(Oi(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function bW(e){return typeof e=="function"}function vW(e,t){let[n,r,a]=d4(t),i;if(bW(e))i=()=>IC(e());else{const s=IC(e);i=()=>s}function o(s=i(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Hs(d)){const p=f(d,l);return p===void 0?d:p}else{if(Eo(d))return o4(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var xW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wW=(e=21)=>{let t="",n=e;for(;n--;)t+=xW[Math.random()*64|0];return t},kW=Symbol.for("rtk-slice-createasyncthunk");function SW(e,t){return`${e}/${t}`}function NW({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[kW];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(Oi(11));const o=(typeof r.reducers=="function"?r.reducers(CW()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,S){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(Oi(12));if(C in l.sliceCaseReducersByType)throw new Error(Oi(13));return l.sliceCaseReducersByType[C]=S,u},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),u},exposeAction(w,S){return l.actionCreators[w]=S,u},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,u}};s.forEach(w=>{const S=o[w],C={reducerName:w,type:SW(a,w),createNotation:typeof r.reducers=="function"};MW(S)?DW(C,S,u,n):AW(C,S,u)});function d(){const[w={},S=[],C=void 0]=typeof r.extraReducers=="function"?d4(r.extraReducers):[r.extraReducers],j={...w,...l.sliceCaseReducersByType};return vW(r.initialState,M=>{for(let T in j)M.addCase(T,j[T]);for(let T of l.sliceMatchers)M.addMatcher(T.matcher,T.reducer);for(let T of S)M.addMatcher(T.matcher,T.reducer);C&&M.addDefaultCase(C)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function b(w,S){return h||(h=d()),h(w,S)}function v(){return h||(h=d()),h.getInitialState()}function y(w,S=!1){function C(M){let T=M[w];return typeof T>"u"&&S&&(T=fh(m,C,v)),T}function j(M=f){const T=fh(p,S,()=>new WeakMap);return fh(T,M,()=>{const $={};for(const[D,I]of Object.entries(r.selectors??{}))$[D]=jW(I,M,()=>fh(m,M,v),S);return $})}return{reducerPath:w,getSelectors:j,get selectors(){return j(C)},selectSlice:C}}const x={name:a,reducer:b,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:v,...y(i),injectInto(w,{reducerPath:S,...C}={}){const j=S??i;return w.inject({reducerPath:j,reducer:b},C),{...x,...y(j,!0)}}};return x}}function jW(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var gi=NW();function CW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function AW({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!EW(r))throw new Error(Oi(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?so(e,o):so(e))}function MW(e){return e._reducerDefinitionType==="asyncThunk"}function EW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function DW({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Oi(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:u,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:o||ph,pending:s||ph,rejected:l||ph,settled:u||ph})}function ph(){}var TW="task",f4="listener",p4="completed",rS="cancelled",PW=`task-${rS}`,OW=`task-${p4}`,fw=`${f4}-${rS}`,IW=`${f4}-${p4}`,Sy=class{constructor(e){Fj(this,"name","TaskAbortError"),Fj(this,"message"),this.code=e,this.message=`${TW} ${rS} (reason: ${e})`}},aS=(e,t)=>{if(typeof e!="function")throw new TypeError(Oi(32))},Hg=()=>{},m4=(e,t=Hg)=>(e.catch(t),e),h4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wc=e=>{if(e.aborted)throw new Sy(e.reason)};function g4(e,t){let n=Hg;return new Promise((r,a)=>{const i=()=>a(new Sy(e.reason));if(e.aborted){i();return}n=h4(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Hg})}var _W=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Sy?"cancelled":"rejected",error:n}}finally{t==null||t()}},Kg=e=>t=>m4(g4(e,t).then(n=>(Wc(e),n))),y4=e=>{const t=Kg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:od}=Object,LC={},Ny="listenerMiddleware",LW=(e,t)=>{const n=r=>h4(e,()=>r.abort(e.reason));return(r,a)=>{aS(r);const i=new AbortController;n(i);const o=_W(async()=>{Wc(e),Wc(i.signal);const s=await r({pause:Kg(i.signal),delay:y4(i.signal),signal:i.signal});return Wc(i.signal),s},()=>i.abort(OW));return a!=null&&a.autoJoin&&t.push(o.catch(Hg)),{result:Kg(e)(o),cancel(){i.abort(PW)}}}},FW=(e,t)=>{const n=async(r,a)=>{Wc(t);let i=()=>{};const o=[new Promise((s,l)=>{let u=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{u(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await g4(t,Promise.race(o));return Wc(t),s}finally{i()}};return(r,a)=>m4(n(r,a))},b4=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=so(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Oi(21));return aS(i),{predicate:a,type:t,effect:i}},v4=od(e=>{const{type:t,predicate:n,effect:r}=b4(e);return{id:wW(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Oi(22))}}},{withTypes:()=>v4}),FC=(e,t)=>{const{type:n,effect:r,predicate:a}=b4(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},pw=e=>{e.pending.forEach(t=>{t.abort(fw)})},RW=(e,t)=>()=>{for(const n of t.keys())pw(n);e.clear()},RC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},x4=od(so(`${Ny}/add`),{withTypes:()=>x4}),$W=so(`${Ny}/removeAll`),w4=od(so(`${Ny}/remove`),{withTypes:()=>w4}),BW=(...e)=>{console.error(`${Ny}/error`,...e)},Gp=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=BW}=e;aS(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&pw(p)}),l=p=>{const m=FC(t,p)??v4(p);return s(m)};od(l,{withTypes:()=>l});const u=p=>{const m=FC(t,p);return m&&(m.unsubscribe(),p.cancelActive&&pw(m)),!!m};od(u,{withTypes:()=>u});const d=async(p,m,h,b)=>{const v=new AbortController,y=FW(l,v.signal),x=[];try{p.pending.add(v),r(p),await Promise.resolve(p.effect(m,od({},h,{getOriginalState:b,condition:(w,S)=>y(w,S).then(Boolean),take:y,delay:y4(v.signal),pause:Kg(v.signal),extra:i,signal:v.signal,fork:LW(v.signal,x),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,C)=>{w!==v&&(w.abort(fw),C.delete(w))})},cancel:()=>{v.abort(fw),p.pending.delete(v)},throwIfCancelled:()=>{Wc(v.signal)}})))}catch(w){w instanceof Sy||RC(o,w,{raisedBy:"effect"})}finally{await Promise.all(x),v.abort(IW),a(p),p.pending.delete(v)}},f=RW(t,n);return{middleware:p=>m=>h=>{if(!XO(h))return m(h);if(x4.match(h))return l(h.payload);if($W.match(h)){f();return}if(w4.match(h))return u(h.payload);let b=p.getState();const v=()=>{if(b===LC)throw new Error(Oi(23));return b};let y;try{if(y=m(h),t.size>0){const x=p.getState(),w=Array.from(t.values());for(const S of w){let C=!1;try{C=S.predicate(h,x,b)}catch(j){C=!1,RC(o,j,{raisedBy:"predicate"})}C&&d(S,h,p,v)}}}finally{b=LC}return y},startListening:l,stopListening:u,clearListeners:f}};function Oi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},k4=gi({name:"chartLayout",initialState:zW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:UW,setLayout:VW,setChartSize:WW,setScale:qW}=k4.actions,HW=k4.reducer;function S4(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function fr(e){return Number.isFinite(e)}function os(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){KW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KW(e,t,n){return(t=GW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=YW(e,"string");return typeof t=="symbol"?t:t+""}function YW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lr(e,t,n){return Zr(e)||Zr(t)?n:oo(t)?tu(e,t,n):typeof t=="function"?t(e):n}var XW=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&_t(e[i]))return Gu(Gu({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&_t(e[o]))return Gu(Gu({},e),{},{[o]:e[o]+(a||0)})}return e},tc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",N4=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},j4=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(b=m==="angleAxis"&&i&&i.length>=2?$a(i[0]-i[1])*2*b:b,f||p){var v=(f||p||[]).map((y,x)=>{var w=r?r.indexOf(y):y;return{coordinate:o(w)+b,value:y,offset:b,index:x}});return v.filter(y=>!io(y.coordinate))}return l&&u?u.map((y,x)=>({coordinate:o(y)+b,value:y,index:x,offset:b})):o.ticks&&d!=null?o.ticks(d).map((y,x)=>({coordinate:o(y)+b,value:y,offset:b,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+b,value:r?r[y]:y,index:x,offset:b}))},BC=1e-4,JW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-BC,i=Math.max(r[0],r[1])+BC,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},QW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],u=l==null?void 0:l[a];if(u!=null){var d=u[1],f=u[0],p=io(d)?f:d;p>=0?(u[0]=i,u[1]=i+p,i=d):(u[0]=o,u[1]=o+p,o=d)}}}},ZW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var u=io(l[1])?l[0]:l[1];u>=0?(l[0]=i,l[1]=i+u,i=l[1]):(l[0]=0,l[1]=0)}}}},eq={sign:QW,expand:O7,none:eu,silhouette:I7,wiggle:_7,positive:ZW},tq=(e,t,n)=>{var r,a=(r=eq[n])!==null&&r!==void 0?r:eu,i=P7().keys(t).value((s,l)=>Number(lr(s,l,0))).order(nw).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((u,d)=>{var f=lr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&_t(f[0])&&_t(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function zC(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Zr(a[t.dataKey])){var s=mO(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=lr(a,Zr(o)?t.dataKey:o);return Zr(l)?null:t.scale(l)}var nq=e=>{var t=e.flat(2).filter(_t);return[Math.min(...t),Math.max(...t)]},rq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],aq=(e,t,n)=>{if(e!=null)return rq(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,u)=>{var d=S4(u,t,n),f=nq(d);return!fr(f[0])||!fr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},UC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mw=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=hy(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],u=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function WC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return Gu(Gu({},t),{},{dataKey:n,payload:r,value:a,name:i})}function jy(e,t){if(e)return String(e);if(typeof t=="string")return t}var iq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},oq=(e,t)=>t==="centric"?e.angle:e.radius,nl=e=>e.layout.width,rl=e=>e.layout.height,sq=e=>e.layout.scale,C4=e=>e.layout.margin,Cy=be(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ay=be(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),A4="data-recharts-item-index",M4="data-recharts-item-id",Yp=60;function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(n),!0).forEach(function(r){lq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lq(e,t,n){return(t=cq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dq=e=>e.brush.height;function fq(e){var t=Ay(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Yp;return n+a}return n},0)}function pq(e){var t=Ay(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Yp;return n+a}return n},0)}function mq(e){var t=Cy(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function hq(e){var t=Cy(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ha=be([nl,rl,C4,dq,fq,pq,mq,hq,HO,V9],(e,t,n,r,a,i,o,s,l,u)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=mh(mh({},f),d),m=p.bottom;p.bottom+=r,p=XW(p,l,u);var h=e-p.left-p.right,b=t-p.top-p.bottom;return mh(mh({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(b,0)})}),gq=be(ha,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),E4=be(nl,rl,(e,t)=>({x:0,y:0,width:e,height:t})),yq=g.createContext(null),ti=()=>g.useContext(yq)!=null,My=e=>e.brush,Ey=be([My,ha,C4],(e,t,n)=>({height:e.height,x:_t(e.x)?e.x:t.left,y:_t(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:_t(e.width)?e.width:t.width})),D4={},T4={},P4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),b()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{h(),o=void 0,s=null},v=()=>{d()},y=function(...x){if(a!=null&&a.aborted)return;o=this,s=x;const w=p==null;m(),l&&w&&d()};return y.schedule=m,y.cancel=b,y.flush=v,a==null||a.addEventListener("abort",b,{once:!0}),y}e.debounce=t})(P4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P4;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...b){d=r.apply(this,b),f=null},a,{edges:u}),m=function(...b){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,b),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,b),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(T4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T4;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(D4);var bq=D4.throttle;const vq=_o(bq);var Gg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},O4=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=qs(r)?e:Number(r),l=qs(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},xq={width:0,height:0,overflow:"visible"},wq={width:0,overflowX:"visible"},kq={height:0,overflowY:"visible"},Sq={},Nq=e=>{var{width:t,height:n}=e,r=qs(t),a=qs(n);return r&&a?xq:r?wq:a?kq:Sq};function jq(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hw.apply(null,arguments)}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){Cq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cq(e,t,n){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I4=g.createContext({width:-1,height:-1});function Eq(e){return os(e.width)&&os(e.height)}function _4(e){var{children:t,width:n,height:r}=e,a=g.useMemo(()=>({width:n,height:r}),[n,r]);return Eq(a)?g.createElement(I4.Provider,{value:a},t):null}var iS=()=>g.useContext(I4),Dq=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,b=g.useRef(null),v=g.useRef();v.current=m,g.useImperativeHandle(t,()=>b.current);var[y,x]=g.useState({containerWidth:r.width,containerHeight:r.height}),w=g.useCallback((T,$)=>{x(D=>{var I=Math.round(T),O=Math.round($);return D.containerWidth===I&&D.containerHeight===O?D:{containerWidth:I,containerHeight:O}})},[]);g.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Hp;var T=O=>{var q,{width:X,height:se}=O[0].contentRect;w(X,se),(q=v.current)===null||q===void 0||q.call(v,X,se)};d>0&&(T=vq(T,d,{trailing:!0,leading:!1}));var $=new ResizeObserver(T),{width:D,height:I}=b.current.getBoundingClientRect();return w(D,I),$.observe(b.current),()=>{$.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=y;Gg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:M}=O4(S,C,{width:a,height:i,aspect:n,maxHeight:l});return Gg(j!=null&&j>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,M,a,i,o,s,n),g.createElement("div",{id:f?"".concat(f):void 0,className:Pn("recharts-responsive-container",p),style:KC(KC({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:b},g.createElement("div",{style:Nq({width:a,height:i})},g.createElement(_4,{width:j,height:M},u)))}),Do=g.forwardRef((e,t)=>{var n=iS();if(os(n.width)&&os(n.height))return e.children;var{width:r,height:a}=jq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=O4(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return _t(i)&&_t(o)?g.createElement(_4,{width:i,height:o},e.children):g.createElement(Dq,hw({},e,{width:r,height:a,ref:t}))});function L4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Xp=()=>{var e,t=ti(),n=Mt(gq),r=Mt(Ey),a=(e=Mt(My))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Tq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},F4=()=>{var e;return(e=Mt(ha))!==null&&e!==void 0?e:Tq},oS=()=>Mt(nl),sS=()=>Mt(rl),Pq=()=>Mt(e=>e.layout.margin),Hn=e=>e.layout.layoutType,Jp=()=>Mt(Hn),Oq=()=>{var e=Jp();return e!==void 0},Dy=e=>{var t=Xn(),n=ti(),{width:r,height:a}=e,i=iS(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),g.useEffect(()=>{!n&&os(o)&&os(s)&&t(WW({width:o,height:s}))},[t,n,o,s]),null},R4=Symbol.for("immer-nothing"),GC=Symbol.for("immer-draftable"),Li=Symbol.for("immer-state");function wo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sp=Object.getPrototypeOf;function wd(e){return!!e&&!!e[Li]}function ru(e){var t;return e?$4(e)||Array.isArray(e)||!!e[GC]||!!((t=e.constructor)!=null&&t[GC])||Qp(e)||Py(e):!1}var Iq=Object.prototype.constructor.toString(),YC=new WeakMap;function $4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=YC.get(n);return r===void 0&&(r=Function.toString.call(n),YC.set(n,r)),r===Iq}function Yg(e,t,n=!0){Ty(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Ty(e){const t=e[Li];return t?t.type_:Array.isArray(e)?1:Qp(e)?2:Py(e)?3:0}function gw(e,t){return Ty(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function B4(e,t,n){const r=Ty(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function _q(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Qp(e){return e instanceof Map}function Py(e){return e instanceof Set}function Cc(e){return e.copy_||e.base_}function yw(e,t){if(Qp(e))return new Map(e);if(Py(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$4(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Li];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Sp(e),r)}else{const r=Sp(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function lS(e,t=!1){return Oy(e)||wd(e)||!ru(e)||(Ty(e)>1&&Object.defineProperties(e,{set:hh,add:hh,clear:hh,delete:hh}),Object.freeze(e),t&&Object.values(e).forEach(n=>lS(n,!0))),e}function Lq(){wo(2)}var hh={value:Lq};function Oy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Fq={};function au(e){const t=Fq[e];return t||wo(0,e),t}var Np;function z4(){return Np}function Rq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XC(e,t){t&&(au("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bw(e){vw(e),e.drafts_.forEach($q),e.drafts_=null}function vw(e){e===Np&&(Np=e.parent_)}function JC(e){return Np=Rq(Np,e)}function $q(e){const t=e[Li];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Li].modified_&&(bw(t),wo(4)),ru(e)&&(e=Xg(t,e),t.parent_||Jg(t,e)),t.patches_&&au("Patches").generateReplacementPatches_(n[Li].base_,e,t.patches_,t.inversePatches_)):e=Xg(t,n,[]),bw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==R4?e:void 0}function Xg(e,t,n){if(Oy(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Li];if(!a)return Yg(t,(i,o)=>ZC(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Jg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Yg(o,(l,u)=>ZC(e,a,i,l,u,n,s),r),Jg(e,i,!1),n&&e.patches_&&au("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function ZC(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=Oy(a);if(!(s&&!o)){if(wd(a)){const l=i&&t&&t.type_!==3&&!gw(t.assigned_,r)?i.concat(r):void 0,u=Xg(e,a,l);if(B4(n,r,u),wd(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(ru(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;Xg(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Qp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Jg(e,a)}}}function Jg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&lS(t,n)}function Bq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:z4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=cS;n&&(a=[r],i=jp);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var cS={get(e,t){if(t===Li)return e;const n=Cc(e);if(!gw(n,t))return zq(e,n,t);const r=n[t];return e.finalized_||!ru(r)?r:r===sv(e.base_,t)?(lv(e),e.copy_[t]=ww(r,e)):r},has(e,t){return t in Cc(e)},ownKeys(e){return Reflect.ownKeys(Cc(e))},set(e,t,n){const r=U4(Cc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=sv(Cc(e),t),i=a==null?void 0:a[Li];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(_q(n,a)&&(n!==void 0||gw(e.base_,t)))return!0;lv(e),xw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lv(e),xw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Cc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){wo(11)},getPrototypeOf(e){return Sp(e.base_)},setPrototypeOf(){wo(12)}},jp={};Yg(cS,(e,t)=>{jp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});jp.deleteProperty=function(e,t){return jp.set.call(this,e,t,void 0)};jp.set=function(e,t,n){return cS.set.call(this,e[0],t,n,e[0])};function sv(e,t){const n=e[Li];return(n?Cc(n):e)[t]}function zq(e,t,n){var r;const a=U4(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function U4(e,t){if(!(t in e))return;let n=Sp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Sp(n)}}function xw(e){e.modified_||(e.modified_=!0,e.parent_&&xw(e.parent_))}function lv(e){e.copy_||(e.copy_=yw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Uq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}typeof n!="function"&&wo(6),r!==void 0&&typeof r!="function"&&wo(7);let a;if(ru(t)){const i=JC(this),o=ww(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?bw(i):vw(i)}return XC(i,r),QC(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===R4&&(a=void 0),this.autoFreeze_&&lS(a,!0),r){const i=[],o=[];au("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else wo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ru(e)||wo(8),wd(e)&&(e=Vq(e));const t=JC(this),n=ww(e,void 0);return n[Li].isManual_=!0,vw(t),n}finishDraft(e,t){const n=e&&e[Li];(!n||!n.isManual_)&&wo(9);const{scope_:r}=n;return XC(r,t),QC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=au("Patches").applyPatches_;return wd(e)?r(e,t):this.produce(e,a=>r(a,t))}};function ww(e,t){const n=Qp(e)?au("MapSet").proxyMap_(e,t):Py(e)?au("MapSet").proxySet_(e,t):Bq(e,t);return(t?t.scope_:z4()).drafts_.push(n),n}function Vq(e){return wd(e)||wo(10,e),V4(e)}function V4(e){if(!ru(e)||Oy(e))return e;const t=e[Li];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=yw(e,!0);return Yg(n,(a,i)=>{B4(n,a,V4(i))},r),t&&(t.finalized_=!1),n}var Wq=new Uq;Wq.produce;var qq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},W4=gi({name:"legend",initialState:qq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ur()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=jo(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:ur()},removeLegendPayload:{reducer(e,t){var n=jo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ur()}}}),{setLegendSize:eA,setLegendSettings:Hq,addLegendPayload:q4,replaceLegendPayload:H4,removeLegendPayload:K4}=W4.actions,Kq=W4.reducer,Gq=["contextPayload"];function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kw.apply(null,arguments)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){Yq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yq(e,t,n){return(t=Xq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qq(e,t){if(e==null)return{};var n,r,a=Zq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eH(e){return e.value}function tH(e){var{contextPayload:t}=e,n=Qq(e,Gq),r=_O(t,e.payloadUniqBy,eH),a=kd(kd({},n),{},{payload:r});return g.isValidElement(e.content)?g.cloneElement(e.content,a):typeof e.content=="function"?g.createElement(e.content,a):g.createElement(l9,a)}function nH(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((r||0)-i.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),kd(kd({},u),d)}function rH(e){var t=Xn();return g.useEffect(()=>{t(Hq(e))},[t,e]),null}function aH(e){var t=Xn();return g.useEffect(()=>(t(eA(e)),()=>{t(eA({width:0,height:0}))}),[t,e]),null}function iH(e,t,n,r){return e==="vertical"&&_t(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var oH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function G4(e){var t=Hr(e,oH),n=H9(),r=n7(),a=Pq(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[u,d]=KO([n]),f=oS(),p=sS();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=iH(t.layout,o,i,m),b=l?s:kd(kd({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},nH(s,t,a,f,p,u)),s),v=l??r;if(v==null||n==null)return null;var y=g.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},g.createElement(rH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(aH,{width:u.width,height:u.height}),g.createElement(tH,kw({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return _d.createPortal(y,v)}G4.displayName="Legend";function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sw.apply(null,arguments)}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){sH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sH(e,t,n){return(t=lH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lH(e){var t=cH(e,"string");return typeof t=="symbol"?t:t+""}function cH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uH(e){return Array.isArray(e)&&oo(e[0])&&oo(e[1])?e.join(" ~ "):e}var dH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},j=(s?hy(i,s):i).map((M,T)=>{if(M.type==="none")return null;var $=M.formatter||o||uH,{value:D,name:I}=M,O=D,q=I;if($){var X=$(D,I,M,T,i);if(Array.isArray(X))[O,q]=X;else if(X!=null)O=X;else return null}var se=cv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:se},oo(q)?g.createElement("span",{className:"recharts-tooltip-item-name"},q):null,oo(q)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},h=cv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=cv({margin:0},a),v=!Zr(d),y=v?d:"",x=Pn("recharts-default-tooltip",l),w=Pn("recharts-tooltip-label",u);v&&f&&i!==void 0&&i!==null&&(y=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Sw({className:x,style:h},S),g.createElement("p",{className:w,style:b},g.isValidElement(y)?y:"".concat(y)),m())},ff="recharts-tooltip-wrapper",fH={visibility:"hidden"};function pH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Pn(ff,{["".concat(ff,"-right")]:_t(n)&&t&&_t(t.x)&&n>=t.x,["".concat(ff,"-left")]:_t(n)&&t&&_t(t.x)&&n<t.x,["".concat(ff,"-bottom")]:_t(r)&&t&&_t(t.y)&&r>=t.y,["".concat(ff,"-top")]:_t(r)&&t&&_t(t.y)&&r<t.y})}function rA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(i&&_t(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var b=f+s,v=p+u;return b>v?Math.max(d,p):Math.max(f,p)}function mH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function hH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,d,f;return o.height>0&&o.width>0&&n?(d=rA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=rA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=mH({translateX:d,translateY:f,useTranslate3d:s})):u=fH,{cssProperties:u,cssClasses:pH({translateX:d,translateY:f,coordinate:n})}}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){Nw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nw(e,t,n){return(t=gH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bH extends g.PureComponent{constructor(){super(...arguments),Nw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:b,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=hH({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:m}),S=y?{}:gh(gh({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=gh(gh({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:C,ref:v},i)}}var Y4=()=>{var e;return(e=Mt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){vH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vH(e,t,n){return(t=xH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sA={curveBasisClosed:w7,curveBasisOpen:k7,curveBasis:x7,curveBumpX:o7,curveBumpY:s7,curveLinearClosed:S7,curveLinear:sy,curveMonotoneX:N7,curveMonotoneY:j7,curveNatural:C7,curveStep:A7,curveStepAfter:E7,curveStepBefore:M7},Qg=e=>fr(e.x)&&fr(e.y),lA=e=>e.base!=null&&Qg(e.base)&&Qg(e),pf=e=>e.x,mf=e=>e.y,kH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(qp(e));return(n==="curveMonotone"||n==="curveBump")&&t?sA["".concat(n).concat(t==="vertical"?"Y":"X")]:sA[n]||sy},SH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=kH(t,a),s=i?n.filter(Qg):n,l;if(Array.isArray(r)){var u=n.map((m,h)=>oA(oA({},m),{},{base:r[h]}));a==="vertical"?l=lh().y(mf).x1(pf).x0(m=>m.base.x):l=lh().x(pf).y1(mf).y0(m=>m.base.y);var d=l.defined(lA).curve(o),f=i?u.filter(lA):u;return d(f)}a==="vertical"&&_t(r)?l=lh().y(mf).x1(pf).x0(r):_t(r)?l=lh().x(pf).y1(mf).y0(r):l=eO().x(pf).y(mf);var p=l.defined(Qg).curve(o);return p(s)},uS=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=Jp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?SH(o):r;return g.createElement("path",jw({},ao(e),Bk(e),{className:Pn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},NH=["x","y","top","left","width","height","className"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cw.apply(null,arguments)}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){CH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CH(e,t,n){return(t=AH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EH(e,t){if(e==null)return{};var n,r,a=DH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TH=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),PH=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=EH(e,NH),u=jH({x:t,y:n,top:r,left:a,width:i,height:o},l);return!_t(t)||!_t(n)||!_t(i)||!_t(o)||!_t(r)||!_t(a)?null:g.createElement("path",Cw({},Ua(u),{className:Pn("recharts-cross",s),d:TH(t,n,i,o,r,a)}))};function OH(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){IH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IH(e,t,n){return(t=_H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _H(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),X4=(e,t,n)=>e.map(r=>"".concat(FH(r)," ").concat(t,"ms ").concat(n)).join(","),RH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Cp=(e,t)=>Object.keys(t).reduce((n,r)=>dA(dA({},n),{},{[r]:e(r,t[r])}),{});function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){$H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $H(e,t,n){return(t=BH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zg=(e,t,n)=>e+(t-e)*n,Aw=e=>{var{from:t,to:n}=e;return t!==n},J4=(e,t,n)=>{var r=Cp((a,i)=>{if(Aw(i)){var[o,s]=e(i.from,i.to,i.velocity);return Jr(Jr({},i),{},{from:o,velocity:s})}return i},t);return n<1?Cp((a,i)=>Aw(i)&&r[a]!=null?Jr(Jr({},i),{},{velocity:Zg(i.velocity,r[a].velocity,n),from:Zg(i.from,r[a].from,n)}):i,t):J4(e,r,n-1)};function UH(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Jr(Jr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Cp((p,m)=>m.from,s),u=()=>!Object.values(s).filter(Aw).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=J4(n,s,h),a(Jr(Jr(Jr({},e),t),l())),o=p,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function VH(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Jr(Jr({},f),{},{[p]:[m,h]})},{}),u,d=f=>{u||(u=f);var p=(f-u)/r,m=Cp((b,v)=>Zg(...v,n(p)),l);if(i(Jr(Jr(Jr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=Cp((b,v)=>Zg(...v,n(1)),l);i(Jr(Jr(Jr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const WH=(e,t,n,r,a,i)=>{var o=RH(e,t);return n==null?()=>(a(Jr(Jr({},e),t)),()=>{}):n.isStepper===!0?UH(e,t,n,o,a,i):VH(e,t,n,r,o,a,i)};var e0=1e-4,Q4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Z4=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),pA=(e,t)=>n=>{var r=Q4(e,t);return Z4(r,n)},qH=(e,t)=>n=>{var r=Q4(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return Z4(a,n)},HH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},KH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=HH(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},GH=(e,t,n,r)=>{var a=pA(e,n),i=pA(t,r),o=qH(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<e0||h<e0)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},mA=function(){return GH(...KH(...arguments))},YH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,u=s*n,d=s+(l-u)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<e0&&Math.abs(d)<e0?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},XH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mA(e);case"spring":return YH();default:if(e.split("(")[0]==="cubic-bezier")return mA(e)}return typeof e=="function"?e:null};function JH(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,u),l);return}i(l),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class QH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function ZH(){return JH(new QH)}var eK=g.createContext(ZH);function tK(e,t){var n=g.useContext(eK);return g.useMemo(()=>t??n(e),[e,t,n])}var nK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Iy={isSsr:nK()},rK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hA={t:0},uv={t:1};function _y(e){var t=Hr(e,rK),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,d=n==="auto"?!Iy.isSsr:n,f=tK(t.animationId,t.animationManager),[p,m]=g.useState(d?hA:uv),h=g.useRef(null);return g.useEffect(()=>{d||m(uv)},[d]),g.useEffect(()=>{if(!d||!r)return Hp;var b=WH(hA,uv,XH(i),a,m,f.getTimeoutController()),v=()=>{h.current=b()};return f.start([l,o,v,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),u(p.t)}function Ly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(vp(t)),r=g.useRef(e);return r.current!==e&&(n.current=vp(t),r.current=e),n.current}var aK=["radius"],iK=["radius"],gA,yA,bA,vA,xA,wA,kA,SA,NA,jA;function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function AA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){oK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oK(e,t,n){return(t=sK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(null,arguments)}function MA(e,t){if(e==null)return{};var n,r,a=cK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Go(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var EA=(e,t,n,r,a)=>{var i=Ol(n),o=Ol(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=Ar(gA||(gA=Go(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=Ar(yA||(yA=Go(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+u*p[0],t)),f+=Ar(bA||(bA=Go(["L ",",",""])),e+n-u*p[1],t),p[1]>0&&(f+=Ar(vA||(vA=Go(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=Ar(xA||(xA=Go(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=Ar(wA||(wA=Go(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-u*p[2],t+r)),f+=Ar(kA||(kA=Go(["L ",",",""])),e+u*p[3],t+r),p[3]>0&&(f+=Ar(SA||(SA=Go(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var b=Math.min(s,a);f=Ar(NA||(NA=Go(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*b,b,b,d,e+u*b,t,e+n-u*b,t,b,b,d,e+n,t+l*b,e+n,t+r-l*b,b,b,d,e+n-u*b,t+r,e+u*b,t+r,b,b,d,e,t+r-l*b)}else f=Ar(jA||(jA=Go(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},DA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eI=e=>{var t=Hr(e,DA),n=g.useRef(null),[r,a]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ne=n.current.getTotalLength();ne&&a(ne)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:b}=t,v=g.useRef(s),y=g.useRef(l),x=g.useRef(i),w=g.useRef(o),S=g.useMemo(()=>({x:i,y:o,width:s,height:l,radius:u}),[i,o,s,l,u]),C=Ly(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var j=Pn("recharts-rectangle",d);if(!b){var M=Ua(t),{radius:T}=M,$=MA(M,aK);return g.createElement("path",t0({},$,{x:Ol(i),y:Ol(o),width:Ol(s),height:Ol(l),radius:typeof u=="number"?u:void 0,className:j,d:EA(i,o,s,l,u)}))}var D=v.current,I=y.current,O=x.current,q=w.current,X="0px ".concat(r===-1?1:r,"px"),se="".concat(r,"px 0px"),we=X4(["strokeDasharray"],p,typeof f=="string"?f:DA.animationEasing);return g.createElement(_y,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:b,begin:m},ne=>{var H=Ra(D,s,ne),W=Ra(I,l,ne),k=Ra(O,i,ne),V=Ra(q,o,ne);n.current&&(v.current=H,y.current=W,x.current=k,w.current=V);var P;h?ne>0?P={transition:we,strokeDasharray:se}:P={strokeDasharray:X}:P={strokeDasharray:se};var N=Ua(t),{radius:F}=N,U=MA(N,iK);return g.createElement("path",t0({},U,{radius:typeof u=="number"?u:void 0,className:j,d:EA(k,V,H,W,u),ref:n,style:AA(AA({},P),t.style)}))})};function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(r){uK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uK(e,t,n){return(t=dK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n0=Math.PI/180,pK=e=>e*180/Math.PI,Wr=(e,t,n,r)=>({x:e+Math.cos(-n0*r)*n,y:t+Math.sin(-n0*r)*n}),tI=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},mK=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},hK=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=mK({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:pK(l),angleInRadian:l}},gK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},yK=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},bK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=hK({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:u}=gK(t),d=i,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?PA(PA({},t),{},{radius:a,angle:yK(d,t)}):null};function nI(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Wr(t,n,r,a),s=Wr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var OA,IA,_A,LA,FA,RA,$A;function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(null,arguments)}function _c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var vK=(e,t)=>{var n=$a(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},yh=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+r,d=Math.asin(s/u)/n0,f=l?a:a+i*d,p=Wr(t,n,u,f),m=Wr(t,n,r,f),h=l?a-i*d:a,b=Wr(t,n,u*Math.cos(d*n0),h);return{center:p,circleTangency:m,lineTangency:b,theta:d}},rI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=vK(i,o),l=i+s,u=Wr(t,n,a,i),d=Wr(t,n,a,l),f=Ar(OA||(OA=_c(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Wr(t,n,r,i),m=Wr(t,n,r,l);f+=Ar(IA||(IA=_c(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=Ar(_A||(_A=_c(["L ",","," Z"])),t,n);return f},xK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,d=$a(u-l),{circleTangency:f,lineTangency:p,theta:m}=yh({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:b,theta:v}=yh({cx:t,cy:n,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(l-u):Math.abs(l-u)-m-v;if(y<0)return o?Ar(LA||(LA=_c(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):rI({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:u});var x=Ar(FA||(FA=_c(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),h.x,h.y,i,i,+(d<0),b.x,b.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=yh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:j,lineTangency:M,theta:T}=yh({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),$=s?Math.abs(l-u):Math.abs(l-u)-C-T;if($<0&&i===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+=Ar(RA||(RA=_c(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,i,i,+(d<0),j.x,j.y,r,r,+($>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else x+=Ar($A||($A=_c(["L",",","Z"])),t,n);return x},wK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aI=e=>{var t=Hr(e,wK),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var p=Pn("recharts-sector",f),m=i-a,h=to(o,m,0,!0),b;return h>0&&Math.abs(u-d)<360?b=xK({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}):b=rI({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",Mw({},Ua(t),{className:p,d:b}))};function kK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(gO(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Wr(r,a,i,s),u=Wr(r,a,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return nI(t)}}var iI={},oI={},sI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(sI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sI;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(oI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qk,n=oI;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=a,a+=o;return l}e.range=r})(iI);var SK=iI.range;const lI=_o(SK);function Vl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dS(e){let t,n,r;e.length!==2?(t=Vl,n=(s,l)=>Vl(e(s),l),r=(s,l)=>e(s)-l):(t=e===Vl||e===NK?e:jK,n=e,r=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function jK(){return 0}function cI(e){return e===null?NaN:+e}function*CK(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const AK=dS(Vl),Zp=AK.right;dS(cI).center;class BA extends Map{constructor(t,n=DK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(zA(this,t))}has(t){return super.has(zA(this,t))}set(t,n){return super.set(MK(this,t),n)}delete(t){return super.delete(EK(this,t))}}function zA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function MK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function EK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function DK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function TK(e=Vl){if(e===Vl)return uI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function uI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PK=Math.sqrt(50),OK=Math.sqrt(10),IK=Math.sqrt(2);function r0(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=PK?10:i>=OK?5:i>=IK?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?r0(e,t,n*2):[s,l,u]}function Ew(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?r0(t,e,n):r0(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function Dw(e,t,n){return t=+t,e=+e,n=+n,r0(e,t,n)[2]}function Tw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Dw(t,e,n):Dw(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function UA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function dI(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?uI:TK(a);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+p)),h=Math.min(r,Math.floor(t+(l-u)*f/l+p));dI(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(hf(e,n,t),a(e[r],i)>0&&hf(e,n,r);o<s;){for(hf(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?hf(e,n,s):(++s,hf(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function hf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _K(e,t,n){if(e=Float64Array.from(CK(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return VA(e);if(t>=1)return UA(e);var r,a=(r-1)*t,i=Math.floor(a),o=UA(dI(e,i).subarray(0,i+1)),s=VA(e.subarray(i+1));return o+(s-o)*(a-i)}}function LK(e,t,n=cI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function FK(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function co(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function al(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Pw=Symbol("implicit");function fS(){var e=new BA,t=[],n=[],r=Pw;function a(i){let o=e.get(i);if(o===void 0){if(r!==Pw)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new BA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return fS(t,n).unknown(r)},co.apply(a,arguments),a}function pS(){var e=fS().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,b=m?r:a;i=(b-h)/Math.max(1,p-l+u*2),s&&(i=Math.floor(i)),h+=(b-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var v=FK(p).map(function(y){return h+i*y});return n(m?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return pS(t(),[r,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},co.apply(f(),arguments)}function fI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fI(t())},e}function RK(){return fI(pS.apply(null,arguments).paddingInner(1))}function mS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function pI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function em(){}var Ap=.7,a0=1/Ap,sd="\\s*([+-]?\\d+)\\s*",Mp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$K=/^#([0-9a-f]{3,8})$/,BK=new RegExp(`^rgb\\(${sd},${sd},${sd}\\)$`),zK=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),UK=new RegExp(`^rgba\\(${sd},${sd},${sd},${Mp}\\)$`),VK=new RegExp(`^rgba\\(${as},${as},${as},${Mp}\\)$`),WK=new RegExp(`^hsl\\(${Mp},${as},${as}\\)$`),qK=new RegExp(`^hsla\\(${Mp},${as},${as},${Mp}\\)$`),WA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mS(em,Ep,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qA,formatHex:qA,formatHex8:HK,formatHsl:KK,formatRgb:HA,toString:HA});function qA(){return this.rgb().formatHex()}function HK(){return this.rgb().formatHex8()}function KK(){return mI(this).formatHsl()}function HA(){return this.rgb().formatRgb()}function Ep(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$K.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?KA(t):n===3?new ui(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BK.exec(e))?new ui(t[1],t[2],t[3],1):(t=zK.exec(e))?new ui(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=UK.exec(e))?bh(t[1],t[2],t[3],t[4]):(t=VK.exec(e))?bh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WK.exec(e))?XA(t[1],t[2]/100,t[3]/100,1):(t=qK.exec(e))?XA(t[1],t[2]/100,t[3]/100,t[4]):WA.hasOwnProperty(e)?KA(WA[e]):e==="transparent"?new ui(NaN,NaN,NaN,0):null}function KA(e){return new ui(e>>16&255,e>>8&255,e&255,1)}function bh(e,t,n,r){return r<=0&&(e=t=n=NaN),new ui(e,t,n,r)}function GK(e){return e instanceof em||(e=Ep(e)),e?(e=e.rgb(),new ui(e.r,e.g,e.b,e.opacity)):new ui}function Ow(e,t,n,r){return arguments.length===1?GK(e):new ui(e,t,n,r??1)}function ui(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}mS(ui,Ow,pI(em,{brighter(e){return e=e==null?a0:Math.pow(a0,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ap:Math.pow(Ap,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ui(qc(this.r),qc(this.g),qc(this.b),i0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GA,formatHex:GA,formatHex8:YK,formatRgb:YA,toString:YA}));function GA(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}`}function YK(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}${Lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function YA(){const e=i0(this.opacity);return`${e===1?"rgb(":"rgba("}${qc(this.r)}, ${qc(this.g)}, ${qc(this.b)}${e===1?")":`, ${e})`}`}function i0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lc(e){return e=qc(e),(e<16?"0":"")+e.toString(16)}function XA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ko(e,t,n,r)}function mI(e){if(e instanceof ko)return new ko(e.h,e.s,e.l,e.opacity);if(e instanceof em||(e=Ep(e)),!e)return new ko;if(e instanceof ko)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new ko(o,s,l,e.opacity)}function XK(e,t,n,r){return arguments.length===1?mI(e):new ko(e,t,n,r??1)}function ko(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}mS(ko,XK,pI(em,{brighter(e){return e=e==null?a0:Math.pow(a0,e),new ko(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ap:Math.pow(Ap,e),new ko(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ui(dv(e>=240?e-240:e+120,a,r),dv(e,a,r),dv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ko(JA(this.h),vh(this.s),vh(this.l),i0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=i0(this.opacity);return`${e===1?"hsl(":"hsla("}${JA(this.h)}, ${vh(this.s)*100}%, ${vh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JA(e){return e=(e||0)%360,e<0?e+360:e}function vh(e){return Math.max(0,Math.min(1,e||0))}function dv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hS=e=>()=>e;function JK(e,t){return function(n){return e+n*t}}function QK(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ZK(e){return(e=+e)==1?hI:function(t,n){return n-t?QK(t,n,e):hS(isNaN(t)?n:t)}}function hI(e,t){var n=t-e;return n?JK(e,n):hS(isNaN(e)?t:e)}const QA=function e(t){var n=ZK(t);function r(a,i){var o=n((a=Ow(a)).r,(i=Ow(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),u=hI(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function eG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function tG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Ld(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function rG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function o0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function aG(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Ld(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Iw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fv=new RegExp(Iw.source,"g");function iG(e){return function(){return e}}function oG(e){return function(t){return e(t)+""}}function sG(e,t){var n=Iw.lastIndex=fv.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Iw.exec(e))&&(a=fv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:o0(r,a)})),n=fv.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?oG(l[0].x):iG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Ld(e,t){var n=typeof t,r;return t==null||n==="boolean"?hS(t):(n==="number"?o0:n==="string"?(r=Ep(t))?(t=r,QA):sG:t instanceof Ep?QA:t instanceof Date?rG:tG(t)?eG:Array.isArray(t)?nG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?aG:o0)(e,t)}function gS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function lG(e,t){t===void 0&&(t=e,e=Ld);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function cG(e){return function(){return e}}function s0(e){return+e}var ZA=[0,1];function Ya(e){return e}function _w(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cG(isNaN(t)?NaN:.5)}function uG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function dG(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=_w(a,r),i=n(o,i)):(r=_w(r,a),i=n(i,o)),function(s){return i(r(s))}}function fG(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=_w(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=Zp(e,s,1,r)-1;return i[l](a[l](s))}}function tm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fy(){var e=ZA,t=ZA,n=Ld,r,a,i,o=Ya,s,l,u;function d(){var p=Math.min(e.length,t.length);return o!==Ya&&(o=uG(e[0],e[p-1])),s=p>2?fG:dG,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((u||(u=s(t,e.map(r),o0)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,s0),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=gS,d()},f.clamp=function(p){return arguments.length?(o=p?!0:Ya,d()):o!==Ya},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function yS(){return Fy()(Ya,Ya)}function pG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function l0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Sd(e){return e=l0(Math.abs(e)),e?e[1]:NaN}function mG(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function hG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dp(e){if(!(t=gG.exec(e)))throw new Error("invalid format: "+e);var t;return new bS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dp.prototype=bS.prototype;function bS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yG(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var c0;function bG(e,t){var n=l0(e,t);if(!n)return c0=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(c0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+l0(e,Math.max(0,t+i-1))[0]}function eM(e,t){var n=l0(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const tM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eM(e*100,t),r:eM,s:bG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nM(e){return e}var rM=Array.prototype.map,aM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vG(e){var t=e.grouping===void 0||e.thousands===void 0?nM:mG(rM.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?nM:hG(rM.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,p){f=Dp(f);var m=f.fill,h=f.align,b=f.sign,v=f.symbol,y=f.zero,x=f.width,w=f.comma,S=f.precision,C=f.trim,j=f.type;j==="n"?(w=!0,j="g"):tM[j]||(S===void 0&&(S=12),C=!0,j="g"),(y||m==="0"&&h==="=")&&(y=!0,m="0",h="=");var M=(p&&p.prefix!==void 0?p.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),T=(v==="$"?r:/[%p]/.test(j)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),$=tM[j],D=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(O){var q=M,X=T,se,we,ne;if(j==="c")X=$(O)+X,O="";else{O=+O;var H=O<0||1/O<0;if(O=isNaN(O)?l:$(Math.abs(O),S),C&&(O=yG(O)),H&&+O==0&&b!=="+"&&(H=!1),q=(H?b==="("?b:s:b==="-"||b==="("?"":b)+q,X=(j==="s"&&!isNaN(O)&&c0!==void 0?aM[8+c0/3]:"")+X+(H&&b==="("?")":""),D){for(se=-1,we=O.length;++se<we;)if(ne=O.charCodeAt(se),48>ne||ne>57){X=(ne===46?a+O.slice(se+1):O.slice(se))+X,O=O.slice(0,se);break}}}w&&!y&&(O=t(O,1/0));var W=q.length+O.length+X.length,k=W<x?new Array(x-W+1).join(m):"";switch(w&&y&&(O=t(k+O,k.length?x-X.length:1/0),k=""),h){case"<":O=q+O+X+k;break;case"=":O=q+k+O+X;break;case"^":O=k.slice(0,W=k.length>>1)+q+O+X+k.slice(W);break;default:O=k+q+O+X;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Sd(p)/3)))*3,h=Math.pow(10,-m),b=u((f=Dp(f),f.type="f",f),{suffix:aM[8+m/3]});return function(v){return b(h*v)}}return{format:u,formatPrefix:d}}var xh,vS,gI;xG({thousands:",",grouping:[3],currency:["$",""]});function xG(e){return xh=vG(e),vS=xh.format,gI=xh.formatPrefix,xh}function wG(e){return Math.max(0,-Sd(Math.abs(e)))}function kG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sd(t)/3)))*3-Sd(Math.abs(e)))}function SG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sd(t)-Sd(e))+1}function yI(e,t,n,r){var a=Tw(e,t,n),i;switch(r=Dp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=kG(a,o))&&(r.precision=i),gI(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=SG(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=wG(a))&&(r.precision=i-(r.type==="%")*2);break}}return vS(r)}function nc(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ew(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return yI(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=Dw(o,s,n),u===l)return r[a]=o,r[i]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function bI(){var e=yS();return e.copy=function(){return tm(e,bI())},co.apply(e,arguments),nc(e)}function vI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,s0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return vI(e).unknown(t)},e=arguments.length?Array.from(e,s0):[0,1],nc(n)}function xI(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function iM(e){return Math.log(e)}function oM(e){return Math.exp(e)}function NG(e){return-Math.log(-e)}function jG(e){return-Math.exp(-e)}function CG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AG(e){return e===10?CG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function MG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sM(e){return(t,n)=>-e(-t,n)}function xS(e){const t=e(iM,oM),n=t.domain;let r=10,a,i;function o(){return a=MG(r),i=AG(r),n()[0]<0?(a=sM(a),i=sM(i),e(NG,jG)):e(iM,oM),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),m=a(d),h,b;const v=s==null?10:+s;let y=[];if(!(r%1)&&m-p<v){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(h=1;h<r;++h)if(b=p<0?h/i(-p):h*i(p),!(b<u)){if(b>d)break;y.push(b)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(b=p>0?h/i(-p):h*i(p),!(b<u)){if(b>d)break;y.push(b)}y.length*2<v&&(y=Ew(u,d,v))}else y=Ew(p,m,Math.min(m-p,v)).map(i);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Dp(l)).precision==null&&(l.trim=!0),l=vS(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(xI(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function wI(){const e=xS(Fy()).domain([1,10]);return e.copy=()=>tm(e,wI()).base(e.base()),co.apply(e,arguments),e}function lM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wS(e){var t=1,n=e(lM(t),cM(t));return n.constant=function(r){return arguments.length?e(lM(t=+r),cM(t)):t},nc(n)}function kI(){var e=wS(Fy());return e.copy=function(){return tm(e,kI()).constant(e.constant())},co.apply(e,arguments)}function uM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function EG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DG(e){return e<0?-e*e:e*e}function kS(e){var t=e(Ya,Ya),n=1;function r(){return n===1?e(Ya,Ya):n===.5?e(EG,DG):e(uM(n),uM(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},nc(t)}function SS(){var e=kS(Fy());return e.copy=function(){return tm(e,SS()).exponent(e.exponent())},co.apply(e,arguments),e}function TG(){return SS.apply(null,arguments).exponent(.5)}function dM(e){return Math.sign(e)*e*e}function PG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function SI(){var e=yS(),t=[0,1],n=!1,r;function a(i){var o=PG(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(dM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,s0)).map(dM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return SI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},co.apply(a,arguments),nc(a)}function NI(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=LK(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Zp(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Vl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return NI().domain(e).range(t).unknown(r)},co.apply(i,arguments)}function jI(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Zp(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return jI().domain([e,t]).range(a).unknown(i)},co.apply(nc(o),arguments)}function CI(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Zp(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return CI().domain(e).range(t).unknown(n)},co.apply(a,arguments)}const pv=new Date,mv=new Date;function ea(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>ea(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(pv.setTime(+i),mv.setTime(+o),e(pv),e(mv),Math.floor(n(pv,mv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const u0=ea(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);u0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ea(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):u0);u0.range;const Ps=1e3,Zi=Ps*60,Os=Zi*60,Ks=Os*24,NS=Ks*7,fM=Ks*30,hv=Ks*365,Fc=ea(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ps)},(e,t)=>(t-e)/Ps,e=>e.getUTCSeconds());Fc.range;const jS=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ps)},(e,t)=>{e.setTime(+e+t*Zi)},(e,t)=>(t-e)/Zi,e=>e.getMinutes());jS.range;const CS=ea(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zi)},(e,t)=>(t-e)/Zi,e=>e.getUTCMinutes());CS.range;const AS=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ps-e.getMinutes()*Zi)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getHours());AS.range;const MS=ea(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCHours());MS.range;const nm=ea(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zi)/Ks,e=>e.getDate()-1);nm.range;const Ry=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ks,e=>e.getUTCDate()-1);Ry.range;const AI=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ks,e=>Math.floor(e/Ks));AI.range;function fu(e){return ea(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Zi)/NS)}const $y=fu(0),d0=fu(1),OG=fu(2),IG=fu(3),Nd=fu(4),_G=fu(5),LG=fu(6);$y.range;d0.range;OG.range;IG.range;Nd.range;_G.range;LG.range;function pu(e){return ea(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/NS)}const By=pu(0),f0=pu(1),FG=pu(2),RG=pu(3),jd=pu(4),$G=pu(5),BG=pu(6);By.range;f0.range;FG.range;RG.range;jd.range;$G.range;BG.range;const ES=ea(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ES.range;const DS=ea(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());DS.range;const Gs=ea(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Gs.range;const Ys=ea(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ys.range;function MI(e,t,n,r,a,i){const o=[[Fc,1,Ps],[Fc,5,5*Ps],[Fc,15,15*Ps],[Fc,30,30*Ps],[i,1,Zi],[i,5,5*Zi],[i,15,15*Zi],[i,30,30*Zi],[a,1,Os],[a,3,3*Os],[a,6,6*Os],[a,12,12*Os],[r,1,Ks],[r,2,2*Ks],[n,1,NS],[t,1,fM],[t,3,3*fM],[e,1,hv]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),h=m?m.range(u,+d+1):[];return p?h.reverse():h}function l(u,d,f){const p=Math.abs(d-u)/f,m=dS(([,,v])=>v).right(o,p);if(m===o.length)return e.every(Tw(u/hv,d/hv,f));if(m===0)return u0.every(Math.max(Tw(u,d,f),1));const[h,b]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(b)}return[s,l]}const[zG,UG]=MI(Ys,DS,By,AI,MS,CS),[VG,WG]=MI(Gs,ES,$y,nm,AS,jS);function gv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qG(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=yf(a),d=bf(a),f=yf(i),p=bf(i),m=yf(o),h=bf(o),b=yf(s),v=bf(s),y=yf(l),x=bf(l),w={a:ne,A:H,b:W,B:k,c:null,d:bM,e:bM,f:mY,g:NY,G:CY,H:dY,I:fY,j:pY,L:EI,m:hY,M:gY,p:V,q:P,Q:wM,s:kM,S:yY,u:bY,U:vY,V:xY,w:wY,W:kY,x:null,X:null,y:SY,Y:jY,Z:AY,"%":xM},S={a:N,A:F,b:U,B:Q,c:null,d:vM,e:vM,f:TY,g:zY,G:VY,H:MY,I:EY,j:DY,L:TI,m:PY,M:OY,p:le,q:Y,Q:wM,s:kM,S:IY,u:_Y,U:LY,V:FY,w:RY,W:$Y,x:null,X:null,y:BY,Y:UY,Z:WY,"%":xM},C={a:D,A:I,b:O,B:q,c:X,d:gM,e:gM,f:sY,g:hM,G:mM,H:yM,I:yM,j:rY,L:oY,m:nY,M:aY,p:$,q:tY,Q:cY,s:uY,S:iY,u:XG,U:JG,V:QG,w:YG,W:ZG,x:se,X:we,y:hM,Y:mM,Z:eY,"%":lY};w.x=j(n,w),w.X=j(r,w),w.c=j(t,w),S.x=j(n,S),S.X=j(r,S),S.c=j(t,S);function j(L,B){return function(re){var R=[],ce=-1,ye=0,G=L.length,me,Pe,mt;for(re instanceof Date||(re=new Date(+re));++ce<G;)L.charCodeAt(ce)===37&&(R.push(L.slice(ye,ce)),(Pe=pM[me=L.charAt(++ce)])!=null?me=L.charAt(++ce):Pe=me==="e"?" ":"0",(mt=B[me])&&(me=mt(re,Pe)),R.push(me),ye=ce+1);return R.push(L.slice(ye,ce)),R.join("")}}function M(L,B){return function(re){var R=gf(1900,void 0,1),ce=T(R,L,re+="",0),ye,G;if(ce!=re.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(B&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(ye=yv(gf(R.y,0,1)),G=ye.getUTCDay(),ye=G>4||G===0?f0.ceil(ye):f0(ye),ye=Ry.offset(ye,(R.V-1)*7),R.y=ye.getUTCFullYear(),R.m=ye.getUTCMonth(),R.d=ye.getUTCDate()+(R.w+6)%7):(ye=gv(gf(R.y,0,1)),G=ye.getDay(),ye=G>4||G===0?d0.ceil(ye):d0(ye),ye=nm.offset(ye,(R.V-1)*7),R.y=ye.getFullYear(),R.m=ye.getMonth(),R.d=ye.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),G="Z"in R?yv(gf(R.y,0,1)).getUTCDay():gv(gf(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(G+5)%7:R.w+R.U*7-(G+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,yv(R)):gv(R)}}function T(L,B,re,R){for(var ce=0,ye=B.length,G=re.length,me,Pe;ce<ye;){if(R>=G)return-1;if(me=B.charCodeAt(ce++),me===37){if(me=B.charAt(ce++),Pe=C[me in pM?B.charAt(ce++):me],!Pe||(R=Pe(L,re,R))<0)return-1}else if(me!=re.charCodeAt(R++))return-1}return R}function $(L,B,re){var R=u.exec(B.slice(re));return R?(L.p=d.get(R[0].toLowerCase()),re+R[0].length):-1}function D(L,B,re){var R=m.exec(B.slice(re));return R?(L.w=h.get(R[0].toLowerCase()),re+R[0].length):-1}function I(L,B,re){var R=f.exec(B.slice(re));return R?(L.w=p.get(R[0].toLowerCase()),re+R[0].length):-1}function O(L,B,re){var R=y.exec(B.slice(re));return R?(L.m=x.get(R[0].toLowerCase()),re+R[0].length):-1}function q(L,B,re){var R=b.exec(B.slice(re));return R?(L.m=v.get(R[0].toLowerCase()),re+R[0].length):-1}function X(L,B,re){return T(L,t,B,re)}function se(L,B,re){return T(L,n,B,re)}function we(L,B,re){return T(L,r,B,re)}function ne(L){return o[L.getDay()]}function H(L){return i[L.getDay()]}function W(L){return l[L.getMonth()]}function k(L){return s[L.getMonth()]}function V(L){return a[+(L.getHours()>=12)]}function P(L){return 1+~~(L.getMonth()/3)}function N(L){return o[L.getUTCDay()]}function F(L){return i[L.getUTCDay()]}function U(L){return l[L.getUTCMonth()]}function Q(L){return s[L.getUTCMonth()]}function le(L){return a[+(L.getUTCHours()>=12)]}function Y(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var B=j(L+="",w);return B.toString=function(){return L},B},parse:function(L){var B=M(L+="",!1);return B.toString=function(){return L},B},utcFormat:function(L){var B=j(L+="",S);return B.toString=function(){return L},B},utcParse:function(L){var B=M(L+="",!0);return B.toString=function(){return L},B}}}var pM={"-":"",_:" ",0:"0"},ga=/^\s*\d+/,HG=/^%/,KG=/[\\^$*+?|[\]().{}]/g;function On(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function GG(e){return e.replace(KG,"\\$&")}function yf(e){return new RegExp("^(?:"+e.map(GG).join("|")+")","i")}function bf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function YG(e,t,n){var r=ga.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function XG(e,t,n){var r=ga.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function JG(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function QG(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ZG(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function mM(e,t,n){var r=ga.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function hM(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tY(e,t,n){var r=ga.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function gM(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rY(e,t,n){var r=ga.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function yM(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function aY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function iY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=ga.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function sY(e,t,n){var r=ga.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lY(e,t,n){var r=HG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cY(e,t,n){var r=ga.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uY(e,t,n){var r=ga.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function bM(e,t){return On(e.getDate(),t,2)}function dY(e,t){return On(e.getHours(),t,2)}function fY(e,t){return On(e.getHours()%12||12,t,2)}function pY(e,t){return On(1+nm.count(Gs(e),e),t,3)}function EI(e,t){return On(e.getMilliseconds(),t,3)}function mY(e,t){return EI(e,t)+"000"}function hY(e,t){return On(e.getMonth()+1,t,2)}function gY(e,t){return On(e.getMinutes(),t,2)}function yY(e,t){return On(e.getSeconds(),t,2)}function bY(e){var t=e.getDay();return t===0?7:t}function vY(e,t){return On($y.count(Gs(e)-1,e),t,2)}function DI(e){var t=e.getDay();return t>=4||t===0?Nd(e):Nd.ceil(e)}function xY(e,t){return e=DI(e),On(Nd.count(Gs(e),e)+(Gs(e).getDay()===4),t,2)}function wY(e){return e.getDay()}function kY(e,t){return On(d0.count(Gs(e)-1,e),t,2)}function SY(e,t){return On(e.getFullYear()%100,t,2)}function NY(e,t){return e=DI(e),On(e.getFullYear()%100,t,2)}function jY(e,t){return On(e.getFullYear()%1e4,t,4)}function CY(e,t){var n=e.getDay();return e=n>=4||n===0?Nd(e):Nd.ceil(e),On(e.getFullYear()%1e4,t,4)}function AY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+On(t/60|0,"0",2)+On(t%60,"0",2)}function vM(e,t){return On(e.getUTCDate(),t,2)}function MY(e,t){return On(e.getUTCHours(),t,2)}function EY(e,t){return On(e.getUTCHours()%12||12,t,2)}function DY(e,t){return On(1+Ry.count(Ys(e),e),t,3)}function TI(e,t){return On(e.getUTCMilliseconds(),t,3)}function TY(e,t){return TI(e,t)+"000"}function PY(e,t){return On(e.getUTCMonth()+1,t,2)}function OY(e,t){return On(e.getUTCMinutes(),t,2)}function IY(e,t){return On(e.getUTCSeconds(),t,2)}function _Y(e){var t=e.getUTCDay();return t===0?7:t}function LY(e,t){return On(By.count(Ys(e)-1,e),t,2)}function PI(e){var t=e.getUTCDay();return t>=4||t===0?jd(e):jd.ceil(e)}function FY(e,t){return e=PI(e),On(jd.count(Ys(e),e)+(Ys(e).getUTCDay()===4),t,2)}function RY(e){return e.getUTCDay()}function $Y(e,t){return On(f0.count(Ys(e)-1,e),t,2)}function BY(e,t){return On(e.getUTCFullYear()%100,t,2)}function zY(e,t){return e=PI(e),On(e.getUTCFullYear()%100,t,2)}function UY(e,t){return On(e.getUTCFullYear()%1e4,t,4)}function VY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jd(e):jd.ceil(e),On(e.getUTCFullYear()%1e4,t,4)}function WY(){return"+0000"}function xM(){return"%"}function wM(e){return+e}function kM(e){return Math.floor(+e/1e3)}var Eu,OI,II;qY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qY(e){return Eu=qG(e),OI=Eu.format,Eu.parse,II=Eu.utcFormat,Eu.utcParse,Eu}function HY(e){return new Date(e)}function KY(e){return e instanceof Date?+e:+new Date(+e)}function TS(e,t,n,r,a,i,o,s,l,u){var d=yS(),f=d.invert,p=d.domain,m=u(".%L"),h=u(":%S"),b=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),x=u("%b %d"),w=u("%B"),S=u("%Y");function C(j){return(l(j)<j?m:s(j)<j?h:o(j)<j?b:i(j)<j?v:r(j)<j?a(j)<j?y:x:n(j)<j?w:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?p(Array.from(j,KY)):p().map(HY)},d.ticks=function(j){var M=p();return e(M[0],M[M.length-1],j??10)},d.tickFormat=function(j,M){return M==null?C:u(M)},d.nice=function(j){var M=p();return(!j||typeof j.range!="function")&&(j=t(M[0],M[M.length-1],j??10)),j?p(xI(M,j)):d},d.copy=function(){return tm(d,TS(e,t,n,r,a,i,o,s,l,u))},d}function GY(){return co.apply(TS(VG,WG,Gs,ES,$y,nm,AS,jS,Fc,OI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YY(){return co.apply(TS(zG,UG,Ys,DS,By,Ry,MS,CS,Fc,II).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zy(){var e=0,t=1,n,r,a,i,o=Ya,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),u):[o(0),o(1)]}}return u.range=d(Ld),u.rangeRound=d(gS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function rc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _I(){var e=nc(zy()(Ya));return e.copy=function(){return rc(e,_I())},al.apply(e,arguments)}function LI(){var e=xS(zy()).domain([1,10]);return e.copy=function(){return rc(e,LI()).base(e.base())},al.apply(e,arguments)}function FI(){var e=wS(zy());return e.copy=function(){return rc(e,FI()).constant(e.constant())},al.apply(e,arguments)}function PS(){var e=kS(zy());return e.copy=function(){return rc(e,PS()).exponent(e.exponent())},al.apply(e,arguments)}function XY(){return PS.apply(null,arguments).exponent(.5)}function RI(){var e=[],t=Ya;function n(r){if(r!=null&&!isNaN(r=+r))return t((Zp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Vl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>_K(e,i/r))},n.copy=function(){return RI(t).domain(e)},al.apply(n,arguments)}function Uy(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,u=Ya,d,f=!1,p;function m(b){return isNaN(b=+b)?p:(b=.5+((b=+d(b))-i)*(r*b<r*i?s:l),u(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,n]=b,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(u=b,m):u};function h(b){return function(v){var y,x,w;return arguments.length?([y,x,w]=v,u=lG(b,[y,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=h(Ld),m.rangeRound=h(gS),m.unknown=function(b){return arguments.length?(p=b,m):p},function(b){return d=b,a=b(e),i=b(t),o=b(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function $I(){var e=nc(Uy()(Ya));return e.copy=function(){return rc(e,$I())},al.apply(e,arguments)}function BI(){var e=xS(Uy()).domain([.1,1,10]);return e.copy=function(){return rc(e,BI()).base(e.base())},al.apply(e,arguments)}function zI(){var e=wS(Uy());return e.copy=function(){return rc(e,zI()).constant(e.constant())},al.apply(e,arguments)}function OS(){var e=kS(Uy());return e.copy=function(){return rc(e,OS()).exponent(e.exponent())},al.apply(e,arguments)}function JY(){return OS.apply(null,arguments).exponent(.5)}const Df=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pS,scaleDiverging:$I,scaleDivergingLog:BI,scaleDivergingPow:OS,scaleDivergingSqrt:JY,scaleDivergingSymlog:zI,scaleIdentity:vI,scaleImplicit:Pw,scaleLinear:bI,scaleLog:wI,scaleOrdinal:fS,scalePoint:RK,scalePow:SS,scaleQuantile:NI,scaleQuantize:jI,scaleRadial:SI,scaleSequential:_I,scaleSequentialLog:LI,scaleSequentialPow:PS,scaleSequentialQuantile:RI,scaleSequentialSqrt:XY,scaleSequentialSymlog:FI,scaleSqrt:TG,scaleSymlog:kI,scaleThreshold:CI,scaleTime:GY,scaleUtc:YY,tickFormat:yI},Symbol.toStringTag,{value:"Module"}));var ac=e=>e.chartData,IS=be([ac],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),_S=(e,t,n,r)=>r?IS(e):ac(e);function Kl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(fr(t)&&fr(n))return!0}return!1}function SM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function UI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(fr(n))a=n;else if(typeof n=="function")return;if(fr(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(Kl(o))return o}}function QY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Kl(r))return SM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(_t(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&UC.test(a)){var l=UC.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(_t(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&VC.test(i)){var d=VC.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(Kl(p))return t==null?p:SM(p,t,n)}}}var Fd=1e9,ZY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FS,pr=!0,lo="[DecimalError] ",Hc=lo+"Invalid argument: ",LS=lo+"Exponent out of range: ",Rd=Math.floor,Ac=Math.pow,eX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ei,ua=1e7,or=7,VI=9007199254740991,p0=Rd(VI/or),At={};At.absoluteValue=At.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};At.comparedTo=At.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};At.decimalPlaces=At.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*or;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};At.dividedBy=At.div=function(e){return Fs(this,new this.constructor(e))};At.dividedToIntegerBy=At.idiv=function(e){var t=this,n=t.constructor;return Gn(Fs(t,new n(e),0,1),n.precision)};At.equals=At.eq=function(e){return!this.cmp(e)};At.exponent=function(){return qr(this)};At.greaterThan=At.gt=function(e){return this.cmp(e)>0};At.greaterThanOrEqualTo=At.gte=function(e){return this.cmp(e)>=0};At.isInteger=At.isint=function(){return this.e>this.d.length-2};At.isNegative=At.isneg=function(){return this.s<0};At.isPositive=At.ispos=function(){return this.s>0};At.isZero=function(){return this.s===0};At.lessThan=At.lt=function(e){return this.cmp(e)<0};At.lessThanOrEqualTo=At.lte=function(e){return this.cmp(e)<1};At.logarithm=At.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ei))throw Error(lo+"NaN");if(n.s<1)throw Error(lo+(n.s?"NaN":"-Infinity"));return n.eq(Ei)?new r(0):(pr=!1,t=Fs(Tp(n,i),Tp(e,i),i),pr=!0,Gn(t,a))};At.minus=At.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HI(t,e):WI(t,(e.s=-e.s,e))};At.modulo=At.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(lo+"NaN");return n.s?(pr=!1,t=Fs(n,e,0,1).times(e),pr=!0,n.minus(t)):Gn(new r(n),a)};At.naturalExponential=At.exp=function(){return qI(this)};At.naturalLogarithm=At.ln=function(){return Tp(this)};At.negated=At.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};At.plus=At.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WI(t,e):HI(t,(e.s=-e.s,e))};At.precision=At.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hc+e);if(t=qr(a)+1,r=a.d.length-1,n=r*or+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};At.squareRoot=At.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(lo+"NaN")}for(e=qr(s),pr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ts(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Rd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(Fs(s,i,o+2)).times(.5),ts(i.d).slice(0,o)===(t=ts(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Gn(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return pr=!0,Gn(r,n)};At.times=At.mul=function(e){var t,n,r,a,i,o,s,l,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,u=m.length,l<u&&(i=p,p=m,m=i,o=l,l=u,u=o),i=[],o=l+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%ua|0,t=s/ua|0;i[a]=(i[a]+t)%ua|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,pr?Gn(e,f.precision):e};At.toDecimalPlaces=At.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ss(e,0,Fd),t===void 0?t=r.rounding:ss(t,0,8),Gn(n,e+qr(n)+1,t))};At.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=iu(r,!0):(ss(e,0,Fd),t===void 0?t=a.rounding:ss(t,0,8),r=Gn(new a(r),e+1,t),n=iu(r,!0,e+1)),n};At.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?iu(a):(ss(e,0,Fd),t===void 0?t=i.rounding:ss(t,0,8),r=Gn(new i(a),e+qr(a)+1,t),n=iu(r.abs(),!1,e+qr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};At.toInteger=At.toint=function(){var e=this,t=e.constructor;return Gn(new t(e),qr(e)+1,t.rounding)};At.toNumber=function(){return+this};At.toPower=At.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ei);if(s=new l(s),!s.s){if(e.s<1)throw Error(lo+"Infinity");return s}if(s.eq(Ei))return s;if(r=l.precision,e.eq(Ei))return Gn(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=VI){for(a=new l(Ei),t=Math.ceil(r/or+4),pr=!1;n%2&&(a=a.times(s),jM(a.d,t)),n=Rd(n/2),n!==0;)s=s.times(s),jM(s.d,t);return pr=!0,e.s<0?new l(Ei).div(a):Gn(a,r)}}else if(i<0)throw Error(lo+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,pr=!1,a=e.times(Tp(s,r+u)),pr=!0,a=qI(a),a.s=i,a};At.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=qr(a),r=iu(a,n<=i.toExpNeg||n>=i.toExpPos)):(ss(e,1,Fd),t===void 0?t=i.rounding:ss(t,0,8),a=Gn(new i(a),e,t),n=qr(a),r=iu(a,e<=n||n<=i.toExpNeg,e)),r};At.toSignificantDigits=At.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ss(e,1,Fd),t===void 0?t=r.rounding:ss(t,0,8)),Gn(new r(n),e,t)};At.toString=At.valueOf=At.val=At.toJSON=At[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qr(e),n=e.constructor;return iu(e,t<=n.toExpNeg||t>=n.toExpPos)};function WI(e,t){var n,r,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),pr?Gn(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=u.length):(r=u,a=o,s=l.length),o=Math.ceil(f/or),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/ua|0,l[i]%=ua;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,pr?Gn(t,f):t}function ss(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hc+e)}function ts(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=or-r.length,n&&(i+=Nl(n)),i+=r;o=e[t],r=o+"",n=or-r.length,n&&(i+=Nl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fs=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%ua|0,o=i/ua|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ua+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,u,d,f,p,m,h,b,v,y,x,w,S,C,j,M,T,$=r.constructor,D=r.s==a.s?1:-1,I=r.d,O=a.d;if(!r.s)return new $(r);if(!a.s)throw Error(lo+"Division by zero");for(l=r.e-a.e,M=O.length,C=I.length,m=new $(D),h=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--l,i==null?x=i=$.precision:o?x=i+(qr(r)-qr(a))+1:x=i,x<0)return new $(0);if(x=x/or+2|0,u=0,M==1)for(d=0,O=O[0],x++;(u<C||d)&&x--;u++)w=d*ua+(I[u]||0),h[u]=w/O|0,d=w%O|0;else{for(d=ua/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),M=O.length,C=I.length),S=M,b=I.slice(0,M),v=b.length;v<M;)b[v++]=0;T=O.slice(),T.unshift(0),j=O[0],O[1]>=ua/2&&++j;do d=0,s=t(O,b,M,v),s<0?(y=b[0],M!=v&&(y=y*ua+(b[1]||0)),d=y/j|0,d>1?(d>=ua&&(d=ua-1),f=e(O,d),p=f.length,v=b.length,s=t(f,b,p,v),s==1&&(d--,n(f,M<p?T:O,p))):(d==0&&(s=d=1),f=O.slice()),p=f.length,p<v&&f.unshift(0),n(b,f,v),s==-1&&(v=b.length,s=t(O,b,M,v),s<1&&(d++,n(b,M<v?T:O,v))),v=b.length):s===0&&(d++,b=[0]),h[u++]=d,s&&b[0]?b[v++]=I[S]||0:(b=[I[S]],v=1);while((S++<C||b[0]!==void 0)&&x--)}return h[0]||h.shift(),m.e=l,Gn(m,o?i+qr(m)+1:i)}}();function qI(e,t){var n,r,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(qr(e)>16)throw Error(LS+qr(e));if(!e.s)return new d(Ei);for(pr=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Ac(2,u))/Math.LN10*2+5|0,s+=r,n=a=i=new d(Ei),d.precision=s;;){if(a=Gn(a.times(e),s),n=n.times(++l),o=i.plus(Fs(a,n,s)),ts(o.d).slice(0,s)===ts(i.d).slice(0,s)){for(;u--;)i=Gn(i.times(i),s);return d.precision=f,t==null?(pr=!0,Gn(i,f)):i}i=o}}function qr(e){for(var t=e.e*or,n=e.d[0];n>=10;n/=10)t++;return t}function bv(e,t,n){if(t>e.LN10.sd())throw pr=!0,n&&(e.precision=n),Error(lo+"LN10 precision limit exceeded");return Gn(new e(e.LN10),t)}function Nl(e){for(var t="";e--;)t+="0";return t}function Tp(e,t){var n,r,a,i,o,s,l,u,d,f=1,p=10,m=e,h=m.d,b=m.constructor,v=b.precision;if(m.s<1)throw Error(lo+(m.s?"NaN":"-Infinity"));if(m.eq(Ei))return new b(0);if(t==null?(pr=!1,u=v):u=t,m.eq(10))return t==null&&(pr=!0),bv(b,u);if(u+=p,b.precision=u,n=ts(h),r=n.charAt(0),i=qr(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=ts(m.d),r=n.charAt(0),f++;i=qr(m),r>1?(m=new b("0."+n),i++):m=new b(r+"."+n.slice(1))}else return l=bv(b,u+2,v).times(i+""),m=Tp(new b(r+"."+n.slice(1)),u-p).plus(l),b.precision=v,t==null?(pr=!0,Gn(m,v)):m;for(s=o=m=Fs(m.minus(Ei),m.plus(Ei),u),d=Gn(m.times(m),u),a=3;;){if(o=Gn(o.times(d),u),l=s.plus(Fs(o,new b(a),u)),ts(l.d).slice(0,u)===ts(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(bv(b,u+2,v).times(i+""))),s=Fs(s,new b(f),u),b.precision=v,t==null?(pr=!0,Gn(s,v)):s;s=l,a+=2}}function NM(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Rd(n/or),e.d=[],r=(n+1)%or,n<0&&(r+=or),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=or;r<a;)e.d.push(+t.slice(r,r+=or));t=t.slice(r),r=or-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),pr&&(e.e>p0||e.e<-p0))throw Error(LS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gn(e,t,n){var r,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=or,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/or),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=or,a=r-or+o}if(n!==void 0&&(i=Ac(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?u/Ac(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=qr(e),f.length=1,t=t-i-1,f[0]=Ac(10,(or-t%or)%or),e.e=Rd(-t/or)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ac(10,or-r),f[d]=a>0?(u/Ac(10,o-a)%Ac(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ua&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ua)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(pr&&(e.e>p0||e.e<-p0))throw Error(LS+qr(e));return e}function HI(e,t){var n,r,a,i,o,s,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),pr?Gn(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),a=Math.max(Math.ceil(m/or),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ua-1;--l[i],l[a]+=ua}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,pr?Gn(t,m):t):new p(0)}function iu(e,t,n){var r,a=qr(e),i=ts(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Nl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Nl(-a-1)+i,n&&(r=n-o)>0&&(i+=Nl(r))):a>=o?(i+=Nl(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Nl(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Nl(r))),e.s<0?"-"+i:i}function jM(e,t){if(e.length>t)return e.length=t,!0}function KI(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return NM(o,i.toString())}else if(typeof i!="string")throw Error(Hc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,eX.test(i))NM(o,i);else throw Error(Hc+i)}if(a.prototype=At,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=KI,a.config=a.set=tX,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function tX(e){if(!e||typeof e!="object")throw Error(lo+"Object expected");var t,n,r,a=["precision",1,Fd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Rd(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Hc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hc+n+": "+r);return this}var FS=KI(ZY);Ei=new FS(1);const $n=FS;var nX=e=>e,GI={},YI=e=>e===GI,CM=e=>function t(){return arguments.length===0||arguments.length===1&&YI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},XI=(e,t)=>e===1?t:CM(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==GI).length;return i>=e?t(...r):XI(e-i,CM(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=r.map(d=>YI(d)?s.shift():d);return t(...u,...s)}))}),rX=e=>XI(e.length,e),Lw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},aX=rX((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),iX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return nX;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function JI(e){var t;return e===0?t=1:t=Math.floor(new $n(e).abs().log(10).toNumber())+1,t}function QI(e,t,n){for(var r=new $n(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var ZI=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},e_=(e,t,n)=>{if(e.lte(0))return new $n(0);var r=JI(e.toNumber()),a=new $n(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new $n(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new $n(l.toNumber()):new $n(Math.ceil(l.toNumber()))},oX=(e,t,n)=>{var r=new $n(1),a=new $n(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new $n(10).pow(JI(e)-1),a=new $n(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new $n(Math.floor(e)))}else e===0?a=new $n(Math.floor((t-1)/2)):n||(a=new $n(Math.floor(e)));var o=Math.floor((t-1)/2),s=iX(aX(l=>a.add(new $n(l-o).mul(r)).toNumber()),Lw);return s(0,t)},t_=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new $n(0),tickMin:new $n(0),tickMax:new $n(0)};var i=e_(new $n(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new $n(0):(o=new $n(e).add(t).div(2),o=o.sub(new $n(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new $n(t).sub(o).div(i).toNumber()),u=s+l+1;return u>n?t_(e,t,n,r,a+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:i,tickMin:o.sub(new $n(s).mul(i)),tickMax:o.add(new $n(l).mul(i))})},sX=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=ZI([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Lw(0,r-1).map(()=>1/0)]:[...Lw(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return oX(o,r,a);var{step:u,tickMin:d,tickMax:f}=t_(o,s,i,a,0),p=QI(d,f.add(new $n(.1).mul(u)),u);return t>n?p.reverse():p},lX=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=ZI([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=e_(new $n(o).sub(i).div(s-1),a,0),u=[...QI(new $n(i),new $n(o),l),o];return a===!1&&(u=u.map(d=>Math.round(d))),n>r?u.reverse():u},cX=e=>e.rootProps.barCategoryGap,rm=e=>e.rootProps.stackOffset,n_=e=>e.rootProps.reverseStackOrder,RS=e=>e.options.chartName,$S=e=>e.rootProps.syncId,r_=e=>e.rootProps.syncMethod,BS=e=>e.options.eventEmitter,fa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ms={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Vy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},uX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ms.angleAxisId,includeHidden:!1,name:void 0,reversed:Ms.reversed,scale:Ms.scale,tick:Ms.tick,tickCount:void 0,ticks:void 0,type:Ms.type,unit:void 0},dX={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:Mi.type,unit:void 0},fX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ms.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ms.scale,tick:Ms.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pX={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:"category",unit:void 0},zS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?fX:uX,US=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?pX:dX,Wy=e=>e.polarOptions,VS=be([nl,rl,ha],tI),a_=be([Wy,VS],(e,t)=>{if(e!=null)return to(e.innerRadius,t,0)}),i_=be([Wy,VS],(e,t)=>{if(e!=null)return to(e.outerRadius,t,t*.8)}),mX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},o_=be([Wy],mX);be([zS,o_],Vy);var s_=be([VS,a_,i_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});be([US,s_],Vy);var l_=be([Hn,Wy,a_,i_,nl,rl],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:to(o,a,a/2),cy:to(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),mr=(e,t)=>t,am=(e,t,n)=>n;function c_(e){return e==null?void 0:e.id}function u_(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=c_(s);u.forEach((f,p)=>{var m=i==null||a?p:String(lr(f,i,null)),h=lr(f,s.dataKey,0),b;o.has(m)?b=o.get(m):b={},Object.assign(b,{[d]:h}),o.set(m,b)})}}),Array.from(o.values())}function WS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var qy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Hy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function hX(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ta=e=>{var t=Hn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},$d=e=>e.tooltip.settings.axisId;function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function m0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){gX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fw=[0,"auto"],sa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},d_=(e,t)=>e.cartesianAxis.xAxis[t],ls=(e,t)=>{var n=d_(e,t);return n??sa},la={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Fw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yp},f_=(e,t)=>e.cartesianAxis.yAxis[t],cs=(e,t)=>{var n=f_(e,t);return n??la},vX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??vX},jr=(e,t,n)=>{switch(t){case"xAxis":return ls(e,n);case"yAxis":return cs(e,n);case"zAxis":return qS(e,n);case"angleAxis":return zS(e,n);case"radiusAxis":return US(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xX=(e,t,n)=>{switch(t){case"xAxis":return ls(e,n);case"yAxis":return cs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},im=(e,t,n)=>{switch(t){case"xAxis":return ls(e,n);case"yAxis":return cs(e,n);case"angleAxis":return zS(e,n);case"radiusAxis":return US(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},p_=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function HS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var m_=e=>e.graphicalItems.cartesianItems,wX=be([mr,am],HS),KS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),om=be([m_,jr,wX],KS,{memoizeOptions:{resultEqualityCheck:Hy}}),h_=be([om],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(WS)),g_=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kX=be([om],g_),GS=e=>e.map(t=>t.data).filter(Boolean).flat(1),SX=be([om],GS,{memoizeOptions:{resultEqualityCheck:Hy}}),YS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},XS=be([SX,_S],YS),JS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:lr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:lr(a,r)}))):e.map(r=>({value:r})),Ky=be([XS,jr,om],JS);function y_(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Jh(e){if(oo(e)||e instanceof Date){var t=Number(e);if(fr(t))return t}}function MM(e){if(Array.isArray(e)){var t=[Jh(e[0]),Jh(e[1])];return Kl(t)?t:void 0}var n=Jh(e);if(n!=null)return[n,n]}function Xs(e){return e.map(Jh).filter($7)}function NX(e,t,n){return!n||typeof t!="number"||io(t)?[]:n.length?Xs(n.flatMap(r=>{var a=lr(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!fr(i)||!fr(o)))return[t-i,t+o]})):[]}var na=e=>{var t=ta(e),n=$d(e);return im(e,t,n)},sm=be([na],e=>e==null?void 0:e.dataKey),jX=be([h_,_S,na],u_),b_=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,u=r?[...l].reverse():l,d=u.map(c_);return[s,{stackedData:tq(e,d,n),graphicalItems:u}]}))},CX=be([jX,h_,rm,n_],b_),v_=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=aq(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},AX=be([jr],e=>e.allowDataOverflow),QS=e=>{var t;if(e==null||!("domain"in e))return Fw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Xs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Fw},ZS=be([jr],QS),eN=be([ZS,AX],UI),MX=be([CX,ac,mr,eN],v_,{memoizeOptions:{resultEqualityCheck:qy}}),Gy=e=>e.errorBars,EX=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>y_(n,r)),h0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},tN=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(y=>y_(a,y)),p=lr(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=NX(s,p,f);if(m.length>=2){var h=Math.min(...m),b=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||b>o)&&(o=b)}var v=MM(p);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=MM(lr(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),fr(i)&&fr(o))return[i,o]},DX=be([XS,jr,kX,Gy,mr],tN,{memoizeOptions:{resultEqualityCheck:qy}});function TX(e){var{value:t}=e;if(oo(t)||t instanceof Date)return t}var PX=(e,t,n)=>{var r=e.map(TX).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&pO(r))?lI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},x_=e=>e.referenceElements.dots,Bd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),OX=be([x_,mr,am],Bd),w_=e=>e.referenceElements.areas,IX=be([w_,mr,am],Bd),k_=e=>e.referenceElements.lines,_X=be([k_,mr,am],Bd),S_=(e,t)=>{if(e!=null){var n=Xs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},LX=be(OX,mr,S_),N_=(e,t)=>{if(e!=null){var n=Xs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},FX=be([IX,mr],N_);function RX(e){var t;if(e.x!=null)return Xs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Xs(n)}function $X(e){var t;if(e.y!=null)return Xs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Xs(n)}var j_=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?RX(r):$X(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},BX=be([_X,mr],j_),zX=be(LX,BX,FX,(e,t,n)=>h0(e,n,t)),nN=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?h0(r,i,a):h0(i,a);return QY(t,u,e.allowDataOverflow)},UX=be([jr,ZS,eN,MX,DX,zX,Hn,mr],nN,{memoizeOptions:{resultEqualityCheck:qy}}),VX=[0,1],rN=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=tc(t,i);if(u&&s==null){var d;return lI(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?PX(r,e,u):a==="expand"?VX:o}},aN=be([jr,Hn,XS,Ky,rm,mr,UX],rN),C_=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(qp(i));return s in Df?s:"point"}}},zd=be([jr,Hn,p_,RS,mr],C_);function WX(e){if(e!=null){if(e in Df)return Df[e]();var t="scale".concat(qp(e));if(t in Df)return Df[t]()}}function iN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=WX(t);if(a!=null){var i=a.domain(n).range(r);return JW(i),i}}}var oN=(e,t,n)=>{var r=QS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Kl(e))return sX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Kl(e))return lX(e,t.tickCount,t.allowDecimals)}},sN=be([aN,im,zd],oN),lN=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Kl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},qX=be([jr,aN,sN,mr],lN),HX=be(Ky,jr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Xs(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/o}}),A_=be(HX,Hn,cX,ha,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!fr(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=to(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),KX=(e,t,n)=>{var r=ls(e,t);return r==null||typeof r.padding!="string"?0:A_(e,"xAxis",t,n,r.padding)},GX=(e,t,n)=>{var r=cs(e,t);return r==null||typeof r.padding!="string"?0:A_(e,"yAxis",t,n,r.padding)},YX=be(ls,KX,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),XX=be(cs,GX,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),JX=be([ha,YX,Ey,My,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),QX=be([ha,Hn,XX,Ey,My,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),lm=(e,t,n,r)=>{var a;switch(t){case"xAxis":return JX(e,n,r);case"yAxis":return QX(e,n,r);case"zAxis":return(a=qS(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return o_(e);case"radiusAxis":return s_(e,n);default:return}},M_=be([jr,lm],Vy),Cd=be([jr,zd,qX,M_],iN);be([om,Gy,mr],EX);function E_(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Yy=(e,t)=>t,Xy=(e,t,n)=>n,ZX=be(Cy,Yy,Xy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(E_)),eJ=be(Ay,Yy,Xy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(E_)),D_=(e,t)=>({width:e.width,height:t.height}),tJ=(e,t)=>{var n=typeof t.width=="number"?t.width:Yp;return{width:n,height:e.height}},nJ=be(ha,ls,D_),rJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},aJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},iJ=be(rl,ha,ZX,Yy,Xy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=D_(t,s);o==null&&(o=rJ(t,r,e));var u=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),i}),oJ=be(nl,ha,eJ,Yy,Xy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=tJ(t,s);o==null&&(o=aJ(t,r,e));var u=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),i}),sJ=(e,t)=>{var n=ls(e,t);if(n!=null)return iJ(e,n.orientation,n.mirror)},lJ=be([ha,ls,sJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),cJ=(e,t)=>{var n=cs(e,t);if(n!=null)return oJ(e,n.orientation,n.mirror)},uJ=be([ha,cs,cJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),dJ=be(ha,cs,(e,t)=>{var n=typeof t.width=="number"?t.width:Yp;return{width:n,height:e.height}}),T_=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=tc(e,r),l=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&pO(l))return l}},cN=be([Hn,Ky,jr,mr],T_),P_=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=tc(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},uN=be([Hn,Ky,im,mr],P_),EM=be([Hn,xX,zd,Cd,cN,uN,lm,sN,mr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var u=tc(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:n,scale:r}}}),fJ=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var u=tc(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?$a(i[0]-i[1])*2*h:h;var b=f||a;if(b){var v=b.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:r(w)+h,value:y,offset:h}});return v.filter(y=>fr(y.coordinate))}return u&&s?s.map((y,x)=>({coordinate:r(y)+h,value:y,index:x,offset:h})).filter(y=>fr(y.coordinate)):r.ticks?r.ticks(p).map(y=>({coordinate:r(y)+h,value:y,offset:h})):r.domain().map((y,x)=>({coordinate:r(y)+h,value:o?o[y]:y,index:x,offset:h}))}},O_=be([Hn,im,zd,Cd,sN,lm,cN,uN,mr],fJ),pJ=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=tc(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?$a(r[0]-r[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:a?a[d]:d,index:f,offset:u}))}},I_=be([Hn,im,Cd,lm,cN,uN,mr],pJ),__=be(jr,Cd,(e,t)=>{if(!(e==null||t==null))return m0(m0({},e),{},{scale:t})}),mJ=be([jr,zd,aN,M_],iN);be((e,t,n)=>qS(e,n),mJ,(e,t)=>{if(!(e==null||t==null))return m0(m0({},e),{},{scale:t})});var hJ=be([Hn,Cy,Ay],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),L_=e=>e.options.defaultTooltipEventType,F_=e=>e.options.validateTooltipEventTypes;function R_(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function dN(e,t){var n=L_(e),r=F_(e);return R_(t,n,r)}function gJ(e){return Mt(t=>dN(t,e))}var $_=(e,t)=>{var n,r=Number(t);if(!(io(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},yJ=e=>e.tooltip.settings,El={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},bJ={itemInteraction:{click:El,hover:El},axisInteraction:{click:El,hover:El},keyboardInteraction:El,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},B_=gi({name:"tooltip",initialState:bJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ur()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=jo(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:ur()},removeTooltipEntrySettings:{reducer(e,t){var n=jo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ur()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:vJ,replaceTooltipEntrySettings:xJ,removeTooltipEntrySettings:wJ,setTooltipSettingsState:kJ,setActiveMouseOverItemIndex:z_,mouseLeaveItem:SJ,mouseLeaveChart:U_,setActiveClickItemIndex:NJ,setMouseOverAxisIndex:V_,setMouseClickAxisIndex:jJ,setSyncInteraction:Rw,setKeyboardInteraction:$w}=B_.actions,CJ=B_.reducer;function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(r){AJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AJ(e,t,n){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MJ(e){var t=EJ(e,"string");return typeof t=="symbol"?t:t+""}function EJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function TJ(e){return e.index!=null}var W_=(e,t,n,r)=>{if(t==null)return El;var a=DJ(e,t,n);if(a==null)return El;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(TJ(a)){if(i)return wh(wh({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return wh(wh({},El),{},{coordinate:a.coordinate})};function PJ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function OJ(e,t){var n=PJ(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function IJ(e,t,n){if(n==null||t==null)return!0;var r=lr(e,t);return r==null||!Kl(n)?!0:OJ(r,n)}var fN=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!fr(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),u=t[l];return u==null||IJ(u,n,r)?String(l):null},q_=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},H_=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},cm=e=>e.options.tooltipPayloadSearcher,Ud=e=>e.tooltip;function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(r){_J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _J(e,t,n){return(t=LJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LJ(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RJ(e,t){return e??t}var K_=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:b,settings:v}=m,y=RJ(b,s),x=Array.isArray(y)?S4(y,u,d):y,w=(h=v==null?void 0:v.dataKey)!==null&&h!==void 0?h:r,S=v==null?void 0:v.nameKey,C;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?C=mO(x,r,a):C=i(x,t,l,S),Array.isArray(C))C.forEach(M=>{var T=PM(PM({},v),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});p.push(WC({tooltipEntrySettings:T,dataKey:M.dataKey,payload:M.payload,value:lr(M.payload,M.dataKey),name:M.name}))});else{var j;p.push(WC({tooltipEntrySettings:v,dataKey:w,payload:C,value:lr(C,w),name:(j=lr(C,S))!==null&&j!==void 0?j:v==null?void 0:v.name}))}return p},f)}},pN=be([na,Hn,p_,RS,ta],C_),$J=be([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),BJ=be([ta,$d],HS),Vd=be([$J,na,BJ],KS,{memoizeOptions:{resultEqualityCheck:Hy}}),zJ=be([Vd],e=>e.filter(WS)),UJ=be([Vd],GS,{memoizeOptions:{resultEqualityCheck:Hy}}),Wd=be([UJ,ac],YS),VJ=be([zJ,ac,na],u_),mN=be([Wd,na,Vd],JS),G_=be([na],QS),WJ=be([na],e=>e.allowDataOverflow),Y_=be([G_,WJ],UI),qJ=be([Vd],e=>e.filter(WS)),HJ=be([VJ,qJ,rm,n_],b_),KJ=be([HJ,ac,ta,Y_],v_),GJ=be([Vd],g_),YJ=be([Wd,na,GJ,Gy,ta],tN,{memoizeOptions:{resultEqualityCheck:qy}}),XJ=be([x_,ta,$d],Bd),JJ=be([XJ,ta],S_),QJ=be([w_,ta,$d],Bd),ZJ=be([QJ,ta],N_),eQ=be([k_,ta,$d],Bd),tQ=be([eQ,ta],j_),nQ=be([JJ,tQ,ZJ],h0),rQ=be([na,G_,Y_,KJ,YJ,nQ,Hn,ta],nN),um=be([na,Hn,Wd,mN,rm,ta,rQ],rN),aQ=be([um,na,pN],oN),iQ=be([na,um,aQ,ta],lN),X_=e=>{var t=ta(e),n=$d(e),r=!1;return lm(e,t,n,r)},J_=be([na,X_],Vy),Q_=be([na,pN,iQ,J_],iN),oQ=be([Hn,mN,na,ta],T_),sQ=be([Hn,mN,na,ta],P_),lQ=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,u=tc(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?$a(a[0]-a[1])*2*f:f,u&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},il=be([Hn,na,pN,Q_,X_,oQ,sQ,ta],lQ),hN=be([L_,F_,yJ],(e,t,n)=>R_(n.shared,e,t)),Z_=e=>e.tooltip.settings.trigger,gN=e=>e.tooltip.settings.defaultIndex,dm=be([Ud,hN,Z_,gN],W_),Ad=be([dm,Wd,sm,um],fN),eL=be([il,Ad],$_),tL=be([dm],e=>{if(e)return e.dataKey}),cQ=be([dm],e=>{if(e)return e.graphicalItemId}),nL=be([Ud,hN,Z_,gN],H_),uQ=be([nl,rl,Hn,ha,il,gN,nL,cm],q_),dQ=be([dm,uQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),fQ=be([dm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),pQ=be([nL,Ad,ac,sm,eL,cm,hN],K_),mQ=be([pQ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function OM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bQ=()=>Mt(na),vQ=()=>{var e=bQ(),t=Mt(il),n=Mt(Q_);return mw(!e||!n?void 0:IM(IM({},e),{},{scale:n}),t)};function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){xQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xQ(e,t,n){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SQ=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},NQ=(e,t,n,r)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Du(Du(Du({},r),Wr(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Du(Du(Du({},r),Wr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function jQ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var rL=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,b=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,v=void 0;if(!(m==null||h==null||b==null))if($a(h-m)!==$a(b-h)){var y=[];if($a(b-h)===$a(a[1]-a[0])){v=b;var x=h+a[1]-a[0];y[0]=Math.min(x,(x+m)/2),y[1]=Math.max(x,(x+m)/2)}else{v=m;var w=b+a[1]-a[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){var C;return(C=n[s])===null||C===void 0?void 0:C.index}}else{var j=Math.min(m,b),M=Math.max(m,b);if(e>(j+h)/2&&e<=(M+h)/2){var T;return(T=n[s])===null||T===void 0?void 0:T.index}}}else if(t)for(var $=0;$<o;$++){var D=t[$];if(D!=null){var I=t[$+1],O=t[$-1];if($===0&&I!=null&&e<=(D.coordinate+I.coordinate)/2||$===o-1&&O!=null&&e>(D.coordinate+O.coordinate)/2||$>0&&$<o-1&&O!=null&&I!=null&&e>(D.coordinate+O.coordinate)/2&&e<=(D.coordinate+I.coordinate)/2)return D.index}}return-1},CQ=()=>Mt(RS),yN=(e,t)=>t,aL=(e,t,n)=>n,bN=(e,t,n,r)=>r,AQ=be(il,e=>hy(e,t=>t.coordinate)),vN=be([Ud,yN,aL,bN],W_),xN=be([vN,Wd,sm,um],fN),MQ=(e,t,n)=>{if(t!=null){var r=Ud(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},iL=be([Ud,yN,aL,bN],H_),g0=be([nl,rl,Hn,ha,il,bN,iL,cm],q_),EQ=be([vN,g0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),oL=be([il,xN],$_),DQ=be([iL,xN,ac,sm,oL,cm,yN],K_),TQ=be([vN,xN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),PQ=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&jQ(e,o)){var s=iq(e,t),l=rL(s,i,a,n,r),u=SQ(t,a,l,e);return{activeIndex:String(l),activeCoordinate:u}}},OQ=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=bK(e,n);if(s){var l=oq(s,t),u=rL(l,o,i,r,a),d=NQ(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},IQ=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?PQ(e,t,r,a,i,o,s):OQ(e,t,n,r,a,i,o)},_Q=be(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),LQ=be(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fa)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:hX}});function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(r){FQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BQ={},zQ={zIndexMap:Object.values(fa).reduce((e,t)=>FM(FM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),BQ)},UQ=new Set(Object.values(fa));function VQ(e){return UQ.has(e)}var sL=gi({name:"zIndex",initialState:zQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ur()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!VQ(n)&&delete e.zIndexMap[n])},prepare:ur()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:ur()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ur()}}}),{registerZIndexPortal:WQ,unregisterZIndexPortal:qQ,registerZIndexPortalElement:HQ,unregisterZIndexPortalElement:KQ}=sL.actions,GQ=sL.reducer;function uo(e){var{zIndex:t,children:n}=e,r=Oq(),a=r&&t!==void 0&&t!==0,i=ti(),o=Xn();g.useLayoutEffect(()=>a?(o(WQ({zIndex:t})),()=>{o(qQ({zIndex:t}))}):Hp,[o,t,a]);var s=Mt(l=>_Q(l,t,i));return a?s?_d.createPortal(n,s):null:n}function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw.apply(null,arguments)}function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(n),!0).forEach(function(r){YQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YQ(e,t,n){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return g.isValidElement(t)?g.cloneElement(t,r):g.createElement(n,r)}function ZQ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var h,b,v;if(d==="ScatterChart")h=f,b=PH,v=fa.cursorLine;else if(d==="BarChart")h=OH(s,f,i,o),b=eI,v=fa.cursorRectangle;else if(s==="radial"&&gO(f)){var{cx:y,cy:x,radius:w,startAngle:S,endAngle:C}=nI(f);h={cx:y,cy:x,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},b=aI,v=fa.cursorLine}else h={points:kK(s,f,i)},b=uS,v=fa.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,M=kh(kh(kh(kh({stroke:"#ccc",pointerEvents:"none"},i),h),bd(l)),{},{payload:p,payloadIndex:m,className:Pn("recharts-tooltip-cursor",j)});return g.createElement(uo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},g.createElement(QQ,{cursor:l,cursorComp:b,cursorProps:M}))}function eZ(e){var t=vQ(),n=F4(),r=Jp(),a=CQ();return t==null||n==null||r==null||a==null?null:g.createElement(ZQ,Bw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var lL=g.createContext(null),tZ=()=>g.useContext(lL),cL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+u:u;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var b=this._events[h],v=arguments.length,y,x;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,f),!0;case 5:return b.fn.call(b.context,u,d,f,p),!0;case 6:return b.fn.call(b.context,u,d,f,p,m),!0}for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];b.fn.apply(b.context,y)}else{var w=b.length,S;for(x=0;x<w;x++)switch(b[x].once&&this.removeListener(l,b[x].fn,void 0,!0),v){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,u);break;case 3:b[x].fn.call(b[x].context,u,d);break;case 4:b[x].fn.call(b[x].context,u,d,f);break;default:if(!y)for(S=1,y=new Array(v-1);S<v;S++)y[S-1]=arguments[S];b[x].fn.apply(b[x].context,y)}}return!0},s.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,b=[],v=m.length;h<v;h++)(m[h].fn!==u||f&&!m[h].once||d&&m[h].context!==d)&&b.push(m[h]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(cL);var nZ=cL.exports;const rZ=_o(nZ);var Pp=new rZ,zw="recharts.syncEvent.tooltip",$M="recharts.syncEvent.brush";function uL(e,t){if(t){var n=Number.parseInt(t,10);if(!io(n))return e==null?void 0:e[n]}}var aZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dL=gi({name:"options",initialState:aZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),iZ=dL.reducer,{createEventEmitter:oZ}=dL.actions;function sZ(e){return e.tooltip.syncInteraction}var lZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fL=gi({name:"chartData",initialState:lZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:BM,setDataStartEndIndexes:cZ,setComputedData:dye}=fL.actions,uZ=fL.reducer,dZ=["x","y"];function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(n),!0).forEach(function(r){fZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fZ(e,t,n){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e){var t=mZ(e,"string");return typeof t=="symbol"?t:t+""}function mZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hZ(e,t){if(e==null)return{};var n,r,a=gZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yZ(){var e=Mt($S),t=Mt(BS),n=Xn(),r=Mt(r_),a=Mt(il),i=Jp(),o=Xp(),s=Mt(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return Hp;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y:b}=m,v=hZ(m,dZ),{x:y,y:x,width:w,height:S}=d.payload.sourceViewBox,C=Tu(Tu({},v),{},{x:o.x+(w?(h-y)/w:0)*o.width,y:o.y+(S?(b-x)/S:0)*o.height});n(Tu(Tu({},d),{},{payload:Tu(Tu({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var j;if(typeof r=="function"){var M={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(a,M);j=a[T]}else r==="value"&&(j=a.find(we=>String(we.value)===d.payload.label));var{coordinate:$}=d.payload;if(j==null||d.payload.active===!1||$==null||o==null){n(Rw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:I}=$,O=Math.min(D,o.x+o.width),q=Math.min(I,o.y+o.height),X={x:i==="horizontal"?j.coordinate:O,y:i==="horizontal"?q:j.coordinate},se=Rw({active:d.payload.active,coordinate:X,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(se)}}};return Pp.on(zw,l),()=>{Pp.off(zw,l)}},[s,n,t,e,r,a,i,o])}function bZ(){var e=Mt($S),t=Mt(BS),n=Xn();g.useEffect(()=>{if(e==null)return Hp;var r=(a,i,o)=>{t!==o&&e===a&&n(cZ(i))};return Pp.on($M,r),()=>{Pp.off($M,r)}},[n,t,e])}function vZ(){var e=Xn();g.useEffect(()=>{e(oZ())},[e]),yZ(),bZ()}function xZ(e,t,n,r,a,i){var o=Mt(m=>MQ(m,e,t)),s=Mt(BS),l=Mt($S),u=Mt(r_),d=Mt(sZ),f=d==null?void 0:d.active,p=Xp();g.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Rw({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Pp.emit(zw,l,m,s)}},[f,n,o,a,r,s,l,u,i,p])}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function VM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){wZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wZ(e,t,n){return(t=kZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kZ(e){var t=SZ(e,"string");return typeof t=="symbol"?t:t+""}function SZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NZ(e){return e.dataKey}function jZ(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(dH,t)}var WM=[],CZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function To(e){var t,n,r=Hr(e,CZ),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:b,wrapperStyle:v,cursor:y,shared:x,trigger:w,defaultIndex:S,portal:C,axisId:j}=r,M=Xn(),T=typeof S=="number"?String(S):S;g.useEffect(()=>{M(kJ({shared:x,trigger:w,axisId:j,active:a,defaultIndex:T}))},[M,x,w,j,a,T]);var $=Xp(),D=Y4(),I=gJ(x),{activeIndex:O,isActive:q}=(t=Mt(le=>TQ(le,I,w,T)))!==null&&t!==void 0?t:{},X=Mt(le=>DQ(le,I,w,T)),se=Mt(le=>oL(le,I,w,T)),we=Mt(le=>EQ(le,I,w,T)),ne=X,H=tZ(),W=(n=a??q)!==null&&n!==void 0?n:!1,[k,V]=KO([ne,W]),P=I==="axis"?se:void 0;xZ(I,w,we,P,O,W);var N=C??H;if(N==null||$==null||I==null)return null;var F=ne??WM;W||(F=WM),u&&F.length&&(F=_O(F.filter(le=>le.value!=null&&(le.hide!==!0||r.includeHidden)),p,NZ));var U=F.length>0,Q=g.createElement(bH,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:W,coordinate:we,hasPayload:U,offset:f,position:m,reverseDirection:h,useTranslate3d:b,viewBox:$,wrapperStyle:v,lastBoundingBox:k,innerRef:V,hasPortalFromProps:!!C},jZ(l,VM(VM({},r),{},{payload:F,label:P,active:W,activeIndex:O,coordinate:we,accessibilityLayer:D})));return g.createElement(g.Fragment,null,_d.createPortal(Q,N),W&&g.createElement(eZ,{cursor:y,tooltipEventType:I,coordinate:we,payload:F,index:O}))}var Md=e=>null;Md.displayName="Cell";function AZ(e,t,n){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DZ{constructor(t){AZ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function qM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(n),!0).forEach(function(r){PZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PZ(e,t,n){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OZ(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Z={cacheSize:2e3,enableCache:!0},pL=TZ({},_Z),HM=new DZ(pL.cacheSize),LZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KM="recharts_measurement_span";function FZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var GM=(e,t)=>{try{var n=document.getElementById(KM);n||(n=document.createElement("span"),n.setAttribute("id",KM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,LZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Vf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Iy.isSsr)return{width:0,height:0};if(!pL.enableCache)return GM(e,t);var n=FZ(e,t),r=HM.get(n);if(r)return r;var a=GM(e,t);return HM.set(n,a),a},mL;function RZ(e,t,n){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Z(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function BZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WZ=["cm","mm","pt","pc","in","Q","px"];function qZ(e){return WZ.includes(e)}var Yu="NaN";function HZ(e,t){return e*VZ[t]}class Sa{static parse(t){var n,[,r,a]=(n=UZ.exec(t))!==null&&n!==void 0?n:[];return r==null?Sa.NaN:new Sa(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,io(t)&&(this.unit=""),n!==""&&!zZ.test(n)&&(this.num=NaN,this.unit=""),qZ(n)&&(this.num=HZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return io(this.num)}}mL=Sa;RZ(Sa,"NaN",new mL(NaN,""));function hL(e){if(e==null||e.includes(Yu))return Yu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=YM.exec(t))!==null&&n!==void 0?n:[],o=Sa.parse(r??""),s=Sa.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Yu;t=t.replace(YM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=XM.exec(t))!==null&&u!==void 0?u:[],m=Sa.parse(d??""),h=Sa.parse(p??""),b=f==="+"?m.add(h):m.subtract(h);if(b.isNaN())return Yu;t=t.replace(XM,b.toString())}return t}var JM=/\(([^()]*)\)/;function KZ(e){for(var t=e,n;(n=JM.exec(t))!=null;){var[,r]=n;t=t.replace(JM,hL(r))}return t}function GZ(e){var t=e.replace(/\s+/g,"");return t=KZ(t),t=hL(t),t}function YZ(e){try{return GZ(e)}catch{return Yu}}function vv(e){var t=YZ(e.slice(5,-1));return t===Yu?"":t}var XZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],JZ=["dx","dy","angle","className","breakAll"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uw.apply(null,arguments)}function QM(e,t){if(e==null)return{};var n,r,a=QZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function QZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gL=/[ \f\n\r\t\v\u2028\u2029]+/,yL=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Zr(t)||(n?a=t.toString().split(""):a=t.toString().split(gL));var i=a.map(s=>({word:s,width:Vf(s,r).width})),o=n?0:Vf("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function ZZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var bL=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var u={words:[o],width:s};a.push(u)}return a},[]),vL=e=>e.reduce((t,n)=>t.width>n.width?t:n),eee="",ZM=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),u=yL({breakAll:n,style:r,children:l+eee});if(!u)return[!1,[]];var d=bL(u.wordsWithComputedWidth,i,o,s),f=d.length>a||vL(d).width>Number(i);return[f,d]},tee=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,u=_t(i),d=String(o),f=bL(t,r,n,a);if(!u||a)return f;var p=f.length>i||vL(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,b=0,v;m<=h&&b<=d.length-1;){var y=Math.floor((m+h)/2),x=y-1,[w,S]=ZM(d,x,l,s,i,r,n,a),[C]=ZM(d,y,l,s,i,r,n,a);if(!w&&!C&&(m=y+1),w&&C&&(h=y-1),!w&&C){v=S;break}b++}return v||f},e5=e=>{var t=Zr(e)?[]:e.toString().split(gL);return[{words:t,width:void 0}]},nee=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!Iy.isSsr){var s,l,u=yL({breakAll:i,children:r,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,l=f}else return e5(r);return tee({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return e5(r)},xL="#808080",ree={angle:0,breakAll:!1,capHeight:"0.71em",fill:xL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Jy=g.forwardRef((e,t)=>{var n=Hr(e,ree),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=QM(n,XZ),p=g.useMemo(()=>nee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:b,className:v,breakAll:y}=f,x=QM(f,JZ);if(!oo(r)||!oo(a)||p.length===0)return null;var w=Number(r)+(_t(m)?m:0),S=Number(a)+(_t(h)?h:0);if(!fr(w)||!fr(S))return null;var C;switch(d){case"start":C=vv("calc(".concat(o,")"));break;case"middle":C=vv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=vv("calc(".concat(p.length-1," * -").concat(i,")"));break}var j=[];if(l){var M=p[0].width,{width:T}=f;j.push("scale(".concat(_t(T)&&_t(M)?T/M:1,")"))}return b&&j.push("rotate(".concat(b,", ").concat(w,", ").concat(S,")")),j.length&&(x.transform=j.join(" ")),g.createElement("text",Uw({},Ua(x),{ref:t,x:w,y:S,className:Pn("recharts-text",v),textAnchor:u,fill:s.includes("url")?xL:s}),p.map(($,D)=>{var I=$.words.join(y?"":" ");return g.createElement("tspan",{x:w,dy:D===0?C:i,key:"".concat(I,"-").concat(D)},I)}))});Jy.displayName="Text";var aee=["labelRef"],iee=["content"];function t5(e,t){if(e==null)return{};var n,r,a=oee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function n5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(n),!0).forEach(function(r){see(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function see(e,t,n){return(t=lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lee(e){var t=cee(e,"string");return typeof t=="symbol"?t:t+""}function cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Es.apply(null,arguments)}var wL=g.createContext(null),kL=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=g.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return g.createElement(wL.Provider,{value:l},s)},SL=()=>{var e=g.useContext(wL),t=Xp();return e||L4(t)},uee=g.createContext(null),dee=()=>{var e=g.useContext(uee),t=Mt(l_);return e||t},fee=e=>{var{value:t,formatter:n}=e,r=Zr(e.children)?t:e.children;return typeof n=="function"?n(r):r},wN=e=>e!=null&&typeof e=="function",pee=(e,t)=>{var n=$a(t-e),r=Math.min(Math.abs(t-e),360);return n*r},mee=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(u+d)/2,b=pee(f,p),v=b>=0?1:-1,y,x;switch(t){case"insideStart":y=f+v*i,x=m;break;case"insideEnd":y=p-v*i,x=!m;break;case"end":y=p+v*i,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=b<=0?x:!x;var w=Wr(s,l,h,y),S=Wr(s,l,h,y+(x?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(x?0:1,`,
    `).concat(S.x,",").concat(S.y),j=Zr(e.id)?vp("recharts-radial-line-"):e.id;return g.createElement("text",Es({},r,{dominantBaseline:"central",className:Pn("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:j,d:C})),g.createElement("textPath",{xlinkHref:"#".concat(j)},n))},hee=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Wr(r,a,o+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Wr(r,a,p,u);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},Vw=e=>"cx"in e&&_t(e.cx),gee=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!Vw(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:d}=t,f=o,p=o+(l-u)/2,m=(f+p)/2,h=(l+u)/2,b=f+l/2,v=d>=0?1:-1,y=v*r,x=v>0?"end":"start",w=v>0?"start":"end",S=l>=0?1:-1,C=S*r,j=S>0?"end":"start",M=S>0?"start":"end";if(a==="top"){var T={x:f+l/2,y:s-y,textAnchor:"middle",verticalAnchor:x};return Or(Or({},T),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var $={x:p+u/2,y:s+d+y,textAnchor:"middle",verticalAnchor:w};return Or(Or({},$),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var D={x:m-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"};return Or(Or({},D),i?{width:Math.max(D.x-i.x,0),height:d}:{})}if(a==="right"){var I={x:m+h+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"};return Or(Or({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:d}:{})}var O=i?{width:h,height:d}:{};return a==="insideLeft"?Or({x:m+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"},O):a==="insideRight"?Or({x:m+h-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"},O):a==="insideTop"?Or({x:f+l/2,y:s+y,textAnchor:"middle",verticalAnchor:w},O):a==="insideBottom"?Or({x:p+u/2,y:s+d-y,textAnchor:"middle",verticalAnchor:x},O):a==="insideTopLeft"?Or({x:f+C,y:s+y,textAnchor:M,verticalAnchor:w},O):a==="insideTopRight"?Or({x:f+l-C,y:s+y,textAnchor:j,verticalAnchor:w},O):a==="insideBottomLeft"?Or({x:p+C,y:s+d-y,textAnchor:M,verticalAnchor:x},O):a==="insideBottomRight"?Or({x:p+u-C,y:s+d-y,textAnchor:j,verticalAnchor:x},O):a&&typeof a=="object"&&(_t(a.x)||qs(a.x))&&(_t(a.y)||qs(a.y))?Or({x:o+to(a.x,h),y:s+to(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):Or({x:b,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},yee={angle:0,offset:5,zIndex:fa.label,position:"middle",textBreakAll:!1};function jl(e){var t=Hr(e,yee),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:u}=t,d=dee(),f=SL(),p=r==="center"?f:d??f,m,h,b;if(n==null?m=p:Vw(n)?m=n:m=L4(n),!m||Zr(a)&&Zr(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var v=Or(Or({},t),{},{viewBox:m});if(g.isValidElement(o)){var{labelRef:y}=v,x=t5(v,aee);return g.cloneElement(o,x)}if(typeof o=="function"){var{content:w}=v,S=t5(v,iee);if(h=g.createElement(o,S),g.isValidElement(h))return h}else h=fee(t);var C=Ua(t);if(Vw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return mee(t,r,h,C,m);b=hee(m,t.offset,t.position)}else b=gee(t,m);return g.createElement(uo,{zIndex:t.zIndex},g.createElement(Jy,Es({ref:u,className:Pn("recharts-label",s)},C,b,{textAnchor:ZZ(C.textAnchor)?C.textAnchor:b.textAnchor,breakAll:l}),h))}jl.displayName="Label";var bee=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(jl,Es({key:"label-implicit"},r)):oo(e)?g.createElement(jl,Es({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===jl?g.cloneElement(e,Or({key:"label-implicit"},r)):g.createElement(jl,Es({key:"label-implicit",content:e},r)):wN(e)?g.createElement(jl,Es({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(jl,Es({},e,{key:"label-implicit"},r)):null};function NL(e){var{label:t,labelRef:n}=e,r=SL();return bee(t,r,n)||null}var jL={},CL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(CL);var AL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(AL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CL,n=AL,r=fy;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(jL);var vee=jL.last;const xee=_o(vee);var wee=["valueAccessor"],kee=["dataKey","clockWise","id","textBreakAll","zIndex"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(null,arguments)}function r5(e,t){if(e==null)return{};var n,r,a=See(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function See(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nee=e=>Array.isArray(e.value)?xee(e.value):e.value,ML=g.createContext(void 0),jee=ML.Provider,EL=g.createContext(void 0),Cee=EL.Provider;function Aee(){return g.useContext(ML)}function Mee(){return g.useContext(EL)}function Qh(e){var{valueAccessor:t=Nee}=e,n=r5(e,wee),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=r5(n,kee),u=Aee(),d=Mee(),f=u||d;return!f||!f.length?null:g.createElement(uo,{zIndex:s??fa.label},g.createElement(Ja,{className:"recharts-label-list"},f.map((p,m)=>{var h,b=Zr(r)?t(p,m):lr(p&&p.payload,r),v=Zr(i)?{}:{id:"".concat(i,"-").concat(m)};return g.createElement(jl,y0({key:"label-".concat(m)},Ua(p),l,v,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Qh.displayName="LabelList";function DL(e){var{label:t}=e;return t?t===!0?g.createElement(Qh,{key:"labelList-implicit"}):g.isValidElement(t)||wN(t)?g.createElement(Qh,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Qh,y0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ww.apply(null,arguments)}var TL=e=>{var{cx:t,cy:n,r,className:a}=e,i=Pn("recharts-dot",a);return _t(t)&&_t(n)&&_t(r)?g.createElement("circle",Ww({},ao(e),Bk(e),{className:i,cx:t,cy:n,r})):null},PL=e=>e.graphicalItems.polarItems,Eee=be([mr,am],HS),Qy=be([PL,jr,Eee],KS),Dee=be([Qy],GS),Zy=be([Dee,IS],YS),Tee=be([Zy,jr,Qy],JS);be([Zy,jr,Qy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=lr(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:lr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var a5=()=>{},Pee=be([Zy,jr,Qy,Gy,mr],tN),Oee=be([jr,ZS,eN,a5,Pee,a5,Hn,mr],nN),OL=be([jr,Hn,Zy,Tee,rm,mr,Oee],rN),Iee=be([OL,jr,zd],oN);be([jr,OL,Iee,mr],lN);var _ee={radiusAxis:{},angleAxis:{}},IL=gi({name:"polarAxis",initialState:_ee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:fye,removeRadiusAxis:pye,addAngleAxis:mye,removeAngleAxis:hye}=IL.actions,Lee=IL.reducer;function i5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function o5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(n),!0).forEach(function(r){Fee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fee(e,t,n){return(t=Ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ree(e){var t=$ee(e,"string");return typeof t=="symbol"?t:t+""}function $ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bee=(e,t)=>t,kN=be([PL,Bee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),zee=[],SN=(e,t,n)=>(n==null?void 0:n.length)===0?zee:n,_L=be([IS,kN,SN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>o5(o5({},t.presentationProps),i.props))),a!=null)return a}}),Uee=be([_L,kN,SN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=lr(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:jy(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),Vee=be([_L,kN,SN,ha],(e,t,n,r)=>{if(!(t==null||e==null))return nne({offset:r,pieSettings:t,displayedData:e,cells:n})}),LL={exports:{}},Jn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var eb=60103,tb=60106,fm=60107,pm=60108,mm=60114,hm=60109,gm=60110,ym=60112,bm=60113,NN=60120,vm=60115,xm=60116,FL=60121,RL=60122,$L=60117,BL=60129,zL=60131;if(typeof Symbol=="function"&&Symbol.for){var xa=Symbol.for;eb=xa("react.element"),tb=xa("react.portal"),fm=xa("react.fragment"),pm=xa("react.strict_mode"),mm=xa("react.profiler"),hm=xa("react.provider"),gm=xa("react.context"),ym=xa("react.forward_ref"),bm=xa("react.suspense"),NN=xa("react.suspense_list"),vm=xa("react.memo"),xm=xa("react.lazy"),FL=xa("react.block"),RL=xa("react.server.block"),$L=xa("react.fundamental"),BL=xa("react.debug_trace_mode"),zL=xa("react.legacy_hidden")}function Fo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case eb:switch(e=e.type,e){case fm:case mm:case pm:case bm:case NN:return e;default:switch(e=e&&e.$$typeof,e){case gm:case ym:case xm:case vm:case hm:return e;default:return t}}case tb:return t}}}var Wee=hm,qee=eb,Hee=ym,Kee=fm,Gee=xm,Yee=vm,Xee=tb,Jee=mm,Qee=pm,Zee=bm;Jn.ContextConsumer=gm;Jn.ContextProvider=Wee;Jn.Element=qee;Jn.ForwardRef=Hee;Jn.Fragment=Kee;Jn.Lazy=Gee;Jn.Memo=Yee;Jn.Portal=Xee;Jn.Profiler=Jee;Jn.StrictMode=Qee;Jn.Suspense=Zee;Jn.isAsyncMode=function(){return!1};Jn.isConcurrentMode=function(){return!1};Jn.isContextConsumer=function(e){return Fo(e)===gm};Jn.isContextProvider=function(e){return Fo(e)===hm};Jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===eb};Jn.isForwardRef=function(e){return Fo(e)===ym};Jn.isFragment=function(e){return Fo(e)===fm};Jn.isLazy=function(e){return Fo(e)===xm};Jn.isMemo=function(e){return Fo(e)===vm};Jn.isPortal=function(e){return Fo(e)===tb};Jn.isProfiler=function(e){return Fo(e)===mm};Jn.isStrictMode=function(e){return Fo(e)===pm};Jn.isSuspense=function(e){return Fo(e)===bm};Jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fm||e===mm||e===BL||e===pm||e===bm||e===NN||e===zL||typeof e=="object"&&e!==null&&(e.$$typeof===xm||e.$$typeof===vm||e.$$typeof===hm||e.$$typeof===gm||e.$$typeof===ym||e.$$typeof===$L||e.$$typeof===FL||e[0]===RL)};Jn.typeOf=Fo;LL.exports=Jn;var ete=LL.exports,s5=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",l5=null,xv=null,UL=e=>{if(e===l5&&Array.isArray(xv))return xv;var t=[];return g.Children.forEach(e,n=>{Zr(n)||(ete.isFragment(n)?t=t.concat(UL(n.props.children)):t.push(n))}),xv=t,l5=e,t};function VL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>s5(a)):r=[s5(t)],UL(e).forEach(a=>{var i=tu(a,"type.displayName")||tu(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var WL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,qL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(qL);var tte=qL.isPlainObject;const nte=_o(tte);var c5,u5,d5,f5,p5;function m5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function h5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(n),!0).forEach(function(r){rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rte(e,t,n){return(t=ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ate(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(null,arguments)}function vf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g5=(e,t,n,r,a)=>{var i=n-r,o;return o=Ar(c5||(c5=vf(["M ",",",""])),e,t),o+=Ar(u5||(u5=vf(["L ",",",""])),e+n,t),o+=Ar(d5||(d5=vf(["L ",",",""])),e+n-i/2,t+a),o+=Ar(f5||(f5=vf(["L ",",",""])),e+n-i/2-r,t+a),o+=Ar(p5||(p5=vf(["L ",","," Z"])),e,t),o},ote={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ste=e=>{var t=Hr(e,ote),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,p=g.useRef(null),[m,h]=g.useState(-1),b=g.useRef(a),v=g.useRef(i),y=g.useRef(o),x=g.useRef(n),w=g.useRef(r),S=Ly(e,"trapezoid-");if(g.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var X=p.current.getTotalLength();X&&h(X)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var C=Pn("recharts-trapezoid",s);if(!f)return g.createElement("g",null,g.createElement("path",b0({},Ua(t),{className:C,d:g5(n,r,a,i,o)})));var j=b.current,M=v.current,T=y.current,$=x.current,D=w.current,I="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),q=X4(["strokeDasharray"],u,l);return g.createElement(_y,{animationId:S,key:S,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},X=>{var se=Ra(j,a,X),we=Ra(M,i,X),ne=Ra(T,o,X),H=Ra($,n,X),W=Ra(D,r,X);p.current&&(b.current=se,v.current=we,y.current=ne,x.current=H,w.current=W);var k=X>0?{transition:q,strokeDasharray:O}:{strokeDasharray:I};return g.createElement("path",b0({},Ua(t),{className:C,d:g5(H,W,se,we,ne),ref:p,style:h5(h5({},k),t.style)}))})},lte=["option","shapeType","activeClassName"];function cte(e,t){if(e==null)return{};var n,r,a=ute(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ute(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function y5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function v0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(n),!0).forEach(function(r){dte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dte(e,t,n){return(t=fte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fte(e){var t=pte(e,"string");return typeof t=="symbol"?t:t+""}function pte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mte(e,t){return v0(v0({},t),e)}function hte(e,t){return e==="symbols"}function b5(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(eI,n);case"trapezoid":return g.createElement(ste,n);case"sector":return g.createElement(aI,n);case"symbols":if(hte(t))return g.createElement($k,n);break;case"curve":return g.createElement(uS,n);default:return null}}function gte(e){return g.isValidElement(e)?e.props:e}function HL(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=cte(e,lte),i;if(g.isValidElement(t))i=g.cloneElement(t,v0(v0({},a),gte(t)));else if(typeof t=="function")i=t(a,a.index);else if(nte(t)&&typeof t!="boolean"){var o=mte(t,a);i=g.createElement(b5,{shapeType:n,elementProps:o})}else{var s=a;i=g.createElement(b5,{shapeType:n,elementProps:s})}return a.isActive?g.createElement(Ja,{className:r},i):i}var yte=(e,t,n)=>{var r=Xn();return(a,i)=>o=>{e==null||e(a,i,o),r(z_({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},bte=e=>{var t=Xn();return(n,r)=>a=>{e==null||e(n,r,a),t(SJ())}},vte=(e,t,n)=>{var r=Xn();return(a,i)=>o=>{e==null||e(a,i,o),r(NJ({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function KL(e){var{tooltipEntrySettings:t}=e,n=Xn(),r=ti(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(vJ(t)):a.current!==t&&n(xJ({prev:a.current,next:t})),a.current=t)},[t,n,r]),g.useLayoutEffect(()=>()=>{a.current&&(n(wJ(a.current)),a.current=null)},[n]),null}function xte(e){var{legendPayload:t}=e,n=Xn(),r=ti(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(q4(t)):a.current!==t&&n(H4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(K4(a.current)),a.current=null)},[n]),null}function wte(e){var{legendPayload:t}=e,n=Xn(),r=Mt(Hn),a=g.useRef(null);return g.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(q4(t)):a.current!==t&&n(H4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(K4(a.current)),a.current=null)},[n]),null}var wv,kte=()=>{var[e]=g.useState(()=>vp("uid-"));return e},Ste=(wv=IB.useId)!==null&&wv!==void 0?wv:kte;function Nte(e,t){var n=Ste();return t||(e?"".concat(e,"-").concat(n):n)}var jte=g.createContext(void 0),GL=e=>{var{id:t,type:n,children:r}=e,a=Nte("recharts-".concat(n),t);return g.createElement(jte.Provider,{value:a},r(a))},Cte={cartesianItems:[],polarItems:[]},YL=gi({name:"graphicalItems",initialState:Cte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ur()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=jo(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:ur()},removeCartesianGraphicalItem:{reducer(e,t){var n=jo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ur()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ur()},removePolarGraphicalItem:{reducer(e,t){var n=jo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ur()}}}),{addCartesianGraphicalItem:Ate,replaceCartesianGraphicalItem:Mte,removeCartesianGraphicalItem:Ete,addPolarGraphicalItem:Dte,removePolarGraphicalItem:Tte}=YL.actions,Pte=YL.reducer,Ote=e=>{var t=Xn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Ate(e)):n.current!==e&&t(Mte({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(Ete(n.current)),n.current=null)},[t]),null},Ite=g.memo(Ote);function _te(e){var t=Xn();return g.useLayoutEffect(()=>(t(Dte(e)),()=>{t(Tte(e))}),[t,e]),null}var Lte=["key"],Fte=["onMouseEnter","onClick","onMouseLeave"],Rte=["id"],$te=["id"];function v5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(n),!0).forEach(function(r){Bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bte(e,t,n){return(t=zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(null,arguments)}function nb(e,t){if(e==null)return{};var n,r,a=Vte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wte(e){var t=g.useMemo(()=>VL(e.children,Md),[e.children]),n=Mt(r=>Uee(r,e.id,t));return n==null?null:g.createElement(wte,{legendPayload:n})}var qte=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:jy(s,t),hide:l,type:u,color:o,unit:"",graphicalItemId:d}};return g.createElement(KL,{tooltipEntrySettings:f})}),Hte=(e,t)=>e>t?"start":e<t?"end":"middle",Kte=(e,t,n)=>to(typeof t=="function"?t(e):t,n,n*.8),Gte=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=tI(i,o),l=a+to(e.cx,i,i/2),u=r+to(e.cy,o,o/2),d=to(e.innerRadius,s,0),f=Kte(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}},Yte=(e,t)=>{var n=$a(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Xte(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Jte=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Pn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=nb(t,Lte);return g.createElement(uS,Gl({},a,{type:"linear",className:n}))},Qte=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var a=Pn("recharts-pie-label-text",Xte(e));return g.createElement(Jy,Gl({},t,{alignmentBaseline:"middle",className:a}),r)};function Zte(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=ao(n),l=bd(a),u=bd(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,b=Wr(p.cx,p.cy,p.outerRadius+d,h),v=Er(Er(Er(Er({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:Hte(b.x,p.cx)},b),y=Er(Er(Er(Er({},s),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[Wr(p.cx,p.cy,p.outerRadius,h),b],key:"line"});return g.createElement(uo,{zIndex:fa.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},g.createElement(Ja,null,i&&Jte(i,y),Qte(a,v,lr(p,o))))});return g.createElement(Ja,{className:"recharts-pie-labels"},f)}function ene(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?g.createElement(DL,{label:a}):g.createElement(Zte,{sectors:t,props:n,showLabels:r})}function tne(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=Mt(Ad),l=Mt(tL),u=Mt(cQ),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=nb(a,Fte),h=yte(d,a.dataKey,o),b=bte(p),v=vte(f,a.dataKey,o);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((y,x)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=u==null||u===o,S=String(x)===s&&(l==null||a.dataKey===l)&&w,C=s?r:null,j=n&&S?n:C,M=Er(Er({},y),{},{stroke:y.stroke,tabIndex:-1,[A4]:x,[M4]:o});return g.createElement(Ja,Gl({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},zk(m,y,x),{onMouseEnter:h(y,x),onMouseLeave:b(y,x),onClick:v(y,x)}),g.createElement(HL,Gl({option:i??j,index:x,shapeType:"sector",isActive:S},M)))}))}function nne(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=Yte(s,l),h=Math.abs(m),b=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,v=r.filter(j=>lr(j,u,0)!==0).length,y=(h>=360?v:v-1)*b,x=h-v*p-y,w=r.reduce((j,M)=>{var T=lr(M,u,0);return j+(_t(T)?T:0)},0),S;if(w>0){var C;S=r.map((j,M)=>{var T=lr(j,u,0),$=lr(j,d,M),D=Gte(n,i,j),I=(_t(T)?T:0)/w,O,q=Er(Er({},j),a&&a[M]&&a[M].props);M?O=C.endAngle+$a(m)*b*(T!==0?1:0):O=s;var X=O+$a(m)*((T!==0?p:0)+I*x),se=(O+X)/2,we=(D.innerRadius+D.outerRadius)/2,ne=[{name:$,value:T,payload:q,dataKey:u,type:f,graphicalItemId:n.id}],H=Wr(D.cx,D.cy,we,se);return C=Er(Er(Er(Er({},n.presentationProps),{},{percent:I,cornerRadius:typeof o=="string"?parseFloat(o):o,name:$,tooltipPayload:ne,midAngle:se,middleRadius:we,tooltipPosition:H},q),D),{},{value:T,dataKey:u,startAngle:O,endAngle:X,payload:q,paddingAngle:$a(m)*b}),C})}return S}function rne(e){var{showLabels:t,sectors:n,children:r}=e,a=g.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return g.createElement(Cee,{value:t?a:void 0},r)}function ane(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=Ly(t,"recharts-pie-"),h=n.current,[b,v]=g.useState(!1),y=g.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),x=g.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return g.createElement(rne,{showLabels:!b,sectors:a},g.createElement(_y,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:x,onAnimationEnd:y,key:m},w=>{var S=[],C=a&&a[0],j=C==null?void 0:C.startAngle;return a==null||a.forEach((M,T)=>{var $=h&&h[T],D=T>0?tu(M,"paddingAngle",0):0;if($){var I=Ra($.endAngle-$.startAngle,M.endAngle-M.startAngle,w),O=Er(Er({},M),{},{startAngle:j+D,endAngle:j+I+D});S.push(O),j=O.endAngle}else{var{endAngle:q,startAngle:X}=M,se=Ra(0,q-X,w),we=Er(Er({},M),{},{startAngle:j+D,endAngle:j+se+D});S.push(we),j=we.endAngle}}),n.current=S,g.createElement(Ja,null,g.createElement(tne,{sectors:S,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),g.createElement(ene,{showLabels:!b,sectors:a,props:t}),t.children)}var ine={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fa.area};function one(e){var{id:t}=e,n=nb(e,Rte),{hide:r,className:a,rootTabIndex:i}=e,o=g.useMemo(()=>VL(e.children,Md),[e.children]),s=Mt(d=>Vee(d,t,o)),l=g.useRef(null),u=Pn("recharts-pie",a);return r||s==null?(l.current=null,g.createElement(Ja,{tabIndex:i,className:u})):g.createElement(uo,{zIndex:e.zIndex},g.createElement(qte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Ja,{tabIndex:i,className:u},g.createElement(ane,{props:Er(Er({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function x0(e){var t=Hr(e,ine),{id:n}=t,r=nb(t,$te),a=ao(r);return g.createElement(GL,{id:n,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(_te,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),g.createElement(Wte,Gl({},r,{id:i})),g.createElement(one,Gl({},r,{id:i}))))}x0.displayName="Pie";var sne=["points"];function x5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(n),!0).forEach(function(r){lne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lne(e,t,n){return(t=cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(null,arguments)}function dne(e,t){if(e==null)return{};var n,r,a=fne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pne(e){var{option:t,dotProps:n,className:r}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var a=Pn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=dne(i,sne);return g.createElement(TL,w0({},s,{className:a}))}function mne(e,t){return e==null?!1:t?!0:e.length===1}function hne(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:u=fa.scatter}=e;if(!mne(t,n))return null;var d=WL(n),f=YV(n),p=t.map((h,b)=>{var v,y,x=kv(kv(kv({r:3},o),f),{},{index:b,cx:(v=h.x)!==null&&v!==void 0?v:void 0,cy:(y=h.y)!==null&&y!==void 0?y:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return g.createElement(pne,{key:"dot-".concat(b),option:n,dotProps:x,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(uo,{zIndex:u},g.createElement(Ja,w0({className:r},m),p))}function w5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function k5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w5(Object(n),!0).forEach(function(r){gne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gne(e,t,n){return(t=yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vne={xAxis:{},yAxis:{},zAxis:{}},XL=gi({name:"cartesianAxis",initialState:vne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ur()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ur()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ur()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ur()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ur()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ur()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ur()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ur()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ur()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=k5(k5({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:xne,replaceXAxis:wne,removeXAxis:kne,addYAxis:Sne,replaceYAxis:Nne,removeYAxis:jne,addZAxis:gye,replaceZAxis:yye,removeZAxis:bye,updateYAxisWidth:Cne}=XL.actions,Ane=XL.reducer,Mne=be([ha],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Ene=be([Mne,nl,rl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),jN=()=>Mt(Ene),Dne=()=>Mt(mQ);function S5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(n),!0).forEach(function(r){Tne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tne(e,t,n){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pne(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ine=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Sv(Sv(Sv({},s),bd(a)),Bk(a)),u;return g.isValidElement(a)?u=g.cloneElement(a,l):typeof a=="function"?u=a(l):u=g.createElement(TL,l),g.createElement(Ja,{className:"recharts-active-dot",clipPath:o},u)};function _ne(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=fa.activeDot}=e,s=Mt(Ad),l=Dne();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return Zr(u)?null:g.createElement(uo,{zIndex:o},g.createElement(Ine,{point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var JL=e=>{var{chartData:t}=e,n=Xn(),r=ti();return g.useEffect(()=>r?()=>{}:(n(BM(t)),()=>{n(BM(void 0))}),[t,n,r]),null},N5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},QL=gi({name:"brush",initialState:N5,reducers:{setBrushSettings(e,t){return t.payload==null?N5:t.payload}}}),{setBrushSettings:vye}=QL.actions,Lne=QL.reducer;function j5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(n),!0).forEach(function(r){ZL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZL(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=Rne(e,"string");return typeof t=="symbol"?t:t+""}function Rne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ne=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},Bne=e=>{var{x1:t,y1:n,x2:r,y2:a}=e;return $ne({x:t,y:n},{x:r,y:a})};class rb{static create(t){return new rb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}ZL(rb,"EPS",1e-4);var zne=e=>{var t=Object.keys(e).reduce((n,r)=>Sh(Sh({},n),{},{[r]:rb.create(e[r])}),{});return Sh(Sh({},t),{},{apply(n){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(i=>{var[o,s]=i;return[o,t[o].apply(s,{bandAware:r,position:a})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function Une(e){return(e%180+180)%180}var Vne=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Une(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Wne={dots:[],areas:[],lines:[]},eF=gi({name:"referenceElements",initialState:Wne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=jo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=jo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=jo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:xye,removeDot:wye,addArea:kye,removeArea:Sye,addLine:qne,removeLine:Hne}=eF.actions,Kne=eF.reducer,tF=g.createContext(void 0),Gne=e=>{var{children:t}=e,[n]=g.useState("".concat(vp("recharts"),"-clip")),r=jN();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return g.createElement(tF.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:a,y:i,height:s,width:o}))),t)},Yne=()=>g.useContext(tF);function C5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function A5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(n),!0).forEach(function(r){Xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xne(e,t,n){return(t=Jne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jne(e){var t=Qne(e,"string");return typeof t=="symbol"?t:t+""}function Qne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}var Zne=(e,t)=>{var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!fr(t.x1)||!fr(t.y1)||!fr(t.x2)||!fr(t.y2))return null;n=g.createElement("line",k0({},t,{className:"recharts-reference-line-line"}))}return n},ere=(e,t,n,r,a,i)=>{var{x:o,width:s}=i,l=a.y.apply(e,{position:n});if(io(l)||t==="discard"&&!a.y.isInRange(l))return null;var u=[{x:o+s,y:l},{x:o,y:l}];return r==="left"?u.reverse():u},tre=(e,t,n,r,a,i)=>{var{y:o,height:s}=i,l=a.x.apply(e,{position:n});if(io(l)||t==="discard"&&!a.x.isInRange(l))return null;var u=[{x:l,y:o+s},{x:l,y:o}];return r==="top"?u.reverse():u},nre=(e,t,n,r)=>{var a=e.map(i=>r.apply(i,{position:n}));return t==="discard"&&a.some(i=>!r.isInRange(i))?null:a},rre=(e,t,n,r,a,i)=>{var{x:o,y:s,segment:l,ifOverflow:u}=i,d=oo(o),f=oo(s);return f?ere(s,u,n,a,e,t):d?tre(o,u,n,r,e,t):l!=null&&l.length===2?nre(l,u,n,e):null};function are(e){var t=Xn();return g.useEffect(()=>(t(qne(e)),()=>{t(Hne(e))})),null}function ire(e){var{xAxisId:t,yAxisId:n,shape:r,className:a,ifOverflow:i}=e,o=ti(),s=Yne(),l=Mt(j=>ls(j,t)),u=Mt(j=>cs(j,n)),d=Mt(j=>Cd(j,"xAxis",t,o)),f=Mt(j=>Cd(j,"yAxis",n,o)),p=Xp();if(!s||!p||l==null||u==null||d==null||f==null)return null;var m=zne({x:d,y:f}),h=rre(m,p,e.position,l.orientation,u.orientation,e);if(!h)return null;var[{x:b,y:v},{x:y,y:x}]=h,w=i==="hidden"?"url(#".concat(s,")"):void 0,S=A5(A5({clipPath:w},Ua(e)),{},{x1:b,y1:v,x2:y,y2:x}),C=Bne({x1:b,y1:v,x2:y,y2:x});return g.createElement(uo,{zIndex:e.zIndex},g.createElement(Ja,{className:Pn("recharts-reference-line",a)},Zne(r,S),g.createElement(kL,k0({},C,{lowerWidth:C.width,upperWidth:C.width}),g.createElement(NL,{label:e.label}),e.children)))}var ore={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:fa.line};function qw(e){var t=Hr(e,ore);return g.createElement(g.Fragment,null,g.createElement(are,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(ire,t))}qw.displayName="ReferenceLine";function nF(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function sre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Vne(r,n)}function lre(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Op(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function cre(e,t){return nF(e,t+1)}function ure(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,u=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:nF(r,u)};var h=l,b,v=()=>(b===void 0&&(b=n(m,h)),b),y=m.coordinate,x=l===0||Op(e,y,v,d,s);x||(l=0,d=o,u+=1),x&&(d=y+e*(v()/2+a),l+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function dre(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,p=!0,m=function(){var y=r[h],x=h,w,S=()=>(w===void 0&&(w=n(y,x)),w),C=y.coordinate,j=h===d||Op(e,C,S,f,l);if(!j)return p=!1,1;j&&(f=C+e*(S()/2+a))},h=d;h<o&&!m();h+=u);if(p){for(var b=[],v=d;v<o;v+=u)b.push(r[v]);return b}}return[]}function M5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(n),!0).forEach(function(r){fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fre(e,t,n){return(t=pre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pre(e){var t=mre(e,"string");return typeof t=="symbol"?t:t+""}function mre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hre(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,u=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var b=e*(p.coordinate+e*h()/2-l);i[f]=p=_a(_a({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else i[f]=p=_a(_a({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var v=Op(e,p.tickCoord,h,s,l);v&&(l=p.tickCoord-e*(h()/2+a),i[f]=_a(_a({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function gre(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:u}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=_a(_a({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=Op(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=_a(_a({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,b=function(y){var x=o[y],w,S=()=>(w===void 0&&(w=n(x,y)),w);if(y===0){var C=e*(x.coordinate-e*S()/2-l);o[y]=x=_a(_a({},x),{},{tickCoord:C<0?x.coordinate-C*e:x.coordinate})}else o[y]=x=_a(_a({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var j=Op(e,x.tickCoord,S,l,u);j&&(l=x.tickCoord+e*(S()/2+a),o[y]=_a(_a({},x),{},{isShow:!0}))}},v=0;v<h;v++)b(v);return o}function CN(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(_t(l)||Iy.isSsr){var p;return(p=cre(a,_t(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",b=d&&h==="width"?Vf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=(w,S)=>{var C=typeof u=="function"?u(w.value,S):w.value;return h==="width"?sre(Vf(C,{fontSize:t,letterSpacing:n}),b,f):Vf(C,{fontSize:t,letterSpacing:n})[h]},y=a.length>=2?$a(a[1].coordinate-a[0].coordinate):1,x=lre(i,y,h);return l==="equidistantPreserveStart"?ure(y,x,v,a,o):l==="equidistantPreserveEnd"?dre(y,x,v,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=gre(y,x,v,a,o,l==="preserveStartEnd"):m=hre(y,x,v,a,o),m.filter(w=>w.isShow))}var yre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,u=o+l+s+(n?r:0);return Math.round(u)}return 0},bre=["axisLine","width","height","className","hide","ticks","axisType"];function vre(e,t){if(e==null)return{};var n,r,a=xre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(null,arguments)}function E5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(n),!0).forEach(function(r){wre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wre(e,t,n){return(t=kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kre(e){var t=Sre(e,"string");return typeof t=="symbol"?t:t+""}function Sre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fa.axis};function Nre(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=Ur(Ur(Ur({},l),ao(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Ur(Ur({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Ur(Ur({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return g.createElement("line",ou({},u,{className:Pn("recharts-cartesian-axis-line",tu(s,"className"))}))}function jre(e,t,n,r,a,i,o,s,l){var u,d,f,p,m,h,b=s?-1:1,v=e.tickSize||o,y=_t(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,p=n+ +!s*a,f=p-b*v,h=f-b*l,m=y;break;case"left":f=p=e.coordinate,d=t+ +!s*r,u=d-b*v,m=u-b*l,h=y;break;case"right":f=p=e.coordinate,d=t+ +s*r,u=d+b*v,m=u+b*l,h=y;break;default:u=d=e.coordinate,p=n+ +s*a,f=p+b*v,h=f+b*l,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function Cre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Are(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Mre(e){var{option:t,tickProps:n,value:r}=e,a,i=Pn(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,Ur(Ur({},n),{},{className:i}));else if(typeof t=="function")a=t(Ur(Ur({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Pn(o,t==null?void 0:t.className)),a=g.createElement(Jy,ou({},n,{className:o}),r)}return a}var Ere=g.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:d,mirror:f,x:p,y:m,width:h,height:b,tickSize:v,tickMargin:y,fontSize:x,letterSpacing:w,getTicksConfig:S,events:C,axisType:j}=e,M=CN(Ur(Ur({},S),{},{ticks:n}),x,w),T=Cre(d,f),$=Are(d,f),D=ao(S),I=bd(r),O={};typeof a=="object"&&(O=a);var q=Ur(Ur({},D),{},{fill:"none"},O),X=M.map(ne=>Ur({entry:ne},jre(ne,p,m,h,b,d,v,f,y))),se=X.map(ne=>{var{entry:H,line:W}=ne;return g.createElement(Ja,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},a&&g.createElement("line",ou({},q,W,{className:Pn("recharts-cartesian-axis-tick-line",tu(a,"className"))})))}),we=X.map((ne,H)=>{var{entry:W,tick:k}=ne,V=Ur(Ur(Ur(Ur({textAnchor:T,verticalAnchor:$},D),{},{stroke:"none",fill:i},I),k),{},{index:H,payload:W,visibleTicksCount:M.length,tickFormatter:o,padding:l},u);return g.createElement(Ja,ou({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},zk(C,W,H)),r&&g.createElement(Mre,{option:r,tickProps:V,value:"".concat(typeof o=="function"?o(W.value,H):W.value).concat(s||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},we.length>0&&g.createElement(uo,{zIndex:fa.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},we)),se.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},se))}),Dre=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,u=vre(e,bre),[d,f]=g.useState(""),[p,m]=g.useState(""),h=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return yre({ticks:h.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=g.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=y;var x=y[0];if(x){var w=window.getComputedStyle(x),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==p)&&(f(S),m(C))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:g.createElement(uo,{zIndex:e.zIndex},g.createElement(Ja,{className:Pn("recharts-cartesian-axis",i)},g.createElement(Nre,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ao(e)}),g.createElement(Ere,{ref:b,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(kL,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(NL,{label:e.label,labelRef:e.labelRef}),e.children)))}),AN=g.forwardRef((e,t)=>{var n=Hr(e,Rs);return g.createElement(Dre,ou({},n,{ref:t}))});AN.displayName="CartesianAxis";var Tre=["x1","y1","x2","y2","key"],Pre=["offset"],Ore=["xAxisId","yAxisId"],Ire=["xAxisId","yAxisId"];function D5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(n),!0).forEach(function(r){_re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _re(e,t,n){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lre(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rc.apply(null,arguments)}function S0(e,t){if(e==null)return{};var n,r,a=Rre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $re=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return g.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function rF(e){var{option:t,lineItemProps:n}=e,r;if(g.isValidElement(t))r=g.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:u}=n,d=S0(n,Tre),f=(a=ao(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=S0(f,Pre);r=g.createElement("line",Rc({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:u}))}return r}function Bre(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=S0(e,Ore),l=a.map((u,d)=>{var f=Fa(Fa({},s),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(rF,{key:"line-".concat(d),option:r,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function zre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=S0(e,Ire),l=a.map((u,d)=>{var f=Fa(Fa({},s),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return g.createElement(rF,{option:r,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ure(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var b=p%t.length;return g.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Vre(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var b=p%n.length;return g.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Wre=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return N4(CN(Fa(Fa(Fa({},Rs),n),{},{ticks:j4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},qre=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return N4(CN(Fa(Fa(Fa({},Rs),n),{},{ticks:j4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},Hre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fa.grid};function Js(e){var t=oS(),n=sS(),r=F4(),a=Fa(Fa({},Hr(e,Hre)),{},{x:_t(e.x)?e.x:r.left,y:_t(e.y)?e.y:r.top,width:_t(e.width)?e.width:r.width,height:_t(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=ti(),b=Mt($=>EM($,"xAxis",i,h)),v=Mt($=>EM($,"yAxis",o,h));if(!os(u)||!os(d)||!_t(s)||!_t(l))return null;var y=a.verticalCoordinatesGenerator||Wre,x=a.horizontalCoordinatesGenerator||qre,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof x=="function"){var C=p&&p.length,j=x({yAxis:v?Fa(Fa({},v),{},{ticks:C?p:v.ticks}):void 0,width:t??u,height:n??d,offset:r},C?!0:f);Gg(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(w=j)}if((!S||!S.length)&&typeof y=="function"){var M=m&&m.length,T=y({xAxis:b?Fa(Fa({},b),{},{ticks:M?m:b.ticks}):void 0,width:t??u,height:n??d,offset:r},M?!0:f);Gg(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}return g.createElement(uo,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement($re,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(Ure,Rc({},a,{horizontalPoints:w})),g.createElement(Vre,Rc({},a,{verticalPoints:S})),g.createElement(Bre,Rc({},a,{offset:r,horizontalPoints:w,xAxis:b,yAxis:v})),g.createElement(zre,Rc({},a,{offset:r,verticalPoints:S,xAxis:b,yAxis:v}))))}Js.displayName="CartesianGrid";var Kre={},aF=gi({name:"errorBars",initialState:Kre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Nye,replaceErrorBar:jye,removeErrorBar:Cye}=aF.actions,Gre=aF.reducer,Yre=["children"];function Xre(e,t){if(e==null)return{};var n,r,a=Jre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Zre=g.createContext(Qre);function eae(e){var{children:t}=e,n=Xre(e,Yre);return g.createElement(Zre.Provider,{value:n},t)}function iF(e,t){var n,r,a=Mt(u=>ls(u,e)),i=Mt(u=>cs(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:sa.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:la.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function tae(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=jN(),{needClipX:i,needClipY:o,needClip:s}=iF(t,n);if(!s||!a)return null;var{x:l,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:i?l:l-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var oF=(e,t,n,r)=>__(e,"xAxis",t,r),sF=(e,t,n,r)=>I_(e,"xAxis",t,r),lF=(e,t,n,r)=>__(e,"yAxis",n,r),cF=(e,t,n,r)=>I_(e,"yAxis",n,r),nae=be([Hn,oF,lF,sF,cF],(e,t,n,r,a)=>tc(e,"xAxis")?mw(t,r,!1):mw(n,a,!1)),rae=(e,t,n,r,a)=>a;function aae(e){return e.type==="line"}var iae=be([m_,rae],(e,t)=>e.filter(aae).find(n=>n.id===t)),oae=be([Hn,oF,lF,sF,cF,iae,nae,_S],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(u,d+1),m!=null)return Vae({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function sae(e){var t=bd(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var wm=g;wm.useSyncExternalStore;wm.useRef;wm.useEffect;wm.useMemo;wm.useDebugValue;function lae(e){e()}function cae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var T5={notify(){},get:()=>[]};function uae(e,t){let n,r=T5,a=0,i=!1;function o(b){d();const v=r.subscribe(b);let y=!1;return()=>{y||(y=!0,v(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function u(){return i}function d(){a++,n||(n=e.subscribe(l),r=cae())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=T5)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var dae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fae=dae(),pae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mae=pae(),hae=()=>fae||mae?g.useLayoutEffect:g.useEffect,gae=hae();function P5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yae(e,t){if(P5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!P5(e[n[a]],t[n[a]]))return!1;return!0}var O5=Symbol.for("react-redux-context"),I5=typeof globalThis<"u"?globalThis:{};function bae(){if(!g.createContext)return{};const e=I5[O5]??(I5[O5]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var vae=bae();function xae(e){const{children:t,context:n,serverState:r,store:a}=e,i=g.useMemo(()=>{const l=uae(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=g.useMemo(()=>a.getState(),[a]);gae(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||vae;return g.createElement(s.Provider,{value:i},t)}var wae=xae,kae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Sae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function MN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(kae.has(r)){if(e[r]==null&&t[r]==null)continue;if(!yae(e[r],t[r]))return!1}else if(!Sae(e[r],t[r]))return!1;return!0}var Nae=["id"],jae=["type","layout","connectNulls","needClip","shape"],Cae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ip.apply(null,arguments)}function _5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_5(Object(n),!0).forEach(function(r){Aae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aae(e,t,n){return(t=Mae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mae(e){var t=Eae(e,"string");return typeof t=="symbol"?t:t+""}function Eae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EN(e,t){if(e==null)return{};var n,r,a=Dae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Dae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tae=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:jy(n,t),payload:e}]},Pae=g.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:jy(o,t),hide:s,type:u,color:r,unit:l,graphicalItemId:d}};return g.createElement(KL,{tooltipEntrySettings:f})}),uF=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Oae(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Iae=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return uF(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>i){s=[...n.slice(0,l),i-u];break}var d=s.length%2===0?[0,o]:[o];return[...Oae(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function _ae(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=EN(r,Nae),u=ao(l);return g.createElement(hne,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:o,clipPathId:t})}function Lae(e){var{showLabels:t,children:n,points:r}=e,a=g.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Zo(Zo({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(jee,{value:t?a:void 0},n)}function L5(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:u,shape:d}=i,f=EN(i,jae),p=Zo(Zo({},Ua(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(HL,Ip({shapeType:"curve",option:d},p,{pathRef:n})),g.createElement(_ae,{points:r,clipPathId:t,props:i}))}function Fae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Rae(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:b,onAnimationStart:v}=n,y=a.current,x=Ly(o,"recharts-line-"),w=g.useRef(x),[S,C]=g.useState(!1),j=!S,M=g.useCallback(()=>{typeof b=="function"&&b(),C(!1)},[b]),T=g.useCallback(()=>{typeof v=="function"&&v(),C(!0)},[v]),$=Fae(r.current),D=g.useRef(0);w.current!==x&&(D.current=i.current,w.current=x);var I=D.current;return g.createElement(Lae,{points:o,showLabels:j},n.children,g.createElement(_y,{animationId:x,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:M,onAnimationStart:T,key:x},O=>{var q=Ra(I,$+I,O),X=Math.min(q,$),se;if(l)if(s){var we="".concat(s).split(/[,\s]+/gim).map(W=>parseFloat(W));se=Iae(X,$,we)}else se=uF($,X);else se=s==null?void 0:String(s);if(O>0&&$>0&&(a.current=o,i.current=Math.max(i.current,X)),y){var ne=y.length/o.length,H=O===1?o:o.map((W,k)=>{var V=Math.floor(k*ne);if(y[V]){var P=y[V];return Zo(Zo({},W),{},{x:Ra(P.x,W.x,O),y:Ra(P.y,W.y,O)})}return p?Zo(Zo({},W),{},{x:Ra(m*2,W.x,O),y:Ra(h/2,W.y,O)}):Zo(Zo({},W),{},{x:W.x,y:W.y})});return a.current=H,g.createElement(L5,{props:n,points:H,clipPathId:t,pathRef:r,strokeDasharray:se})}return g.createElement(L5,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:se})}),g.createElement(DL,{label:n.label}))}function $ae(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),a=g.useRef(0),i=g.useRef(null);return g.createElement(Rae,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Bae=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:lr(e.payload,t)}};class zae extends g.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:u,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=Pn("recharts-line",a),b=f,{r:v,strokeWidth:y}=sae(n),x=WL(n),w=v*2+y,S=p?"url(#clipPath-".concat(x?"":"dots-").concat(b,")"):void 0;return g.createElement(uo,{zIndex:m},g.createElement(Ja,{className:h},p&&g.createElement("defs",null,g.createElement(tae,{clipPathId:b,xAxisId:i,yAxisId:o}),!x&&g.createElement("clipPath",{id:"clipPath-dots-".concat(b)},g.createElement("rect",{x:l-w/2,y:s-w/2,width:u+w,height:d+w}))),g.createElement(eae,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Bae,errorBarOffset:0},g.createElement($ae,{props:this.props,clipPathId:b}))),g.createElement(_ne,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var dF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fa.line,type:"linear"};function Uae(e){var t=Hr(e,dF),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:b}=t,v=EN(t,Cae),{needClip:y}=iF(m,h),x=jN(),w=Jp(),S=ti(),C=Mt(D=>oae(D,m,h,S,b));if(w!=="horizontal"&&w!=="vertical"||C==null||x==null)return null;var{height:j,width:M,x:T,y:$}=x;return g.createElement(zae,Ip({},v,{id:b,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:m,yAxisId:h,points:C,layout:w,height:j,width:M,left:T,top:$,needClip:y}))}function Vae(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((u,d)=>{var f=lr(u,o);if(t==="horizontal"){var p=zC({axis:n,ticks:a,bandSize:s,entry:u,index:d}),m=Zr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:u}}var h=Zr(f)?null:n.scale(f),b=zC({axis:r,ticks:i,bandSize:s,entry:u,index:d});return h==null||b==null?null:{x:h,y:b,value:f,payload:u}}).filter(Boolean)}function Wae(e){var t=Hr(e,dF),n=ti();return g.createElement(GL,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(xte,{legendPayload:Tae(t)}),g.createElement(Pae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),g.createElement(Ite,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(Uae,Ip({},t,{id:r}))))}var li=g.memo(Wae,MN);li.displayName="Line";var qae=["domain","range"],Hae=["domain","range"];function F5(e,t){if(e==null)return{};var n,r,a=Kae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Kae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function R5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function fF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=F5(e,qae),{domain:i,range:o}=t,s=F5(t,Hae);return!R5(n,i)||!R5(r,o)?!1:MN(a,s)}var Gae=["dangerouslySetInnerHTML","ticks","scale"],Yae=["id","scale"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw.apply(null,arguments)}function $5(e,t){if(e==null)return{};var n,r,a=Xae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jae(e){var t=Xn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(xne(e)):n.current!==e&&t(wne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(kne(n.current)),n.current=null)},[t]),null}var Qae=e=>{var{xAxisId:t,className:n}=e,r=Mt(E4),a=ti(),i="xAxis",o=Mt(y=>O_(y,i,t,a)),s=Mt(y=>nJ(y,t)),l=Mt(y=>lJ(y,t)),u=Mt(y=>d_(y,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=$5(e,Gae),{id:h,scale:b}=u,v=$5(u,Yae);return g.createElement(AN,Hw({},m,v,{x:l.x,y:l.y,width:s.width,height:s.height,className:Pn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Zae={allowDataOverflow:sa.allowDataOverflow,allowDecimals:sa.allowDecimals,allowDuplicatedCategory:sa.allowDuplicatedCategory,angle:sa.angle,axisLine:Rs.axisLine,height:sa.height,hide:!1,includeHidden:sa.includeHidden,interval:sa.interval,minTickGap:sa.minTickGap,mirror:sa.mirror,orientation:sa.orientation,padding:sa.padding,reversed:sa.reversed,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:sa.type,xAxisId:0},eie=e=>{var t=Hr(e,Zae);return g.createElement(g.Fragment,null,g.createElement(Jae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(Qae,t))},Qs=g.memo(eie,fF);Qs.displayName="XAxis";var tie=["dangerouslySetInnerHTML","ticks","scale"],nie=["id","scale"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(null,arguments)}function B5(e,t){if(e==null)return{};var n,r,a=rie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aie(e){var t=Xn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Sne(e)):n.current!==e&&t(Nne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(jne(n.current)),n.current=null)},[t]),null}var iie=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=g.useRef(null),o=g.useRef(null),s=Mt(E4),l=ti(),u=Xn(),d="yAxis",f=Mt(j=>dJ(j,t)),p=Mt(j=>uJ(j,t)),m=Mt(j=>O_(j,d,t,l)),h=Mt(j=>f_(j,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||wN(a)||g.isValidElement(a)||h==null)){var j=i.current;if(j){var M=j.getCalculatedWidth();Math.round(f.width)!==Math.round(M)&&u(Cne({id:t,width:M}))}}},[m,f,u,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:b,ticks:v,scale:y}=e,x=B5(e,tie),{id:w,scale:S}=h,C=B5(h,nie);return g.createElement(AN,Kw({},x,C,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Pn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},oie={allowDataOverflow:la.allowDataOverflow,allowDecimals:la.allowDecimals,allowDuplicatedCategory:la.allowDuplicatedCategory,angle:la.angle,axisLine:Rs.axisLine,hide:!1,includeHidden:la.includeHidden,interval:la.interval,minTickGap:la.minTickGap,mirror:la.mirror,orientation:la.orientation,padding:la.padding,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:la.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:la.type,width:la.width,yAxisId:0},sie=e=>{var t=Hr(e,oie);return g.createElement(g.Fragment,null,g.createElement(aie,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(iie,t))},Zs=g.memo(sie,fF);Zs.displayName="YAxis";var lie=(e,t)=>t,DN=be([lie,Hn,l_,ta,J_,il,AQ,ha],IQ),TN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},pF=so("mouseClick"),mF=Gp();mF.startListening({actionCreator:pF,effect:(e,t)=>{var n=e.payload,r=DN(t.getState(),TN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(jJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Gw=so("mouseMove"),hF=Gp(),Nh=null;hF.startListening({actionCreator:Gw,effect:(e,t)=>{var n=e.payload;Nh!==null&&cancelAnimationFrame(Nh);var r=TN(n);Nh=requestAnimationFrame(()=>{var a=t.getState(),i=dN(a,a.tooltip.settings.shared);if(i==="axis"){var o=DN(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(V_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(U_())}Nh=null})}});function cie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var z5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},gF=gi({name:"rootProps",initialState:z5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:z5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),uie=gF.reducer,{updateOptions:die}=gF.actions,yF=gi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:fie}=yF.actions,pie=yF.reducer,bF=so("keyDown"),vF=so("focus"),PN=Gp();PN.startListening({actionCreator:bF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=fN(a,Wd(n),sm(n),um(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=il(n);if(i==="Enter"){var u=g0(n,"axis","hover",String(a.index));t.dispatch($w({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=hJ(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=g0(n,"axis","hover",String(m));t.dispatch($w({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});PN.startListening({actionCreator:vF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=g0(n,"axis","hover",String(i));t.dispatch($w({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Hi=so("externalEvent"),xF=Gp(),Nv=new Map;xF.startListening({actionCreator:Hi,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=Nv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:dQ(s),activeDataKey:tL(s),activeIndex:Ad(s),activeLabel:eL(s),activeTooltipIndex:Ad(s),isTooltipActive:fQ(s)};n(l,r)}finally{Nv.delete(a)}});Nv.set(a,o)}}});var mie=be([Ud],e=>e.tooltipItemPayloads),hie=be([mie,cm,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),wF=so("touchMove"),kF=Gp();kF.startListening({actionCreator:wF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=dN(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=DN(r,TN({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(V_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(A4),f=(s=u.getAttribute(M4))!==null&&s!==void 0?s:void 0,p=Vd(r).find(b=>b.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=hie(r,d,f);t.dispatch(z_({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var gie=YO({brush:Lne,cartesianAxis:Ane,chartData:uZ,errorBars:Gre,graphicalItems:Pte,layout:HW,legend:Kq,options:iZ,polarAxis:Lee,polarOptions:pie,referenceElements:Kne,rootProps:uie,tooltip:CJ,zIndex:GQ}),yie=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return yW({reducer:gie,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([mF.middleware,hF.middleware,PN.middleware,xF.middleware,kF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(u4({type:"raf"}))},devTools:{serialize:{replacer:cie},name:"recharts-".concat(t)}})};function SF(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ti(),i=g.useRef(null);if(a)return n;i.current==null&&(i.current=yie(t,r));var o=Xk;return g.createElement(wae,{context:o,store:i.current},n)}function bie(e){var{layout:t,margin:n}=e,r=Xn(),a=ti();return g.useEffect(()=>{a||(r(VW(t)),r(UW(n)))},[r,a,t,n]),null}var NF=g.memo(bie,MN);function jF(e){var t=Xn();return g.useEffect(()=>{t(die(e))},[t,e]),null}function U5(e){var{zIndex:t,isPanorama:n}=e,r=g.useRef(null),a=Xn();return g.useLayoutEffect(()=>(r.current&&a(HQ({zIndex:t,element:r.current,isPanorama:n})),()=>{a(KQ({zIndex:t,isPanorama:n}))}),[a,t,n]),g.createElement("g",{tabIndex:-1,ref:r})}function V5(e){var{children:t,isPanorama:n}=e,r=Mt(LQ);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return g.createElement(g.Fragment,null,a.map(o=>g.createElement(U5,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>g.createElement(U5,{key:o,zIndex:o,isPanorama:n})))}var vie=["children"];function xie(e,t){if(e==null)return{};var n,r,a=wie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}var kie={width:"100%",height:"100%",display:"block"},Sie=g.forwardRef((e,t)=>{var n=oS(),r=sS(),a=Y4();if(!os(n)||!os(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),g.createElement(Ik,N0({},o,{title:s,desc:l,role:d,tabIndex:u,width:n,height:r,style:kie,ref:t}),i)}),Nie=e=>{var{children:t}=e,n=Mt(Ey);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return g.createElement(Ik,{width:r,height:a,x:o,y:i},t)},W5=g.forwardRef((e,t)=>{var{children:n}=e,r=xie(e,vie),a=ti();return a?g.createElement(Nie,null,g.createElement(V5,{isPanorama:!0},n)):g.createElement(Sie,N0({ref:t},r),g.createElement(V5,{isPanorama:!1},n))});function jie(){var e=Xn(),[t,n]=g.useState(null),r=Mt(sq);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;fr(i)&&i!==r&&e(qW(i))}},[t,e,r]),n}function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(r){Aie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aie(e,t,n){return(t=Mie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mie(e){var t=Eie(e,"string");return typeof t=="symbol"?t:t+""}function Eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(null,arguments)}var Die=()=>(vZ(),null);function j0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Tie=g.forwardRef((e,t)=>{var n,r,a=g.useRef(null),[i,o]=g.useState({containerWidth:j0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:j0((r=e.style)===null||r===void 0?void 0:r.height)}),s=g.useCallback((u,d)=>{o(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var p=h=>{var{width:b,height:v}=h[0].contentRect;s(b,v)},m=new ResizeObserver(p);m.observe(u),a.current=m}},[t,s]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),g.createElement(g.Fragment,null,g.createElement(Dy,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",su({ref:l},e)))}),Pie=g.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=g.useState({containerWidth:j0(n),containerHeight:j0(r)}),o=g.useCallback((l,u)=>{i(d=>{var f=Math.round(l),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();o(u,d)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(Dy,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",su({ref:s},e)))}),Oie=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return g.createElement(g.Fragment,null,g.createElement(Dy,{width:n,height:r}),g.createElement("div",su({ref:t},e)))}),Iie=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return qs(n)||qs(r)?g.createElement(Pie,su({},e,{ref:t})):g.createElement(Oie,su({},e,{ref:t}))});function _ie(e){return e===!0?Tie:Iie}var Lie=g.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:b,style:v,width:y,responsive:x,dispatchTouchEvents:w=!0}=e,S=g.useRef(null),C=Xn(),[j,M]=g.useState(null),[T,$]=g.useState(null),D=jie(),I=iS(),O=(I==null?void 0:I.width)>0?I.width:y,q=(I==null?void 0:I.height)>0?I.height:a,X=g.useCallback(L=>{D(L),typeof t=="function"&&t(L),M(L),$(L),L!=null&&(S.current=L)},[D,t,M,$]),se=g.useCallback(L=>{C(pF(L)),C(Hi({handler:i,reactEvent:L}))},[C,i]),we=g.useCallback(L=>{C(Gw(L)),C(Hi({handler:u,reactEvent:L}))},[C,u]),ne=g.useCallback(L=>{C(U_()),C(Hi({handler:d,reactEvent:L}))},[C,d]),H=g.useCallback(L=>{C(Gw(L)),C(Hi({handler:f,reactEvent:L}))},[C,f]),W=g.useCallback(()=>{C(vF())},[C]),k=g.useCallback(L=>{C(bF(L.key))},[C]),V=g.useCallback(L=>{C(Hi({handler:o,reactEvent:L}))},[C,o]),P=g.useCallback(L=>{C(Hi({handler:s,reactEvent:L}))},[C,s]),N=g.useCallback(L=>{C(Hi({handler:l,reactEvent:L}))},[C,l]),F=g.useCallback(L=>{C(Hi({handler:p,reactEvent:L}))},[C,p]),U=g.useCallback(L=>{C(Hi({handler:b,reactEvent:L}))},[C,b]),Q=g.useCallback(L=>{w&&C(wF(L)),C(Hi({handler:h,reactEvent:L}))},[C,w,h]),le=g.useCallback(L=>{C(Hi({handler:m,reactEvent:L}))},[C,m]),Y=_ie(x);return g.createElement(lL.Provider,{value:j},g.createElement(G3.Provider,{value:T},g.createElement(Y,{width:O??(v==null?void 0:v.width),height:q??(v==null?void 0:v.height),className:Pn("recharts-wrapper",r),style:Cie({position:"relative",cursor:"default",width:O,height:q},v),onClick:se,onContextMenu:V,onDoubleClick:P,onFocus:W,onKeyDown:k,onMouseDown:N,onMouseEnter:we,onMouseLeave:ne,onMouseMove:H,onMouseUp:F,onTouchEnd:le,onTouchMove:Q,onTouchStart:U,ref:X},g.createElement(Die,null),n)))}),Fie=["width","height","responsive","children","className","style","compact","title","desc"];function Rie(e,t){if(e==null)return{};var n,r,a=$ie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $ie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CF=g.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:u,desc:d}=e,f=Rie(e,Fie),p=ao(f);return l?g.createElement(g.Fragment,null,g.createElement(Dy,{width:n,height:r}),g.createElement(W5,{otherAttributes:p,title:u,desc:d},i)):g.createElement(Lie,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(W5,{otherAttributes:p,title:u,desc:d,ref:t},g.createElement(Gne,null,i)))});function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(null,arguments)}var Bie={top:5,right:5,bottom:5,left:5},zie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Bie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Uie=g.forwardRef(function(e,t){var n,r=Hr(e.categoricalChartProps,zie),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,u={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return g.createElement(SF,{preloadedState:{options:u},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},g.createElement(JL,{chartData:l.data}),g.createElement(NF,{layout:r.layout,margin:r.margin}),g.createElement(jF,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(CF,Yw({},r,{ref:t})))}),Vie=["axis"],Yl=g.forwardRef((e,t)=>g.createElement(Uie,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vie,tooltipPayloadSearcher:uL,categoricalChartProps:e,ref:t}));function Wie(e){var t=Xn();return g.useEffect(()=>{t(fie(e))},[t,e]),null}var qie=["layout"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xw.apply(null,arguments)}function Hie(e,t){if(e==null)return{};var n,r,a=Kie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Kie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gie={top:5,right:5,bottom:5,left:5},AF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Yie=g.forwardRef(function(e,t){var n,r=Hr(e.categoricalChartProps,AF),{layout:a}=r,i=Hie(r,qie),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(SF,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},g.createElement(JL,{chartData:r.data}),g.createElement(NF,{layout:a,margin:r.margin}),g.createElement(jF,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(Wie,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),g.createElement(CF,Xw({},i,{ref:t})))});function H5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(n),!0).forEach(function(r){Xie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xie(e,t,n){return(t=Jie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jie(e){var t=Qie(e,"string");return typeof t=="symbol"?t:t+""}function Qie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zie=["item"],eoe=K5(K5({},AF),{},{layout:"centric",startAngle:0,endAngle:360}),Jw=g.forwardRef((e,t)=>{var n=Hr(e,eoe);return g.createElement(Yie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Zie,tooltipPayloadSearcher:uL,categoricalChartProps:n,ref:t})});const Nn=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>c.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),G5="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Wf=new Map,ld=new Map,toe=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(Wf.has(r)||ld.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&Wf.set(r,o),o})();ld.set(r,a);try{await a}finally{ld.delete(r)}}))},noe=e=>{const[t,n]=g.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Wf.get(e)||G5:null});return g.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=Wf.get(e);if(a){n(a);return}let i=!0;const o=ld.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&Wf.set(e,l),l})();return ld.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(G5)}}).finally(()=>{ld.delete(e)}),()=>{i=!1}},[e]),t},roe=(e,t,n,r)=>{const[a,i]=g.useState("bottom"),[o,s]=g.useState(0);return g.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(M=>{let T=(M==null?void 0:M.parentElement)||null;for(;T;){const $=window.getComputedStyle(T),D=`${$.overflow}${$.overflowY}${$.overflowX}`;if(/(auto|scroll|hidden)/.test(D))return T;T=T.parentElement}return null})(u),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},b=h.bottom-f.bottom,v=f.top-h.top,y=b<p.height+8&&v>b?"top":"bottom";i(y);const x=6,w=f.left+f.width/2,S=h.left+x+p.width/2,C=h.right-x-p.width/2,j=Math.min(Math.max(w,S),C);s(j-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},aoe=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},MF=(e,t,n,r,a=8)=>{const[i,o]=g.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return g.useEffect(()=>{if(!e)return;const s=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,b=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),v=f.left+f.width/2,y=a+p.width/2,x=window.innerWidth-a-p.width/2,w=Math.min(Math.max(v,y),x);o({position:"fixed",top:b,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},ioe=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Ic(a||"Unknown"),o=r.length>1,[s,l]=g.useState(!1),u=g.useRef(null),d=g.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=roe(s,[r.length,f],u,d),h=Array.from(new Set(r.map(x=>Ls(x||"Unknown")))).slice(0,4),b=h.length>1?`conic-gradient(${h.map((x,w)=>`${x} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const v=p==="top"?"bottom-full mb-2":"top-full mt-2",y={transform:`translateX(calc(-50% + ${m}px))`};return c.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[c.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&c.jsxs(c.Fragment,{children:[c.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:b},children:c.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),c.jsxs("div",{ref:d,style:y,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${v} ${s?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),c.jsx("div",{className:"space-y-1",children:r.map(x=>{const w=Ic(x||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[w?c.jsx("img",{src:w,alt:x||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:x||"Unknown"})]},x)})})]})]})]})},ooe=(e,t,n="w-4 h-4 object-contain")=>c.jsx(ioe,{profession:e,professionList:t,className:n}),jv=({count:e,classCounts:t,label:n,className:r})=>{const a=aoe(t||{}),i=e>0,[o,s]=g.useState(!1),l=g.useRef(null),u=g.useRef(null),d=MF(o,[a.length,e],l,u);return c.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[c.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&_d.createPortal(c.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${o?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?c.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>c.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const b=Ic(m||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[b?c.jsx("img",{src:b,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):c.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},wr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a="",truncateText:i=!0})=>{const o=noe(t);return c.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[o?c.jsx("img",{src:o,alt:e,className:`${r} shrink-0`}):null,c.jsx("span",{className:`${i?"truncate":""} ${a}`,children:e})]})},Y5=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=g.useState(!1),s=g.useRef(null),l=g.useRef(null),u=g.useRef(null),d=MF(i,[n.length],s,l),f=()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},p=()=>{f(),u.current=window.setTimeout(()=>{o(!1),u.current=null},140)},m=h=>{const b=h.currentTarget;if(b.scrollHeight<=b.clientHeight)return;const v=h.deltaY;v!==0&&(h.preventDefault(),h.stopPropagation(),b.scrollTop+=v)};return g.useEffect(()=>()=>f(),[]),c.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>{f(),o(!0)},onMouseLeave:()=>{p()},children:[c.jsx("span",{children:e}),a&&typeof document<"u"&&_d.createPortal(c.jsxs("div",{ref:l,style:d,onMouseEnter:f,onMouseLeave:p,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-100 shadow-lg pointer-events-auto ${i?"block":"hidden"}`,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 pr-2",style:{scrollbarGutter:"stable",overscrollBehavior:"contain"},onWheel:m,children:n.map(h=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate text-white",children:c.jsx(wr,{name:h.name,iconUrl:h.iconUrl,iconClassName:"h-6 w-6"})}),c.jsx("span",{className:"text-gray-100 font-mono",children:h.value})]},h.name))})]}),document.body)]})},soe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:b,setSkillUsagePlayerFilter:v,skillUsageView:y,setSkillUsageView:x,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:j,setSelectedSkillId:M,skillBarData:T,selectedSkillName:$,selectedSkillIcon:D,skillUsageReady:I,skillUsageAvailable:O,isSkillUsagePerSecond:q,skillChartData:X,skillChartMaxY:se,playerTotalsForSkill:we,hoveredSkillPlayer:ne,setHoveredSkillPlayer:H,getLineStrokeColor:W,getLineDashForPlayer:k,formatSkillUsageValue:V,renderProfessionIcon:P})=>c.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(kk,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Nn,{value:y,onChange:x,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),s.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[c.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(N=>{const F=d.get(N);return F?c.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[c.jsx("span",{className:"truncate max-w-[140px]",children:F.displayName}),c.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[F.logs," ",F.logs===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>u(F.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:c.jsx(M3,{className:"w-3 h-3"})})]},F.key):null})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),c.jsx("input",{type:"search",value:b,onChange:N=>v(N.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(N=>{const F=p===N.profession,U=N.players.map(le=>le.key),Q=U.length>0&&U.every(le=>s.includes(le));return c.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[c.jsx("button",{type:"button",onClick:()=>{if(F){m(null);return}m(N.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${F?"bg-white/10":"hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[P(N.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:N.profession})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsxs("span",{className:"text-[10px]",children:[N.players.length,"p"]}),F?c.jsx(Kx,{className:"w-3.5 h-3.5"}):c.jsx(rU,{className:"w-3.5 h-3.5"})]})]})}),F&&c.jsxs("div",{className:"pb-2",children:[c.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[c.jsxs("span",{children:[N.players.length," ",N.players.length===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>{l(le=>{if(Q)return le.filter(L=>!U.includes(L));const Y=new Set(le);return U.forEach(L=>Y.add(L)),Array.from(Y)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:Q?"Clear All":"Select All"})]}),N.players.map(le=>{const Y=s.includes(le.key);return c.jsx("button",{type:"button",onClick:()=>h(le.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${Y?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:le.displayName}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[le.account,"  ",le.profession,"  ",le.logs," ",le.logs===1?"log":"logs"]})]}),Y&&c.jsx(j3,{className:"w-4 h-4 text-cyan-300"})]})},le.key)})]})]},N.profession)})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),c.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${q?"casts/sec":"total casts"}`:"Select players"})]}),c.jsx("input",{type:"search",value:S,onChange:N=>C(N.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):T.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const N=T.reduce((F,U)=>Math.max(F,U.total),0)||1;return c.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:T.map((F,U)=>{const Q=Math.min(100,F.total/N*100),le=j===F.skillId;return c.jsxs("button",{type:"button",onClick:()=>M(F.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${le?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${U+1}`}),c.jsx(wr,{name:F.name,iconUrl:F.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),c.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:V(F.total)})]}),c.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:c.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Q}%`,backgroundColor:F.color}})})]},F.skillId)})})})()})]})]}),c.jsx("div",{className:"space-y-3",children:I?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$?c.jsx(wr,{name:$,iconUrl:D,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",q?"casts per second":"casts per log",")"]})]}),c.jsx(Do,{width:"100%",height:250,children:c.jsxs(Yl,{data:X,children:[c.jsx(Js,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:N=>{const F=X[N],U=String((F==null?void 0:F.shortLabel)??N);return U.length>20?`${U.slice(0,20)}`:U}}),c.jsx(Zs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,se)],allowDecimals:!1}),c.jsx(To,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:N,payload:F,label:U})=>{var Q;if(!N||!F||F.length===0)return null;const le=[...F].sort((B,re)=>(re.value||0)-(B.value||0)),Y=le[0],L=((Q=Y==null?void 0:Y.payload)==null?void 0:Q.fullLabel)||U;return c.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[c.jsx("div",{className:"text-sm text-white mb-1",children:L}),c.jsx("div",{className:"space-y-1",children:le.map(B=>{const re=String(B.name||""),R=d.get(re),ce=(R==null?void 0:R.displayName)||re||"Player",ye=V(Number(B.value||0)),G=B.color||"#38bdf8";return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"truncate",style:{color:G},children:ce}),c.jsx("span",{className:"text-gray-200 font-mono",children:ye})]},`${ce}-${ye}`)})})]})}}),s.map(N=>{const F=ne.includes(N),U=ne.length>0,Q=W(N,F,U),le=k(N),Y=ne.length>0&&!F;return c.jsx(li,{dataKey:N,stroke:Q,strokeWidth:F?4:3,strokeDasharray:le,opacity:Y?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},N)})]})})]}),s.length>0&&c.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((N,F)=>(we.get(F)||0)-(we.get(N)||0)).map(N=>{const F=d.get(N),U=we.get(N)??0,Q=ne.includes(N),le=ne.length>0,Y=W(N,Q,le);return c.jsxs("button",{type:"button",onClick:()=>{H(L=>L.includes(N)?L.filter(B=>B!==N):[...L,N])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${Q?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":Q,children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:c.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:Y,strokeWidth:"2",strokeDasharray:k(N),strokeLinecap:"round"})}),P(F==null?void 0:F.profession,F==null?void 0:F.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),c.jsx("div",{className:"font-semibold text-white truncate",children:(F==null?void 0:F.displayName)||N}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[(F==null?void 0:F.logs)??0," ",((F==null?void 0:F.logs)??0)===1?"log":"logs"]})]})]}),c.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:V(U)})]},N)})})]})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),loe=({containerRef:e,className:t=""})=>{const n=g.useRef(null),[r,a]=g.useState(0),[i,o]=g.useState(0),s=g.useRef(!1),l=g.useRef(0),u=g.useRef(0);g.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=p,j=w>S,M=n.current,T=(M==null?void 0:M.clientWidth)||0;if(!T){m=window.requestAnimationFrame(h);return}if(!j){a(T),o(0);return}const $=S/w,D=Math.max(20,Math.floor(T*$)),I=w-S,O=Math.max(0,T-D),q=I>0?Math.floor(C/I*O):0;a(D),o(q)};h();const b=()=>h(),v=new ResizeObserver(h);v.observe(p);const y=p.firstElementChild;y instanceof HTMLElement&&v.observe(y),n.current&&v.observe(n.current);const x=new MutationObserver(()=>h());return x.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",b),()=>{m&&window.cancelAnimationFrame(m),v.disconnect(),x.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",b)}},[e]),g.useEffect(()=>{const p=h=>{if(!s.current)return;const b=n.current,v=e.current;if(!b||!v)return;const y=b.getBoundingClientRect(),x=h.clientX-l.current,w=Math.max(0,y.width-r),S=Math.min(w,Math.max(0,u.current+x)),C=v.scrollWidth-v.clientWidth,j=w>0?S/w*C:0;v.scrollLeft=j},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const b=m.getBoundingClientRect(),v=p.clientX-b.left,y=Math.max(0,b.width-r),x=Math.min(y,Math.max(0,v-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=y>0?x/y*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,u.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return c.jsx("div",{className:`scroll-scrubber ${t}`,children:c.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:c.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},Po=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const u=g.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return c.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&c.jsxs("div",{className:"dense-table__header",children:[e&&c.jsx("div",{className:"dense-table__title",children:e}),t&&c.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&c.jsx("div",{className:"dense-table__controls",children:n}),c.jsx("div",{ref:u,className:"dense-table__scroll",children:c.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[c.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:c.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return c.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?c.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[c.jsx("span",{className:"truncate",children:f.label}),m&&c.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):c.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>c.jsxs("div",{className:"dense-table__row",children:[c.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>c.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),c.jsx(loe,{containerRef:u})]})},Oo=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=g.useState(""),[s,l]=g.useState(!1),[u,d]=g.useState(0),f=g.useRef(null),p=g.useRef(null),m=g.useRef(new Map);g.useEffect(()=>{const y=x=>{f.current&&(f.current.contains(x.target)||l(!1))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const h=g.useMemo(()=>{const y=i.trim().toLowerCase();return y?e.filter(x=>x.label.toLowerCase().includes(y)).slice(0,50):e.slice(0,50)},[e,i]),b=g.useMemo(()=>{const y=new Map;return h.forEach((x,w)=>{y.set(`${x.type}-${x.id}`,w)}),y},[h]),v=g.useMemo(()=>{const y=h.filter(w=>w.type==="column"),x=h.filter(w=>w.type==="player");return{columns:y,players:x}},[h]);return g.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(y=>Math.min(Math.max(y,0),h.length-1))}},[h,s]),g.useEffect(()=>{if(!s)return;const y=h[u];if(!y)return;const x=`${y.type}-${y.id}`,w=m.current.get(x);w&&p.current&&w.scrollIntoView({block:"nearest"})},[u,h,s]),c.jsxs("div",{ref:f,className:`relative ${a}`,children:[c.jsx("input",{value:i,onChange:y=>{o(y.target.value),l(!0)},onKeyDown:y=>{if(!s&&(y.key==="ArrowDown"||y.key==="ArrowUp")){l(!0);return}if(s)if(y.key==="ArrowDown"){if(y.preventDefault(),h.length===0)return;d(x=>(x+1)%h.length)}else if(y.key==="ArrowUp"){if(y.preventDefault(),h.length===0)return;d(x=>(x-1+h.length)%h.length)}else if(y.key==="Enter"){y.preventDefault();const x=h[u];if(!x)return;r(x),o(""),l(!1)}else y.key==="Escape"&&(y.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&c.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):c.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[v.columns.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),v.columns.map(y=>{const x=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=b.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===b.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${x?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]}),v.players.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),v.players.map(y=>{const x=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=b.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===b.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${x?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]})]})})]})},kr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=g.useState(!1),u=g.useRef(null),d=new Set(t);return g.useEffect(()=>{const f=p=>{u.current&&(u.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),c.jsxs("div",{ref:u,className:`relative ${a}`,children:[c.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?c.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,c.jsx("span",{children:i}),t.length>0&&c.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&c.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[c.jsx("span",{children:"Filter Columns"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),c.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>c.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,c.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},coe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:b,setActiveApmSkillId:v,ALL_SKILLS_KEY:y,apmSkillSearch:x,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:j,apmView:M,setApmView:T,formatApmValue:$,formatCastRateValue:D,formatCastCountValue:I,renderProfessionIcon:O})=>{var q;const[X,se]=g.useState({key:"apm",dir:"desc"}),we=e==="apm-stats",[ne,H]=g.useState({columnId:"",dir:"desc"}),[W,k]=g.useState([]),[V,P]=g.useState([]),[N,F]=g.useState({}),U=we?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,Q=Y=>{se(L=>({key:Y,dir:L.key===Y&&L.dir==="desc"?"asc":"desc"}))},le=g.useMemo(()=>{const Y=[...(S==null?void 0:S.playerRows)||[]];return Y.sort((L,B)=>{const re=X.key==="apm"?Number(M==="perSecond"?L.aps:L.apm):Number(M==="perSecond"?L.apsNoAuto:L.apmNoAuto),R=X.key==="apm"?Number(M==="perSecond"?B.aps:B.apm):Number(M==="perSecond"?B.apsNoAuto:B.apmNoAuto);return(X.dir==="desc"?R-re:re-R)||String(L.displayName||"").localeCompare(String(B.displayName||""))}),Y},[S,X,M]);return c.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ck,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),c.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:x,onChange:Y=>w(Y.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),c.jsx("div",{className:U,children:d.map(Y=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const L=f!==Y.profession;p(Y.profession),h(L?Y.profession:m===Y.profession?null:Y.profession),L&&(v(y),k([]),P([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===Y.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(Y.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Y.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[Y.players.length,"p"]})})]})}),!we&&m===Y.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:N[Y.profession]||"",onChange:L=>{const B=L.target.value;F(re=>({...re,[Y.profession]:B}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),c.jsx("button",{type:"button",onClick:()=>{p(Y.profession),v(y)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Y.profession&&j?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(Y.skills||[]).filter(L=>{const B=(N[Y.profession]||"").trim().toLowerCase();return B?String(L.name||"").toLowerCase().includes(B):!0}).map(L=>c.jsx("button",{type:"button",onClick:()=>{p(Y.profession),v(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Y.profession&&b===L.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?c.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate",children:L.name})]})},L.id)),(Y.skills||[]).filter(L=>{const B=(N[Y.profession]||"").trim().toLowerCase();return B?String(L.name||"").toLowerCase().includes(B):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Y.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?c.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[we&&(()=>{const Y=S.skills||[],L=(S.playerRows||[]).map(ce=>({id:ce.key,label:ce.displayName||ce.account||ce.key,icon:O(ce.profession,ce.professionList,"w-3 h-3")})),B=Y.map(ce=>({id:ce.id,label:ce.name,icon:ce.icon?c.jsx("img",{src:ce.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),re=[...Y.map(ce=>({id:ce.id,label:ce.name,type:"column",icon:ce.icon?c.jsx("img",{src:ce.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(ce=>({id:ce.key,label:ce.displayName||ce.account||ce.key,type:"player",icon:O(ce.profession,ce.professionList,"w-3 h-3")}))],R=new Set([...W.map(ce=>`column:${ce}`),...V.map(ce=>`player:${ce}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:re,selectedIds:R,onSelect:ce=>{ce.type==="column"?k(ye=>ye.includes(ce.id)?ye.filter(G=>G!==ce.id):[...ye,ce.id]):P(ye=>ye.includes(ce.id)?ye.filter(G=>G!==ce.id):[...ye,ce.id])},className:"w-full sm:w-64"}),c.jsx(kr,{options:B,selectedIds:W,onToggle:ce=>{k(ye=>ye.includes(ce)?ye.filter(G=>G!==ce):[...ye,ce])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:L,selectedIds:V,onToggle:ce=>{P(ye=>ye.includes(ce)?ye.filter(G=>G!==ce):[...ye,ce])},onClear:()=>P([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:M,onChange:T,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(W.length>0||V.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{k([]),P([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),W.map(ce=>{var ye;const G=((ye=Y.find(me=>me.id===ce))==null?void 0:ye.name)||ce;return c.jsxs("button",{type:"button",onClick:()=>k(me=>me.filter(Pe=>Pe!==ce)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:G}),c.jsx("span",{className:"text-gray-400",children:""})]},ce)}),V.map(ce=>{var ye;const G=((ye=L.find(me=>me.id===ce))==null?void 0:ye.label)||ce;return c.jsxs("button",{type:"button",onClick:()=>P(me=>me.filter(Pe=>Pe!==ce)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:G}),c.jsx("span",{className:"text-gray-400",children:""})]},ce)})]})]})})(),we?(()=>{var Y,L;const B=S.skills||[],re=W.length>0?B.filter(G=>W.includes(G.id)):B,R=V.length>0?(S.playerRows||[]).filter(G=>V.includes(G.key)):S.playerRows||[];if(B.length===0)return c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ce=((Y=re.find(G=>G.id===ne.columnId))==null?void 0:Y.id)||((L=re[0])==null?void 0:L.id)||"",ye=[...R].map(G=>{const me={},Pe={};return re.forEach(mt=>{var Oe;const ie=Number(((Oe=mt.playerCounts)==null?void 0:Oe.get(G.key))||0),Fe=M==="perSecond"?ie/Math.max(1,G.totalActiveSeconds||0):ie;Pe[mt.id]=Fe,me[mt.id]=M==="perSecond"?D(Fe):I(Fe)}),{row:G,values:me,numericValues:Pe}}).sort((G,me)=>{const Pe=G.numericValues[ce]??0,mt=me.numericValues[ce]??0;return(ne.dir==="desc"?mt-Pe:Pe-mt)||String(G.row.displayName||"").localeCompare(String(me.row.displayName||""))});return c.jsx(Po,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ce,sortDirection:ne.dir,onSortColumn:G=>{H(me=>({columnId:G,dir:me.columnId===G&&me.dir==="desc"?"asc":"desc"}))},columns:re.map(G=>({id:G.id,label:c.jsx(wr,{name:G.name,iconUrl:G.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ye.map((G,me)=>({id:`${S.profession}-${G.row.key}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:me+1}),O(G.row.profession,G.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:G.row.displayName})]}),values:G.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(S.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:S.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),j||!C?c.jsx("span",{className:"truncate",children:"All Skills"}):c.jsx(wr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),c.jsx("div",{className:"text-[11px] text-gray-500",children:j||!C?`${((q=S.playerRows)==null?void 0:q.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),j||!C?c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>Q("apm"),className:`text-right transition-colors ${X.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM",X.key==="apm"?X.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>Q("apmNoAuto"),className:`text-right transition-colors ${X.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM"," (No Auto)",X.key==="apmNoAuto"?X.dir==="desc"?" ":" ":""]})]}):c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Casts"}),c.jsx("div",{className:"text-right",children:M==="perSecond"?"APS":"APM"})]})]}),j||!C?c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:le.map((Y,L)=>c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),O(Y.profession,Y.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:Y.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:$(M==="perSecond"?Y.aps:Y.apm)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:$(M==="perSecond"?Y.apsNoAuto:Y.apmNoAuto)})]},`${S.profession}-all-${Y.key}`))})}):c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?c.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((Y,L)=>c.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),O(Y.profession,Y.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:Y.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:I(Number(Y.count||0))}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(M==="perSecond"?Y.aps||0:Y.apm||0))})]},`${S.profession}-${C.id}-${Y.key}`))})})]})]}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},uoe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:b,activePlayerSkillId:v,setActivePlayerSkillId:y,activeClassKey:x,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:j,setActiveClassSkillId:M,skillSearch:T,setSkillSearch:$,activePlayerBreakdown:D,activePlayerSkill:I,activeClassBreakdown:O,activeClassSkill:q,renderProfessionIcon:X})=>{const se=d.length,we=((D==null?void 0:D.skills)||[]).reduce((G,me)=>G+(me.damage||0),0),ne=(O==null?void 0:O.players)||[],[H,W]=g.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[V,P]=g.useState([]),[N,F]=g.useState([]),[U,Q]=g.useState({columnId:"",dir:"desc"}),[le,Y]=g.useState({}),[L,B]=g.useState({}),re=(G,me)=>{var Pe;return me&&(((Pe=G.skillMap)==null?void 0:Pe[me])||G.skills.find(Oe=>Oe.id===me))||null},R=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,ce=g.useMemo(()=>{if(!O||!q)return ne;const G=[...ne];return G.sort((me,Pe)=>{const mt=re(me,q.id),Oe=re(Pe,q.id),ie=Number((mt==null?void 0:mt.downContribution)||0),Fe=Number((Oe==null?void 0:Oe.downContribution)||0),te=Number((mt==null?void 0:mt.damage)||0),bt=Number((Oe==null?void 0:Oe.damage)||0),Lt=me.totalFightMs>0?te/(me.totalFightMs/1e3):0,zn=Pe.totalFightMs>0?bt/(Pe.totalFightMs/1e3):0;let Ne=0;return H.key==="down"&&(Ne=ie-Fe),H.key==="damage"&&(Ne=te-bt),H.key==="dps"&&(Ne=Lt-zn),H.dir==="asc"?Ne:-Ne}),G},[O,ne,q,H]),ye=G=>{W(me=>me.key!==G?{key:G,dir:"desc"}:{key:G,dir:me.dir==="desc"?"asc":"desc"})};return c.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Sk,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[se," ",se===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(G=>{const me=l===G.id;return c.jsx("button",{type:"button",onClick:()=>u(G.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${me?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:G.label},G.id)})})]}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:T,onChange:G=>$(G.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:R,children:(k?"class":l)==="player"?d.map(G=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const me=p!==G.key;me&&(y(null),P([]),F([])),m(G.key),b(me?G.key:h===G.key?null:G.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===G.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:G.displayName,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(G.profession,G.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate min-w-0",children:G.displayName})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:c.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[G.skills.length," skills"]})})]})}),!k&&h===G.key&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:le[G.key]||"",onChange:me=>{const Pe=me.target.value;Y(mt=>({...mt,[G.key]:Pe}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),G.skills.filter(me=>{const Pe=(le[G.key]||"").trim().toLowerCase();return Pe?String(me.name||"").toLowerCase().includes(Pe):!0}).map(me=>c.jsx("button",{type:"button",onClick:()=>{m(G.key),y(me.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===G.key&&v===me.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:me.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[me.icon?c.jsx("img",{src:me.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:me.name})]})},me.id)),G.skills.filter(me=>{const Pe=(le[G.key]||"").trim().toLowerCase();return Pe?String(me.name||"").toLowerCase().includes(Pe):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},G.key)):f.map(G=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const me=x!==G.profession;me&&(M(null),P([]),F([])),w(G.profession),C(me?G.profession:S===G.profession?null:G.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${x===G.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(G.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:G.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[G.players.length,"p"]})})]})}),!k&&S===G.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:L[G.profession]||"",onChange:me=>{const Pe=me.target.value;B(mt=>({...mt,[G.profession]:Pe}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),G.skills.filter(me=>{const Pe=(L[G.profession]||"").trim().toLowerCase();return Pe?String(me.name||"").toLowerCase().includes(Pe):!0}).map(me=>c.jsx("button",{type:"button",onClick:()=>{w(G.profession),M(me.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${x===G.profession&&j===me.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:me.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[me.icon?c.jsx("img",{src:me.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:me.name})]})},me.id)),G.skills.filter(me=>{const Pe=(L[G.profession]||"").trim().toLowerCase();return Pe?String(me.name||"").toLowerCase().includes(Pe):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},G.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!D||!k&&!I?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const G=D.skills||[],me=d.map(ie=>({id:ie.key,label:ie.displayName||ie.key,icon:X(ie.profession,ie.professionList,"w-3 h-3")})),Pe=G.map(ie=>({id:ie.id,label:ie.name,icon:ie.icon?c.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),mt=[...G.map(ie=>({id:ie.id,label:ie.name,type:"column",icon:ie.icon?c.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ie=>({id:ie.key,label:ie.displayName||ie.key,type:"player",icon:X(ie.profession,ie.professionList,"w-3 h-3")}))],Oe=new Set([...V.map(ie=>`column:${ie}`),...N.map(ie=>`player:${ie}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:mt,selectedIds:Oe,onSelect:ie=>{ie.type==="column"?P(Fe=>Fe.includes(ie.id)?Fe.filter(te=>te!==ie.id):[...Fe,ie.id]):F(Fe=>Fe.includes(ie.id)?Fe.filter(te=>te!==ie.id):[...Fe,ie.id])},className:"w-full sm:w-64"}),c.jsx(kr,{options:Pe,selectedIds:V,onToggle:ie=>{P(Fe=>Fe.includes(ie)?Fe.filter(te=>te!==ie):[...Fe,ie])},onClear:()=>P([]),buttonLabel:"Columns",buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:me,selectedIds:N,onToggle:ie=>{F(Fe=>Fe.includes(ie)?Fe.filter(te=>te!==ie):[...Fe,ie])},onClear:()=>F([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})})]}),(V.length>0||N.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{P([]),F([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),V.map(ie=>{var Fe;const te=((Fe=G.find(bt=>bt.id===ie))==null?void 0:Fe.name)||ie;return c.jsxs("button",{type:"button",onClick:()=>P(bt=>bt.filter(Lt=>Lt!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:te}),c.jsx("span",{className:"text-gray-400",children:""})]},ie)}),N.map(ie=>{var Fe;const te=((Fe=me.find(bt=>bt.id===ie))==null?void 0:Fe.label)||ie;return c.jsxs("button",{type:"button",onClick:()=>F(bt=>bt.filter(Lt=>Lt!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:te}),c.jsx("span",{className:"text-gray-400",children:""})]},ie)})]})]})})(),k?(()=>{var G,me;const Pe=D.skills||[],mt=V.length>0?Pe.filter(te=>V.includes(te.id)):Pe,Oe=N.length>0?d.filter(te=>N.includes(te.key)):d,ie=((G=mt.find(te=>te.id===U.columnId))==null?void 0:G.id)||((me=mt[0])==null?void 0:me.id)||"",Fe=Oe.map(te=>{const bt={},Lt={};return mt.forEach(zn=>{const Ne=re(te,zn.id),Qe=Number((Ne==null?void 0:Ne.damage)||0);Lt[zn.id]=Qe,bt[zn.id]=xl(Qe)}),{player:te,values:bt,numericValues:Lt}}).sort((te,bt)=>{const Lt=te.numericValues[ie]??0,zn=bt.numericValues[ie]??0;return(U.dir==="desc"?zn-Lt:Lt-zn)||String(te.player.displayName||"").localeCompare(String(bt.player.displayName||""))});return c.jsx(Po,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:ie,sortDirection:U.dir,onSortColumn:te=>{Q(bt=>({columnId:te,dir:bt.columnId===te&&bt.dir==="desc"?"asc":"desc"}))},columns:mt.map(te=>({id:te.id,label:c.jsx(wr,{name:te.name,iconUrl:te.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Fe.map((te,bt)=>({id:`${te.player.key}-${bt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:bt+1}),X(te.player.profession,te.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:te.player.displayName})]}),values:te.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[X(D.profession,D.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.displayName}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(wr,{name:(I==null?void 0:I.name)||"",iconUrl:I==null?void 0:I.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[D.skills.length," skills | ",xl(we)," total damage"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Metric"}),c.jsx("div",{className:"text-right",children:"Value"})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:xl((I==null?void 0:I.downContribution)||0)},{label:"Total Damage",value:xl((I==null?void 0:I.damage)||0)},{label:"DPS",value:ca(D.totalFightMs>0?((I==null?void 0:I.damage)||0)/(D.totalFightMs/1e3):0,1)}].map(G=>c.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"font-semibold text-white",children:G.label}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:G.value})]},G.label))})]})]}):!O||!k&&!q?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const G=O.skills||[],me=ne.map(ie=>({id:ie.key,label:ie.displayName||ie.key,icon:X(ie.profession,ie.professionList,"w-3 h-3")})),Pe=G.map(ie=>({id:ie.id,label:ie.name,icon:ie.icon?c.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),mt=[...G.map(ie=>({id:ie.id,label:ie.name,type:"column",icon:ie.icon?c.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4"}):void 0})),...ne.map(ie=>({id:ie.key,label:ie.displayName||ie.key,type:"player",icon:X(ie.profession,ie.professionList,"w-3 h-3")}))],Oe=new Set([...V.map(ie=>`column:${ie}`),...N.map(ie=>`player:${ie}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:mt,selectedIds:Oe,onSelect:ie=>{ie.type==="column"?P(Fe=>Fe.includes(ie.id)?Fe.filter(te=>te!==ie.id):[...Fe,ie.id]):F(Fe=>Fe.includes(ie.id)?Fe.filter(te=>te!==ie.id):[...Fe,ie.id])},className:"w-full sm:w-64"}),c.jsx(kr,{options:Pe,selectedIds:V,onToggle:ie=>{P(Fe=>Fe.includes(ie)?Fe.filter(te=>te!==ie):[...Fe,ie])},onClear:()=>P([]),buttonLabel:"Columns",buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:me,selectedIds:N,onToggle:ie=>{F(Fe=>Fe.includes(ie)?Fe.filter(te=>te!==ie):[...Fe,ie])},onClear:()=>F([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})})]}),(V.length>0||N.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{P([]),F([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),V.map(ie=>{var Fe;const te=((Fe=G.find(bt=>bt.id===ie))==null?void 0:Fe.name)||ie;return c.jsxs("button",{type:"button",onClick:()=>P(bt=>bt.filter(Lt=>Lt!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:te}),c.jsx("span",{className:"text-gray-400",children:""})]},ie)}),N.map(ie=>{var Fe;const te=((Fe=me.find(bt=>bt.id===ie))==null?void 0:Fe.label)||ie;return c.jsxs("button",{type:"button",onClick:()=>F(bt=>bt.filter(Lt=>Lt!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:te}),c.jsx("span",{className:"text-gray-400",children:""})]},ie)})]})]})})(),k?(()=>{var G,me;const Pe=O.skills||[],mt=V.length>0?Pe.filter(te=>V.includes(te.id)):Pe,Oe=N.length>0?ne.filter(te=>N.includes(te.key)):ne,ie=((G=mt.find(te=>te.id===U.columnId))==null?void 0:G.id)||((me=mt[0])==null?void 0:me.id)||"",Fe=Oe.map(te=>{const bt={},Lt={};return mt.forEach(zn=>{const Ne=re(te,zn.id),Qe=Number((Ne==null?void 0:Ne.damage)||0);Lt[zn.id]=Qe,bt[zn.id]=xl(Qe)}),{player:te,values:bt,numericValues:Lt}}).sort((te,bt)=>{const Lt=te.numericValues[ie]??0,zn=bt.numericValues[ie]??0;return(U.dir==="desc"?zn-Lt:Lt-zn)||String(te.player.displayName||"").localeCompare(String(bt.player.displayName||""))});return c.jsx(Po,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:ie,sortDirection:U.dir,onSortColumn:te=>{Q(bt=>({columnId:te,dir:bt.columnId===te&&bt.dir==="desc"?"asc":"desc"}))},columns:mt.map(te=>({id:te.id,label:c.jsx(wr,{name:te.name,iconUrl:te.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Fe.map((te,bt)=>({id:`${te.player.key}-${bt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:bt+1}),X(te.player.profession,te.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:te.player.displayName})]}),values:te.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[X(O.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(wr,{name:(q==null?void 0:q.name)||"",iconUrl:q==null?void 0:q.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[ne.length," players | ",O.skills.length," skills"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ye("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",c.jsx("span",{className:"text-[10px]",children:H.key==="down"?H.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ye("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",c.jsx("span",{className:"text-[10px]",children:H.key==="damage"?H.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ye("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",c.jsx("span",{className:"text-[10px]",children:H.key==="dps"?H.dir==="desc"?"":"":""})]})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ce.map(G=>{const me=re(G,(q==null?void 0:q.id)||""),Pe=Number((me==null?void 0:me.downContribution)||0),mt=Number((me==null?void 0:me.damage)||0),Oe=G.totalFightMs>0?mt/(G.totalFightMs/1e3):0;return c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(G.profession,G.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:G.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xl(Pe)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xl(mt)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ca(Oe,1)})]},`${O.profession}-${G.key}`)})})]})]})})]})})]})},doe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,playerSkillBreakdowns:s,renderProfessionIcon:l})=>{const u="damage-breakdown",d=e===u,[f,p]=g.useState("damage"),[m,h]=g.useState(""),[b,v]=g.useState(null),y=M=>Number(f==="damage"?M.damage||0:M.downContribution||0),x=M=>(M.skills||[]).reduce((T,$)=>T+y($),0),w=g.useMemo(()=>{const M=m.trim().toLowerCase();return[...M?s.filter(T=>String(T.displayName||"").toLowerCase().includes(M)||String(T.account||"").toLowerCase().includes(M)||String(T.profession||"").toLowerCase().includes(M)):s].sort((T,$)=>{const D=x($)-x(T);return D!==0?D:String(T.displayName||"").localeCompare(String($.displayName||""))})},[s,m,f]),S=g.useMemo(()=>b&&w.find(M=>M.key===b)||null,[w,b]),C=g.useMemo(()=>S?[...S.skills||[]].filter(M=>y(M)>0).sort((M,T)=>y(T)-y(M)).map(M=>({...M,value:y(M)})):[],[S,f]),j=g.useMemo(()=>S?x(S):0,[S,f]);return g.useEffect(()=>{if(w.length===0){b!==null&&v(null);return}b&&!w.some(M=>M.key===b)&&v(null)},[w,b]),c.jsxs("div",{id:u,"data-section-visible":a(u),"data-section-first":i(u),className:o(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(xk,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),c.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[c.jsx(Nn,{value:f,onChange:M=>p(M),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),s.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"search",value:m,onChange:M=>h(M.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:w.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):w.map(M=>{const T=b===M.key;return c.jsx("button",{type:"button",onClick:()=>v(M.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${T?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(M.profession,M.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"truncate min-w-0",children:M.displayName})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(M.skills||[]).length," ",(M.skills||[]).length===1?"skill":"skills"]})]}),c.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:ca(x(M),0)})]})},M.key)})})]}),c.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:S?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(S.profession,S.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate font-semibold",children:S.displayName})]})}),c.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",C.length," ",C.length===1?"skill":"skills"]})]}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),c.jsx("div",{className:"text-right",children:"% Total"})]})]}),c.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:C.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):C.map((M,T)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"min-w-0",children:c.jsx(wr,{name:M.name,iconUrl:M.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ca(Number(M.value||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:j>0?`${ca(Number(M.value||0)/j*100,1)}%`:"0.0%"})]},`${M.id}-${T}`))})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},foe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,boonSearch:s,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:p,setTimelineScope:m,playerFilter:h,setPlayerFilter:b,players:v,selectedPlayerKey:y,setSelectedPlayerKey:x,selectedPlayer:w,chartData:S,chartMaxY:C,selectedFightIndex:j,setSelectedFightIndex:M,drilldownTitle:T,drilldownData:$,formatWithCommas:D,renderProfessionIcon:I})=>{const O="boon-timeline",q=e===O,X=w!=null&&w.profession&&w.profession!=="All"?Ls(w.profession):"#22d3ee",se=p==="selfBuffs"?"Self":p==="groupBuffs"?"Group":p==="squadBuffs"?"Squad":"All",we=W=>String(W||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ne=S.reduce((W,k)=>!W||k.total>W.total?k:W,null),H=W=>{if(!Number.isFinite(W)||W<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(W))}catch{return""}};return c.jsxs("div",{id:O,"data-section-visible":a(O),"data-section-first":i(O),className:o(O,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${q?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:q?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ak,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),c.jsx("button",{type:"button",onClick:()=>q?r():n(O),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${q?"absolute top-2 right-2 md:static":""}`,"aria-label":q?"Close Boon Timeline":"Expand Boon Timeline",title:q?"Close":"Expand",children:q?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:s,onChange:W=>l(W.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(Nn,{value:p,onChange:W=>m(W),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(W=>{const k=d===W.id;return c.jsxs("button",{type:"button",onClick:()=>f(W.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${k?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[W.icon?c.jsx("img",{src:W.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(Vc,{className:"h-3.5 w-3.5 text-cyan-300"}),c.jsx("span",{children:W.name})]},W.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),c.jsx("input",{type:"search",value:h,onChange:W=>b(W.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:v.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):c.jsx("div",{className:"p-1.5 space-y-1",children:v.map(W=>{const k=y===W.key;return c.jsx("button",{type:"button",onClick:()=>x(W.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${k?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[W.key==="__all__"?c.jsx(Vc,{className:"w-3.5 h-3.5 text-cyan-300"}):I(W.profession,W.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:W.displayName}),W.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:W.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[W.logs," ",W.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:D((W.total||0)/1e3,0)})]})},W.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",se," Generation"]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[S.length," ",S.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!w||S.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:S,onClick:W=>{const k=Number(W==null?void 0:W.activeTooltipIndex);Number.isFinite(k)&&M(j===k?null:k)},children:[c.jsx(Js,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Zs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,C)],tickFormatter:W=>D(W/1e3,0)}),c.jsx(To,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(W,k)=>[D(Number(W||0)/1e3,0),String(k||"")],labelFormatter:(W,k)=>{var V;const P=(V=k==null?void 0:k[0])==null?void 0:V.payload;return we(String((P==null?void 0:P.fullLabel)||""))}}),c.jsx(li,{type:"monotone",dataKey:"total",name:w.displayName,stroke:X,strokeWidth:3,dot:W=>{var k;const V=Number((k=W==null?void 0:W.payload)==null?void 0:k.index);if(!Number.isFinite(V))return null;const P=j===V;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:N=>{N.stopPropagation(),M(P?null:V)},children:[c.jsx("circle",{cx:W.cx,cy:W.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:W.cx,cy:W.cy,r:P?4:3,fill:X,stroke:P?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:P?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(li,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),w&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[w.key==="__all__"?c.jsx(Vc,{className:"w-4 h-4 text-cyan-300"}):I(w.profession,w.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:w.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight Generation"}),c.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:D(Number((ne==null?void 0:ne.total)||0)/1e3,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const W=we((ne==null?void 0:ne.fullLabel)||"N/A"),k=H(Number((ne==null?void 0:ne.timestamp)||0));return k?`${k} - ${W}`:W})()})]})]}),w&&j!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:T}),c.jsx("button",{type:"button",onClick:()=>M(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:$.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:$,children:[c.jsx(Js,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Zs,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:W=>D(W/1e3,0)}),c.jsx(To,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:W=>[D(Number(W||0)/1e3,0),"Generation"],labelFormatter:W=>String(W||"")}),c.jsx(li,{type:"monotone",dataKey:"value",name:"Generation",stroke:X,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},poe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,boonSearch:s,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,playerFilter:p,setPlayerFilter:m,players:h,selectedPlayerKey:b,setSelectedPlayerKey:v,selectedPlayer:y,chartData:x,chartMaxY:w,selectedFightIndex:S,setSelectedFightIndex:C,drilldownTitle:j,drilldownData:M,overallUptimePercent:T,showStackCapLine:$=!1,formatWithCommas:D,renderProfessionIcon:I})=>{const O="boon-uptime",q=e===O,X=y!=null&&y.profession&&y.profession!=="All"?Ls(y.profession):"#f59e0b",se=N=>String(N||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),we=x.reduce((N,F)=>!N||F.peak>N.peak?F:N,null),ne=$?Math.ceil(Math.max(1,w)+3):Math.max(1,w),H=Math.max(1,...M.map(N=>Math.max(0,Number((N==null?void 0:N.value)||0))),...$?[25]:[]),W=$?Math.ceil(Math.max(1,H)+3):Math.max(1,H),k=$?"average":"uptimePercent",V=$?"Per Fight Average Stacks":"Per Fight Uptime %",P=N=>{if(!Number.isFinite(N)||N<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(N))}catch{return""}};return c.jsxs("div",{id:O,"data-section-visible":a(O),"data-section-first":i(O),className:o(O,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${q?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:q?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Uf,{className:"w-5 h-5 text-amber-300"}),"Boon Uptime"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player to chart per-fight peak stacks and drill into 5-second fight buckets."})]}),c.jsx("button",{type:"button",onClick:()=>q?r():n(O),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${q?"absolute top-2 right-2 md:static":""}`,"aria-label":q?"Close Boon Uptime":"Expand Boon Uptime",title:q?"Close":"Expand",children:q?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:s,onChange:N=>l(N.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(N=>{const F=d===N.id;return c.jsxs("button",{type:"button",onClick:()=>f(N.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${F?"border-amber-300/60 bg-amber-500/15 text-amber-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[N.icon?c.jsx("img",{src:N.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(Vc,{className:"h-3.5 w-3.5 text-amber-300"}),c.jsx("span",{children:N.name})]},N.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Players"}),c.jsx("input",{type:"search",value:p,onChange:N=>m(N.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:h.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player uptime."}):c.jsx("div",{className:"p-1.5 space-y-1",children:h.map(N=>{const F=b===N.key;return c.jsx("button",{type:"button",onClick:()=>v(N.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${F?"border-amber-300/60 bg-amber-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[N.key==="__all__"?c.jsx(Uf,{className:"w-3.5 h-3.5 text-amber-300"}):I(N.profession,N.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:N.displayName}),N.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:N.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[N.logs," ",N.logs===1?"fight":"fights"]})]}),c.jsxs("div",{className:"text-xs font-mono text-amber-200 shrink-0",children:[D(Number(N.uptimePercent||0),1),"%"]})]})},N.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:V}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[x.length," ",x.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!y||x.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon uptime by fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:x,onClick:N=>{const F=Number(N==null?void 0:N.activeTooltipIndex);Number.isFinite(F)&&C(S===F?null:F)},children:[c.jsx(Js,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Zs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,ne],tickFormatter:N=>$?D(N,0):`${D(N,0)}%`}),c.jsx(To,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(N,F)=>[$?D(Number(N||0),1):`${D(Number(N||0),1)}%`,String(F||"")],labelFormatter:(N,F)=>{var U;const Q=(U=F==null?void 0:F[0])==null?void 0:U.payload;return se(String((Q==null?void 0:Q.fullLabel)||""))}}),c.jsx(li,{type:"monotone",dataKey:k,name:y.displayName,stroke:X,strokeWidth:3,dot:N=>{var F;const U=Number((F=N==null?void 0:N.payload)==null?void 0:F.index);if(!Number.isFinite(U))return null;const Q=S===U;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:le=>{le.stopPropagation(),C(Q?null:U)},children:[c.jsx("circle",{cx:N.cx,cy:N.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:N.cx,cy:N.cy,r:Q?4:3,fill:X,stroke:Q?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Q?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),$&&c.jsx(qw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]}),y&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[y.key==="__all__"?c.jsx(Uf,{className:"w-4 h-4 text-amber-300"}):I(y.profession,y.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:y.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Overall Uptime"}),c.jsx("div",{className:"mt-1 text-lg font-black text-amber-200 font-mono",children:T===null?"--":`${D(Number(T||0),1)}%`})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const N=se((we==null?void 0:we.fullLabel)||"N/A"),F=P(Number((we==null?void 0:we.timestamp)||0));return F?`${F} - ${N}`:N})()})]})]}),y&&S!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:j}),c.jsx("button",{type:"button",onClick:()=>C(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:M.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:M,children:[c.jsx(Js,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Zs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,W]}),c.jsx(To,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(N,F)=>[D(Number(N||0),0),String(F||"")],labelFormatter:N=>String(N||"")}),c.jsx(li,{type:"monotone",dataKey:"value",name:"Selected",stroke:X,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}}),$&&c.jsx(qw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]})},EF=({className:e})=>c.jsx(gU,{className:e,style:{transform:"rotate(45deg)"}}),ol=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>c.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[c.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),c.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),Io=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"stats-table-shell__header",children:e}),c.jsx("div",{className:"stats-table-shell__columns",children:t})]}),c.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),moe=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:b,isFirstVisibleSection:v,sectionClass:y,sidebarListClass:x})=>{var w;const[S,C]=g.useState({key:"value",dir:"desc"}),[j,M]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),T=f==="offense-detailed",[$,D]=g.useState([]),[I,O]=g.useState([]),q=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),X=t.map(k=>({id:k.id,label:k.label})),se=X.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),we=$.length>0?t.filter(k=>$.includes(k.id)):t,ne=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),H=new Set([...$.map(k=>`column:${k}`),...I.map(k=>`player:${k}`)]),W=k=>{C(V=>({key:k,dir:V.key===k&&V.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"offense-detailed","data-section-visible":b("offense-detailed"),"data-section-first":v("offense-detailed"),className:y("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(EF,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):T?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...X.map(k=>({...k,type:"column"})),...ne.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?D(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id]):O(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id])},selectedIds:H,className:"w-full sm:w-64"}),c.jsx(kr,{options:se,selectedIds:$,onToggle:k=>{D(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>D([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:ne,selectedIds:I,onToggle:k=>{O(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),($.length>0||I.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{D([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(k=>{var V;const P=((V=X.find(N=>N.id===k))==null?void 0:V.label)||k;return c.jsxs("button",{type:"button",onClick:()=>D(N=>N.filter(F=>F!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),I.map(k=>c.jsxs("button",{type:"button",onClick:()=>O(V=>V.filter(P=>P!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:q.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,V;const P=le=>Math.max(1,(le.totalFightMs||0)/1e3),N=(le,Y,L)=>{var B,re,R,ce,ye;if(Y==="downContributionPercent"){const G=((B=le.offenseTotals)==null?void 0:B.downContribution)||0,me=((re=le.offenseTotals)==null?void 0:re.damage)||0;return me>0?G/me*100:0}if(L.isRate){const G=((R=le.offenseRateWeights)==null?void 0:R[Y])||0,me=((ce=le.offenseTotals)==null?void 0:ce[Y])||0;return G>0?me/G*100:0}return((ye=le.offenseTotals)==null?void 0:ye[Y])||0},F=(le,Y)=>{const L=n&&!Y.isPercent&&s==="total"?0:2,B=u(le,L);return Y.isPercent?`${B}%`:B},U=((k=we.find(le=>le.id===j.columnId))==null?void 0:k.id)||((V=we[0])==null?void 0:V.id)||"",Q=[...e.offensePlayers].filter(le=>I.length===0||I.includes(le.account)).map(le=>{const Y={},L={};return we.forEach(B=>{const re=N(le,B.id,B),R=s==="total"||B.isPercent||B.isRate?re:s==="per1s"?re/P(le):re*60/P(le);L[B.id]=R,Y[B.id]=F(R,B)}),{row:le,values:Y,numericValues:L}}).sort((le,Y)=>{const L=le.numericValues[U]??0,B=Y.numericValues[U]??0;return(j.dir==="desc"?B-L:L-B)||String(le.row.account||"").localeCompare(String(Y.row.account||""))});return c.jsx(Po,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:U,sortDirection:j.dir,onSortColumn:le=>{M(Y=>({columnId:le,dir:Y.columnId===le&&Y.dir==="desc"?"asc":"desc"}))},columns:we.map(le=>({id:le.id,label:le.label,align:"right",minWidth:90})),rows:Q.map((le,Y)=>({id:`${le.row.account}-${Y}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:Y+1}),d(le.row.profession,le.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:le.row.account})]}),values:le.values}))})})()})]}):c.jsx(ol,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:q.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):q.map(k=>c.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const k=t.find(U=>U.id===i)||t[0],V=U=>Math.max(1,(U.totalFightMs||0)/1e3),P=U=>{var Q,le,Y,L,B;if(k.id==="downContributionPercent"){const re=((Q=U.offenseTotals)==null?void 0:Q.downContribution)||0,R=((le=U.offenseTotals)==null?void 0:le.damage)||0;return R>0?re/R*100:0}if(k.isRate){const re=((Y=U.offenseRateWeights)==null?void 0:Y[k.id])||0,R=((L=U.offenseTotals)==null?void 0:L[k.id])||0;return re>0?R/re*100:0}return((B=U.offenseTotals)==null?void 0:B[k.id])||0},N=U=>{const Q=n&&!k.isPercent&&s==="total"?0:2,le=u(U,Q);return k.isPercent?`${le}%`:le},F=[...e.offensePlayers].map(U=>({...U,total:P(U),per1s:k.isPercent||k.isRate?P(U):P(U)/V(U),per60s:k.isPercent||k.isRate?P(U):P(U)*60/V(U)})).sort((U,Q)=>{const le=S.key==="fightTime"?Number(U.totalFightMs||0):Number(s==="total"?U.total:s==="per1s"?U.per1s:U.per60s),Y=S.key==="fightTime"?Number(Q.totalFightMs||0):Number(s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s);return(S.dir==="desc"?Y-le:le-Y)||U.account.localeCompare(Q.account)});return c.jsx(Io,{expanded:f==="offense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:c.jsx(Nn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>W("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>W("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:F.map((U,Q)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:Q+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(U.profession,U.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const le=s==="total"?U.total:s==="per1s"?U.per1s:U.per60s;return N(le)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:U.totalFightMs?`${(U.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${U.account}-${Q}`))})})})()})})]})},hoe=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:b,closeExpandedSection:v,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var C;const j=m==="conditions-outgoing",[M,T]=g.useState([]),[$,D]=g.useState([]),[I,O]=g.useState({columnId:"all",dir:"desc"}),q=k=>{if(!k)return 0;if(o!=="outgoing"){const F=Number(k.applicationsFromUptime);return Number.isFinite(F)&&F>0?F:Number(k.applications||0)}const V=Number(k.applicationsFromUptime);if(Number.isFinite(V)&&V>0)return V;const P=Number(k.applicationsFromBuffsActive);if(Number.isFinite(P)&&P>0)return P;const N=Number(k.applicationsFromBuffs);return Number.isFinite(N)&&N>0?N:Number(k.applications||0)},X=[...e||[]].sort((k,V)=>(V.damage||0)-(k.damage||0)),se=X.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),we=se.map(k=>({id:k.name,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ne=M.length>0?X.filter(k=>M.includes(k.name)):X,H=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),W=new Set([...M.map(k=>`column:${k}`),...$.map(k=>`player:${k}`)]);return c.jsxs("div",{id:"conditions-outgoing","data-section-visible":y("conditions-outgoing"),"data-section-first":x("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ry,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),c.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?v():b("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e&&e.length>0?j?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...X.map(k=>({id:k.name,label:k.name,type:"column"})),...H.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?T(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id]):D(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id])},selectedIds:W,className:"w-full sm:w-64"}),c.jsx(kr,{options:we,selectedIds:M,onToggle:k=>{T(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>T([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:H,selectedIds:$,onToggle:k=>{D(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&c.jsx(Nn,{value:u.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:se.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=u.key,V=[{id:"all",label:"All Conditions",icon:null},...ne],P=(t||[]).filter(U=>$.length===0||$.includes(U.account)).map(U=>{const Q=U.conditions||{},le={},Y={};return V.forEach(L=>{if(L.id==="all"||L.name==="All Conditions"){const R=Object.values(Q).reduce((ye,G)=>{const me=q(G);return ye.applications+=Number(me||0),ye.damage+=Number((G==null?void 0:G.damage)||0),ye},{applications:0,damage:0}),ce=k==="applications"?R.applications:R.damage;Y.all=ce||0,le.all=Math.round(ce||0).toLocaleString();return}const B=Q[L.name],re=k==="applications"?q(B):Number((B==null?void 0:B.damage)||0);Y[L.name]=Number(re||0),le[L.name]=Math.round(re||0).toLocaleString()}),{player:U,values:le,numericValues:Y}}).filter(U=>Object.values(U.values).some(Q=>Q!=="0")),N=["all",...ne.map(U=>U.name)].includes(I.columnId)?I.columnId:"all",F=[...P].sort((U,Q)=>{const le=U.numericValues[N]??0,Y=Q.numericValues[N]??0;return(I.dir==="desc"?Y-le:le-Y)||String(U.player.account||"").localeCompare(String(Q.player.account||""))});return c.jsx(Po,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:N,sortDirection:I.dir,onSortColumn:U=>{O(Q=>({columnId:U,dir:Q.columnId===U&&Q.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...ne.map(U=>({id:U.name,label:c.jsx(wr,{name:U.name,iconUrl:U.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:F.map((U,Q)=>({id:`${U.player.account}-${Q}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:Q+1}),p(U.player.profession,U.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.player.account})]}),values:U.values}))})})()}),(M.length>0||$.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>c.jsxs("button",{type:"button",onClick:()=>T(V=>V.filter(P=>P!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k)),$.map(k=>c.jsxs("button",{type:"button",onClick:()=>D(V=>V.filter(P=>P!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):c.jsx(ol,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:se.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),se.map(k=>c.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(wr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:c.jsx(Io,{expanded:m==="conditions-outgoing",header:c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":c.jsx(wr,{name:a,iconUrl:(C=e.find(k=>k.name===a))==null?void 0:C.icon,iconClassName:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:c.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?c.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:c.jsx(c.Fragment,{children:(()=>{const k=(t||[]).map(V=>{const P=V.conditions||{};if(a==="all"){const F=Object.values(P).reduce((U,Q)=>{const le=q(Q);return U.applications+=Number(le||0),U.damage+=Number((Q==null?void 0:Q.damage)||0),U},{applications:0,damage:0});return{...V,applications:F.applications,damage:F.damage}}const N=P[a];return{...V,applications:q(N),damage:Number((N==null?void 0:N.damage)||0)}}).filter(V=>V.applications>0||V.damage>0).sort((V,P)=>{const N=u.key==="applications"?V.applications||0:V.damage||0,F=u.key==="applications"?P.applications||0:P.damage||0,U=u.dir==="desc"?F-N:N-F;if(U!==0)return U;const Q=u.key==="applications"?(P.damage||0)-(V.damage||0):(P.applications||0)-(V.applications||0);return Q!==0?Q:String(V.account||"").localeCompare(String(P.account||""))});return k.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((V,P)=>{var N;const F=V.conditions||{};let U={};a==="all"?Object.values(F).forEach(R=>{const ce=(R==null?void 0:R.skills)||{};Object.values(ce).forEach(ye=>{const G=(ye==null?void 0:ye.name)||"Unknown",me=Number((ye==null?void 0:ye.hits)||0),Pe=Number((ye==null?void 0:ye.damage)||0);if((!Number.isFinite(me)||me<=0)&&(!Number.isFinite(Pe)||Pe<=0))return;const mt=U[G]||{name:G,hits:0,damage:0,icon:ye==null?void 0:ye.icon};mt.hits+=Number.isFinite(me)?me:0,mt.damage+=Number.isFinite(Pe)?Pe:0,!mt.icon&&ye!=null&&ye.icon&&(mt.icon=ye.icon),U[G]=mt})}):U=((N=F[a])==null?void 0:N.skills)||{};const Q=Object.values(U).filter(R=>Number.isFinite(R.hits)&&R.hits>0).sort((R,ce)=>ce.hits-R.hits||R.name.localeCompare(ce.name)),le=Object.values(U).filter(R=>Number.isFinite(R.damage)&&R.damage>0).sort((R,ce)=>ce.damage-R.damage||R.name.localeCompare(ce.name)),Y=a==="all"&&Q.length>0,L=a==="all"&&le.length>0,B=Math.round(V.applications||0).toLocaleString(),re=Math.round(V.damage||0).toLocaleString();return c.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:P+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(V.profession,V.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:V.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Y?c.jsx(Y5,{value:B,label:"Condition Sources",items:Q.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.hits).toLocaleString()})),className:"justify-end"}):B}),f?c.jsx("div",{className:"text-right font-mono text-gray-300",children:L?c.jsx(Y5,{value:re,label:"Condition Damage Sources",items:le.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.damage).toLocaleString()})),className:"justify-end"}):re}):null]},`${V.account}-${P}`)})})()})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},goe=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:b,expandedSectionClosing:v,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:j})=>{const[M,T]=g.useState({key:"value",dir:"desc"}),[$,D]=g.useState({columnId:"",dir:"desc"}),I=b==="boon-output",[O,q]=g.useState([]),[X,se]=g.useState([]),we=e.boonTables||[],ne=O.length>0?we.filter(P=>O.includes(P.id)):we,H=l.map(P=>({id:P.id,label:P.name,icon:P.icon?c.jsx("img",{src:P.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),W=Array.from(new Map((e.boonTables||[]).flatMap(P=>P.rows||[]).filter(P=>P.account).map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,icon:m(P.profession,P.professionList,"w-3 h-3")})),k=new Set([...O.map(P=>`column:${P}`),...X.map(P=>`player:${P}`)]),V=P=>{T(N=>({key:P,dir:N.key===P&&N.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${b==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${v?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Vc,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),c.jsx("button",{type:"button",onClick:()=>b==="boon-output"?x():y("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":b==="boon-output"?"Close Boon Output":"Expand Boon Output",title:b==="boon-output"?"Close":"Expand",children:b==="boon-output"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.boonTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):I?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...we.map(P=>({id:P.id,label:P.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(P=>P.rows||[]).filter(P=>P.account).map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,type:"player",icon:m(P.profession,P.professionList,"w-3 h-3")}))],onSelect:P=>{P.type==="column"?q(N=>N.includes(P.id)?N.filter(F=>F!==P.id):[...N,P.id]):se(N=>N.includes(P.id)?N.filter(F=>F!==P.id):[...N,P.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(kr,{options:H,selectedIds:O,onToggle:P=>{q(N=>N.includes(P)?N.filter(F=>F!==P):[...N,P])},onClear:()=>q([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:W,selectedIds:X,onToggle:P=>{se(N=>N.includes(P)?N.filter(F=>F!==P):[...N,P])},onClear:()=>se([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||X.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{q([]),se([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(P=>{var N;const F=((N=we.find(U=>U.id===P))==null?void 0:N.name)||P;return c.jsxs("button",{type:"button",onClick:()=>q(U=>U.filter(Q=>Q!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},P)}),X.map(P=>c.jsxs("button",{type:"button",onClick:()=>se(N=>N.filter(F=>F!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},P))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:we.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var P,N;const F=ne,U=((P=F.find(L=>L.id===$.columnId))==null?void 0:P.id)||(i&&F.some(L=>L.id===i)?i:void 0)||((N=F[0])==null?void 0:N.id)||"",Q=new Map,le=new Map;F.forEach(L=>{const B=new Map;L.rows.forEach(re=>{const R=re.account||re.name||re.id;R&&(B.set(R,re),le.has(R)||le.set(R,re))}),Q.set(L.id,B)});const Y=Array.from(le.entries()).filter(([L])=>X.length===0||X.includes(String(L))).map(([L,B])=>{const re={};return F.forEach(R=>{var ce;const ye=(ce=Q.get(R.id))==null?void 0:ce.get(L);re[R.id]=ye?f(ye,t,R.stacking,r,{roundCountStats:h}):"-"}),{key:L,row:B,values:re}}).sort((L,B)=>{var re,R;if(!U)return String(L.key).localeCompare(String(B.key));const ce=F.find(mt=>mt.id===U),ye=ce?(re=Q.get(ce.id))==null?void 0:re.get(L.key):null,G=ce?(R=Q.get(ce.id))==null?void 0:R.get(B.key):null,me=ye?p(ye,t,ce==null?void 0:ce.stacking,r):0,Pe=G?p(G,t,ce==null?void 0:ce.stacking,r):0;return($.dir==="desc"?Pe-me:me-Pe)||String(L.key).localeCompare(String(B.key))});return c.jsx(Po,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:U,sortDirection:$.dir,onSortColumn:L=>{D(B=>({columnId:L,dir:B.columnId===L&&B.dir==="desc"?"asc":"desc"}))},columns:F.map(L=>({id:L.id,label:c.jsx(wr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Y.map((L,B)=>({id:`${L.key}-${B}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),m(L.row.profession,L.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:L.row.account||L.row.name||L.key})]}),values:L.values}))})})()})]}):c.jsx(ol,{expanded:b==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${b==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${b==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsx("input",{value:u,onChange:P=>d(P.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${j} ${b==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(P=>c.jsx("button",{onClick:()=>o(P.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===P.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(wr,{name:P.name,iconUrl:P.icon,iconClassName:"h-3.5 w-3.5"})},P.id))})]}),content:s?c.jsx(Io,{expanded:b==="boon-output",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(wr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Nn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>V("value"),className:`text-right transition-colors ${M.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",M.key==="value"?M.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>V("fightTime"),className:`text-right transition-colors ${M.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",M.key==="fightTime"?M.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:[...s.rows].sort((P,N)=>(()=>{const F=M.key==="fightTime"?Number(P.activeTimeMs||0):p(P,t,s.stacking,r),U=M.key==="fightTime"?Number(N.activeTimeMs||0):p(N,t,s.stacking,r);return(M.dir==="desc"?U-F:F-U)||String(P.account||"").localeCompare(String(N.account||""))})()).map((P,N)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(P.profession,P.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:P.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:f(P,t,s.stacking,r,{roundCountStats:h})}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:P.activeTimeMs?`${(P.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${P.account}-${N}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},yoe=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:b,isFirstVisibleSection:v,sectionClass:y,sidebarListClass:x})=>{var w;const[S,C]=g.useState({key:"value",dir:"desc"}),[j,M]=g.useState("combined"),[T,$]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),D=f==="defense-detailed",[I,O]=g.useState([]),[q,X]=g.useState([]),se=t.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),we=t.map(F=>({id:F.id,label:F.label})),ne=we.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),H=I.length>0?t.filter(F=>I.includes(F.id)):t,W=Array.from(new Map(e.defensePlayers.map(F=>[F.account,F])).values()).map(F=>({id:F.account,label:F.account,icon:d(F.profession,F.professionList,"w-3 h-3")})),k=new Set([...I.map(F=>`column:${F}`),...q.map(F=>`player:${F}`)]),V=F=>{C(U=>({key:F,dir:U.key===F&&U.dir==="desc"?"asc":"desc"}))},P=F=>F==="minionDamageTaken",N=(F,U)=>U==="combined"?F.map(Q=>({...Q,minionList:Object.entries((Q==null?void 0:Q.minionDamageTakenByMinion)||{}).filter(([,le])=>Number(le||0)>0).sort((le,Y)=>Number(Y[1]||0)-Number(le[1]||0)).map(([le])=>String(le))})):F.flatMap(Q=>{const le=Object.entries((Q==null?void 0:Q.minionDamageTakenByMinion)||{}).filter(([,Y])=>Number(Y||0)>0).sort((Y,L)=>Number(L[1]||0)-Number(Y[1]||0));return le.length===0?[]:le.map(([Y,L])=>({...Q,minionName:String(Y),defenseTotals:{...Q.defenseTotals||{},minionDamageTaken:Number(L||0)}}))});return c.jsxs("div",{id:"defense-detailed","data-section-visible":b("defense-detailed"),"data-section-first":v("defense-detailed"),className:y("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(yd,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):D?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...we.map(F=>({...F,type:"column"})),...W.map(F=>({...F,type:"player"}))],onSelect:F=>{F.type==="column"?O(U=>U.includes(F.id)?U.filter(Q=>Q!==F.id):[...U,F.id]):X(U=>U.includes(F.id)?U.filter(Q=>Q!==F.id):[...U,F.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(kr,{options:ne,selectedIds:I,onToggle:F=>{O(U=>U.includes(F)?U.filter(Q=>Q!==F):[...U,F])},onClear:()=>O([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:W,selectedIds:q,onToggle:F=>{X(U=>U.includes(F)?U.filter(Q=>Q!==F):[...U,F])},onClear:()=>X([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),H.some(F=>P(F.id))&&c.jsx(Nn,{value:j,onChange:F=>M(F),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||q.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),X([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(F=>{var U;const Q=((U=we.find(le=>le.id===F))==null?void 0:U.label)||F;return c.jsxs("button",{type:"button",onClick:()=>O(le=>le.filter(Y=>Y!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Q}),c.jsx("span",{className:"text-gray-400",children:""})]},F)}),q.map(F=>c.jsxs("button",{type:"button",onClick:()=>X(U=>U.filter(Q=>Q!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},F))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:se.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var F,U;const Q=re=>Math.max(1,(re.activeMs||0)/1e3),le=(re,R)=>{const ce=R.isPercent,ye=u(re,l&&!ce&&o==="total"?0:2);return ce?`${ye}%`:ye},Y=((F=H.find(re=>re.id===T.columnId))==null?void 0:F.id)||((U=H[0])==null?void 0:U.id)||"",L=[...e.defensePlayers].filter(re=>q.length===0||q.includes(re.account)),B=[...H.some(re=>P(re.id))?N(L,j):L].map(re=>{const R={},ce={};return H.forEach(ye=>{var G;const me=((G=re.defenseTotals)==null?void 0:G[ye.id])||0,Pe=ye.isPercent,mt=o==="total"||Pe?me:o==="per1s"?me/Q(re):me*60/Q(re);ce[ye.id]=mt,R[ye.id]=le(mt,ye)}),{row:re,values:R,numericValues:ce}}).sort((re,R)=>{const ce=re.numericValues[Y]??0,ye=R.numericValues[Y]??0;return(T.dir==="desc"?ye-ce:ce-ye)||String(re.row.account||"").localeCompare(String(R.row.account||""))});return c.jsx(Po,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:Y,sortDirection:T.dir,onSortColumn:re=>{$(R=>({columnId:re,dir:R.columnId===re&&R.dir==="desc"?"asc":"desc"}))},columns:H.map(re=>({id:re.id,label:re.label,align:"right",minWidth:90})),rows:B.map((re,R)=>({id:`${re.row.account}-${R}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:R+1}),d(re.row.profession,re.row.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:re.row.account}),j==="combined"&&Array.isArray(re.row.minionList)&&re.row.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:re.row.minionList.join(", ")}),j==="separate"&&re.row.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:re.row.minionName})]})]}),values:re.values}))})})()})]}):c.jsx(ol,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsx("input",{value:n,onChange:F=>r(F.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:se.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):se.map(F=>c.jsx("button",{onClick:()=>i(F.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:F.label},F.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const F=t.find(Y=>Y.id===a)||t[0],U=Y=>Math.max(1,(Y.activeMs||0)/1e3),Q=[...e.defensePlayers],le=[...P(F.id)?N(Q,j):Q].map(Y=>{var L,B,re;return{...Y,total:((L=Y.defenseTotals)==null?void 0:L[F.id])||0,per1s:(((B=Y.defenseTotals)==null?void 0:B[F.id])||0)/U(Y),per60s:(((re=Y.defenseTotals)==null?void 0:re[F.id])||0)*60/U(Y)}}).sort((Y,L)=>{const B=S.key==="fightTime"?Number(Y.activeMs||0):Number(o==="total"?Y.total:o==="per1s"?Y.per1s:Y.per60s),re=S.key==="fightTime"?Number(L.activeMs||0):Number(o==="total"?L.total:o==="per1s"?L.per1s:L.per60s);return(S.dir==="desc"?re-B:B-re)||Y.account.localeCompare(L.account)});return c.jsx(Io,{expanded:f==="defense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${P(F.id)?"justify-between":"justify-end"}`,children:[P(F.id)&&c.jsx(Nn,{value:j,onChange:Y=>M(Y),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>V("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>V("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:le.map((Y,L)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:L+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(Y.profession,Y.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:Y.account}),P(F.id)&&j==="combined"&&Array.isArray(Y.minionList)&&Y.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:Y.minionList.join(", ")}),P(F.id)&&j==="separate"&&Y.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:Y.minionName})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const B=o==="total"?Y.total:o==="per1s"?Y.per1s:Y.per60s;return u(B,l&&o==="total"?0:2)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:Y.activeMs?`${(Y.activeMs/1e3).toFixed(1)}s`:"-"})]},`${F.id}-${Y.account}-${L}`))})})})()})})]})},boe=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:b,closeExpandedSection:v,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var C,j;const M=((C=t.find(R=>R.id==="totalMitigation"))==null?void 0:C.id)||((j=t[0])==null?void 0:j.id)||"totalMitigation",[T,$]=g.useState({key:"value",dir:"desc"}),[D,I]=g.useState({columnId:M,dir:"desc"}),O=m==="defense-mitigation",[q,X]=g.useState([]),[se,we]=g.useState([]),[ne,H]=g.useState([]),W=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],V=l==="minions"?k:W,P=W.length>0||k.length>0,N=t.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),F=t.map(R=>({id:R.id,label:R.label})),U=F.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),Q=q.length>0?t.filter(R=>q.includes(R.id)):t,le=Array.from(new Map(V.map(R=>[R.account,R])).values()).map(R=>({id:R.account,label:R.account,icon:p(R.profession,R.professionList,"w-3 h-3")})),Y=Array.from(new Map(k.map(R=>[R.minion,R])).values()).filter(R=>R==null?void 0:R.minion).map(R=>({id:String(R.minion),label:String(R.minion)})),L=new Set([...q.map(R=>`column:${R}`),...se.map(R=>`player:${R}`)]),B=R=>{$(ce=>({key:R,dir:ce.key===R&&ce.dir==="desc"?"asc":"desc"}))},re=R=>f(R,d&&o==="total"?0:2);return c.jsxs("div",{id:"defense-mitigation","data-section-visible":y("defense-mitigation"),"data-section-first":x("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Mk,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),c.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?v():b("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),P?O?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...F.map(R=>({...R,type:"column"})),...le.map(R=>({...R,type:"player"}))],onSelect:R=>{R.type==="column"?X(ce=>ce.includes(R.id)?ce.filter(ye=>ye!==R.id):[...ce,R.id]):we(ce=>ce.includes(R.id)?ce.filter(ye=>ye!==R.id):[...ce,R.id])},selectedIds:L,className:"w-full sm:w-64"}),c.jsx(kr,{options:U,selectedIds:q,onToggle:R=>{X(ce=>ce.includes(R)?ce.filter(ye=>ye!==R):[...ce,R])},onClear:()=>X([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:le,selectedIds:se,onToggle:R=>{we(ce=>ce.includes(R)?ce.filter(ye=>ye!==R):[...ce,R])},onClear:()=>we([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})}),l==="minions"&&c.jsx(kr,{options:Y,selectedIds:ne,onToggle:R=>{H(ce=>ce.includes(R)?ce.filter(ye=>ye!==R):[...ce,R])},onClear:()=>H([]),buttonLabel:"Minions"}),c.jsx(Nn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(q.length>0||se.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{X([]),we([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),q.map(R=>{var ce;const ye=((ce=F.find(G=>G.id===R))==null?void 0:ce.label)||R;return c.jsxs("button",{type:"button",onClick:()=>X(G=>G.filter(me=>me!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ye}),c.jsx("span",{className:"text-gray-400",children:""})]},R)}),se.map(R=>c.jsxs("button",{type:"button",onClick:()=>we(ce=>ce.filter(ye=>ye!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:R}),c.jsx("span",{className:"text-gray-400",children:""})]},R))]}),l==="minions"&&ne.length>0&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>H([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ne.map(R=>c.jsxs("button",{type:"button",onClick:()=>H(ce=>ce.filter(ye=>ye!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:R}),c.jsx("span",{className:"text-gray-400",children:""})]},R))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:V.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):N.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var R,ce;const ye=Pe=>Math.max(1,(Pe.activeMs||0)/1e3),G=((R=Q.find(Pe=>Pe.id===D.columnId))==null?void 0:R.id)||((ce=Q[0])==null?void 0:ce.id)||"",me=[...V].filter(Pe=>se.length===0||se.includes(Pe.account)).filter(Pe=>l!=="minions"||!ne.length?!0:ne.includes(String(Pe.minion||""))).map(Pe=>{const mt={},Oe={};return Q.forEach(ie=>{var Fe;const te=((Fe=Pe.mitigationTotals)==null?void 0:Fe[ie.id])||0,bt=o==="total"?te:o==="per1s"?te/ye(Pe):te*60/ye(Pe);Oe[ie.id]=bt,mt[ie.id]=re(bt)}),{row:Pe,values:mt,numericValues:Oe}}).sort((Pe,mt)=>{const Oe=Pe.numericValues[G]??0,ie=mt.numericValues[G]??0;return(D.dir==="desc"?ie-Oe:Oe-ie)||String(Pe.row.account||"").localeCompare(String(mt.row.account||""))});return c.jsx(Po,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:G,sortDirection:D.dir,onSortColumn:Pe=>{I(mt=>({columnId:Pe,dir:mt.columnId===Pe&&mt.dir==="desc"?"asc":"desc"}))},columns:Q.map(Pe=>({id:Pe.id,label:Pe.label,align:"right",minWidth:90})),rows:me.map((Pe,mt)=>({id:`${Pe.row.account}-${Pe.row.minion||"player"}-${mt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:mt+1}),p(Pe.row.profession,Pe.row.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Pe.row.account}),Pe.row.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Pe.row.minion})]})]}),values:Pe.values}))})})()})]}):c.jsx(ol,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsx("input",{value:n,onChange:R=>r(R.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),c.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:N.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):N.map(R=>c.jsx("button",{onClick:()=>i(R.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===R.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:R.label},R.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const R=t.find(G=>G.id===a)||t[0],ce=G=>Math.max(1,(G.activeMs||0)/1e3),ye=[...V].map(G=>{var me,Pe,mt;return{...G,total:((me=G.mitigationTotals)==null?void 0:me[R.id])||0,per1s:(((Pe=G.mitigationTotals)==null?void 0:Pe[R.id])||0)/ce(G),per60s:(((mt=G.mitigationTotals)==null?void 0:mt[R.id])||0)*60/ce(G)}}).filter(G=>l!=="minions"||!ne.length?!0:ne.includes(String(G.minion||""))).sort((G,me)=>{const Pe=T.key==="fightTime"?Number(G.activeMs||0):Number(o==="total"?G.total:o==="per1s"?G.per1s:G.per60s),mt=T.key==="fightTime"?Number(me.activeMs||0):Number(o==="total"?me.total:o==="per1s"?me.per1s:me.per60s);return(T.dir==="desc"?mt-Pe:Pe-mt)||G.account.localeCompare(me.account)});return c.jsx(Io,{expanded:m==="defense-mitigation",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 bg-white/5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"ml-auto",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>B("value"),className:`text-right transition-colors ${T.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",T.key==="value"?T.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>B("fightTime"),className:`text-right transition-colors ${T.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",T.key==="fightTime"?T.dir==="desc"?" ":" ":""]})]})]}),rows:ye.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):c.jsx(c.Fragment,{children:ye.map((G,me)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:me+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(G.profession,G.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:G.account}),G.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:G.minion})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Pe=o==="total"?G.total:o==="per1s"?G.per1s:G.per60s;return re(Pe)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:G.activeMs?`${(G.activeMs/1e3).toFixed(1)}s`:"-"})]},`${R.id}-${G.account}-${G.minion||"player"}-${me}`))})})})()})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},voe=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:b,closeExpandedSection:v,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var C;const[j,M]=g.useState({key:"value",dir:"desc"}),[T,$]=g.useState({columnId:((C=t[0])==null?void 0:C.id)||"value",dir:"desc"}),D=m==="support-detailed",[I,O]=g.useState([]),[q,X]=g.useState([]),se=t.filter(P=>P.label.toLowerCase().includes(n.trim().toLowerCase())),we=t.map(P=>({id:P.id,label:P.label})),ne=we.filter(P=>P.label.toLowerCase().includes(n.trim().toLowerCase())),H=I.length>0?t.filter(P=>I.includes(P.id)):t,W=Array.from(new Map(e.supportPlayers.map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,icon:p(P.profession,P.professionList,"w-3 h-3")})),k=new Set([...I.map(P=>`column:${P}`),...q.map(P=>`player:${P}`)]),V=P=>{M(N=>({key:P,dir:N.key===P&&N.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"support-detailed","data-section-visible":y("support-detailed"),"data-section-first":x("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(jk,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?v():b("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):D?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...we.map(P=>({...P,type:"column"})),...W.map(P=>({...P,type:"player"}))],onSelect:P=>{P.type==="column"?O(N=>N.includes(P.id)?N.filter(F=>F!==P.id):[...N,P.id]):X(N=>N.includes(P.id)?N.filter(F=>F!==P.id):[...N,P.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(kr,{options:ne,selectedIds:I,onToggle:P=>{O(N=>N.includes(P)?N.filter(F=>F!==P):[...N,P])},onClear:()=>O([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:W,selectedIds:q,onToggle:P=>{X(N=>N.includes(P)?N.filter(F=>F!==P):[...N,P])},onClear:()=>X([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&c.jsx(Nn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||q.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),X([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(P=>{var N;const F=((N=we.find(U=>U.id===P))==null?void 0:N.label)||P;return c.jsxs("button",{type:"button",onClick:()=>O(U=>U.filter(Q=>Q!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},P)}),q.map(P=>c.jsxs("button",{type:"button",onClick:()=>X(N=>N.filter(F=>F!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},P))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:se.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var P,N;const F=(L,B)=>{var re,R,ce;if(B==="condiCleanse"){const ye=((re=L.supportTotals)==null?void 0:re.condiCleanse)||0,G=((R=L.supportTotals)==null?void 0:R.condiCleanseSelf)||0;return l==="all"?ye+G:ye}return((ce=L.supportTotals)==null?void 0:ce[B])||0},U=L=>Math.max(1,(L.activeMs||0)/1e3),Q=(L,B)=>{const re=L.isTime?1:d&&o==="total"?0:2;return f(B,re)},le=((P=H.find(L=>L.id===T.columnId))==null?void 0:P.id)||((N=H[0])==null?void 0:N.id)||"",Y=[...e.supportPlayers].filter(L=>q.length===0||q.includes(L.account)).map(L=>{const B={},re={};return H.forEach(R=>{const ce=F(L,R.id),ye=o==="total"?ce:o==="per1s"?ce/U(L):ce*60/U(L);re[R.id]=ye,B[R.id]=Q(R,ye)}),{row:L,values:B,numericValues:re}}).sort((L,B)=>{const re=L.numericValues[le]??0,R=B.numericValues[le]??0;return(T.dir==="desc"?R-re:re-R)||String(L.row.account||"").localeCompare(String(B.row.account||""))});return c.jsx(Po,{title:"Support - Dense View",subtitle:"Support",sortColumnId:le,sortDirection:T.dir,onSortColumn:L=>{$(B=>({columnId:L,dir:B.columnId===L&&B.dir==="desc"?"asc":"desc"}))},columns:H.map(L=>({id:L.id,label:L.label,align:"right",minWidth:90})),rows:Y.map((L,B)=>({id:`${L.row.account}-${B}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),p(L.row.profession,L.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:L.row.account})]}),values:L.values}))})})()})]}):c.jsx(ol,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsx("input",{value:n,onChange:P=>r(P.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:se.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):se.map(P=>c.jsx("button",{onClick:()=>i(P.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===P.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:P.label},P.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const P=t.find(Q=>Q.id===a)||t[0],N=Q=>{var le,Y,L;if(P.id==="condiCleanse"){const B=((le=Q.supportTotals)==null?void 0:le.condiCleanse)||0,re=((Y=Q.supportTotals)==null?void 0:Y.condiCleanseSelf)||0;return l==="all"?B+re:B}return((L=Q.supportTotals)==null?void 0:L[P.id])||0},F=Q=>Math.max(1,(Q.activeMs||0)/1e3),U=[...e.supportPlayers].map(Q=>({...Q,total:N(Q),per1s:N(Q)/F(Q),per60s:N(Q)*60/F(Q)})).sort((Q,le)=>{const Y=j.key==="fightTime"?Number(Q.activeMs||0):Number(o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s),L=j.key==="fightTime"?Number(le.activeMs||0):Number(o==="total"?le.total:o==="per1s"?le.per1s:le.per60s);return(j.dir==="desc"?L-Y:Y-L)||Q.account.localeCompare(le.account)});return c.jsx(Io,{expanded:m==="support-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:P.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:c.jsxs(c.Fragment,{children:[P.id==="condiCleanse"?c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Nn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):c.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>V("value"),className:`text-right transition-colors ${j.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",j.key==="value"?j.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>V("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:U.map((Q,le)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:le+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(Q.profession,Q.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Q.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Y=o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s,L=P.isTime?1:d&&o==="total"?0:2;return f(Y,L)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:Q.activeMs?`${(Q.activeMs/1e3).toFixed(1)}s`:"-"})]},`${P.id}-${Q.account}-${le}`))})})})()})})]})},xoe=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:b,isFirstVisibleSection:v,sectionClass:y})=>{var x;const[w,S]=g.useState({key:"value",dir:"desc"}),[C,j]=g.useState({columnId:((x=t[0])==null?void 0:x.id)||"value",dir:"desc"}),M=f==="healing-stats",[T,$]=g.useState([]),[D,I]=g.useState([]),O=Array.from(new Map(e.healingPlayers.map(ne=>[ne.account,ne])).values()).map(ne=>({id:ne.account,label:ne.account,icon:d(ne.profession,ne.professionList,"w-3 h-3")})),q=new Set([...D.map(ne=>`column:${ne}`),...T.map(ne=>`player:${ne}`)]),X=t.map(ne=>({id:ne.id,label:ne.label})),se=D.length>0?t.filter(ne=>D.includes(ne.id)):t,we=ne=>{S(H=>({key:ne,dir:H.key===ne&&H.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"healing-stats","data-section-visible":b("healing-stats"),"data-section-first":v("healing-stats"),className:y("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(S3,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),c.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):M?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...X.map(ne=>({...ne,type:"column"})),...O.map(ne=>({...ne,type:"player"}))],onSelect:ne=>{ne.type==="column"?I(H=>H.includes(ne.id)?H.filter(W=>W!==ne.id):[...H,ne.id]):$(H=>H.includes(ne.id)?H.filter(W=>W!==ne.id):[...H,ne.id])},selectedIds:q,className:"w-full sm:w-64"}),c.jsx(Nn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(kr,{options:X,selectedIds:D,onToggle:ne=>{I(H=>H.includes(ne)?H.filter(W=>W!==ne):[...H,ne])},onClear:()=>I([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(ne=>({value:ne.id,label:ne.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(kr,{options:O,selectedIds:T,onToggle:ne=>{$(H=>H.includes(ne)?H.filter(W=>W!==ne):[...H,ne])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})})]}),(D.length>0||T.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{I([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(ne=>{var H;const W=((H=X.find(k=>k.id===ne))==null?void 0:H.label)||ne;return c.jsxs("button",{type:"button",onClick:()=>I(k=>k.filter(V=>V!==ne)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:W}),c.jsx("span",{className:"text-gray-400",children:""})]},ne)}),T.map(ne=>c.jsxs("button",{type:"button",onClick:()=>$(H=>H.filter(W=>W!==ne)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ne}),c.jsx("span",{className:"text-gray-400",children:""})]},ne))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var ne,H;const W=N=>Math.max(1,(N.activeMs||0)/1e3),k=N=>{const F=N.baseField==="resUtility",U=F||a==="total"?"":a==="offSquad"?"offSquad":a;return F?o==="all"?"resUtility":`resUtility_${o}`:U?`${U}${N.baseField[0].toUpperCase()}${N.baseField.slice(1)}`:N.baseField},V=[...e.healingPlayers].filter(N=>T.length===0||T.includes(N.account)).filter(N=>Object.values(N.healingTotals||{}).some(F=>Number(F)>0)).map(N=>{const F={},U={};return se.forEach(Q=>{var le;const Y=k(Q),L=Number(((le=N.healingTotals)==null?void 0:le[Y])??0),B=Q.perSecond?L/W(N):L;U[Q.id]=B,F[Q.id]=u(B,Q.decimals)}),{row:N,values:F,numericValues:U}}).sort((N,F)=>{var U,Q;const le=((U=se.find(B=>B.id===C.columnId))==null?void 0:U.id)||((Q=se[0])==null?void 0:Q.id)||"",Y=N.numericValues[le]??0,L=F.numericValues[le]??0;return(C.dir==="desc"?L-Y:Y-L)||String(N.row.account||"").localeCompare(String(F.row.account||""))}),P=((ne=se.find(N=>N.id===C.columnId))==null?void 0:ne.id)||((H=se[0])==null?void 0:H.id)||"";return c.jsx(Po,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:P,sortDirection:C.dir,onSortColumn:N=>{j(F=>({columnId:N,dir:F.columnId===N&&F.dir==="desc"?"asc":"desc"}))},columns:se.map(N=>({id:N.id,label:N.label,align:"right",minWidth:90})),rows:V.map((N,F)=>({id:`${N.row.account}-${F}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(N.row.profession,N.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:N.row.account})]}),values:N.values}))})})()})]}):c.jsx(ol,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(ne=>c.jsx("button",{onClick:()=>r(ne.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===ne.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:ne.label},ne.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const ne=t.find(N=>N.id===n)||t[0],H=ne.baseField==="resUtility",W=N=>Math.max(1,(N.activeMs||0)/1e3),k=H||a==="total"?"":a==="offSquad"?"offSquad":a,V=H?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${ne.baseField[0].toUpperCase()}${ne.baseField.slice(1)}`:ne.baseField,P=[...e.healingPlayers].filter(N=>Object.values(N.healingTotals||{}).some(F=>Number(F)>0)).map(N=>{var F;const U=Number(((F=N.healingTotals)==null?void 0:F[V])??0),Q=ne.perSecond?U/W(N):U;return{...N,value:Q}}).sort((N,F)=>{const U=w.key==="fightTime"?Number(N.activeMs||0):Number(N.value||0),Q=w.key==="fightTime"?Number(F.activeMs||0):Number(F.value||0);return(w.dir==="desc"?Q-U:U-Q)||N.account.localeCompare(F.account)});return c.jsx(Io,{expanded:f==="healing-stats",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:ne.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:c.jsxs(c.Fragment,{children:[H&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(N=>({value:N.id,label:N.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!H&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:c.jsx(Nn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>we("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[ne.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>we("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:P.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):P.map((N,F)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:F+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(N.profession,N.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:N.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:u(N.value,ne.decimals)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:N.activeMs?`${(N.activeMs/1e3).toFixed(1)}s`:"-"})]},`${ne.id}-${N.account}-${F}`))})})})()})})]})},woe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",koe=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:b,sidebarListClass:v})=>{const[y,x]=g.useState("total"),[w,S]=g.useState("desc"),[C,j]=g.useState({columnId:"",dir:"desc"}),M=u==="special-buffs",[T,$]=g.useState([]),[D,I]=g.useState([]),O=e.specialTables||[],q=T.length>0?O.filter(k=>T.includes(k.id)):O,X=r.map(k=>({id:k.id,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),se=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),we=new Set([...T.map(k=>`column:${k}`),...D.map(k=>`player:${k}`)]),ne=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((V,P)=>{const N=Number((V==null?void 0:V[y])??0),F=Number((P==null?void 0:P[y])??0),U=w==="desc"?F-N:N-F;return U!==0?U:String((V==null?void 0:V.account)||"").localeCompare(String((P==null?void 0:P.account)||""))}),k},[o,y,w]),H=k=>{if(y===k){S(V=>V==="desc"?"asc":"desc");return}x(k),S("desc")},W=k=>y!==k?"":w==="desc"?" ":" ";return c.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:b("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ay,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),c.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.specialTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):M?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...O.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?$(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id]):I(V=>V.includes(k.id)?V.filter(P=>P!==k.id):[...V,k.id])},selectedIds:we,className:"w-full sm:w-64"}),c.jsx(kr,{options:X,selectedIds:T,onToggle:k=>{$(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>$([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(kr,{options:se,selectedIds:D,onToggle:k=>{I(V=>V.includes(k)?V.filter(P=>P!==k):[...V,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:c.jsx(Dr,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:y,onChange:k=>x(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||D.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{$([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var V;const P=((V=O.find(N=>N.id===k))==null?void 0:V.name)||k;return c.jsxs("button",{type:"button",onClick:()=>$(N=>N.filter(F=>F!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),D.map(k=>c.jsxs("button",{type:"button",onClick:()=>I(V=>V.filter(P=>P!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,V;const P=q,N=new Map,F=new Map;P.forEach(Y=>{const L=new Map;Y.rows.forEach(B=>{const re=B.account||B.name||B.id;re&&(L.set(re,B),F.has(re)||F.set(re,B))}),N.set(Y.id,L)});const U=Array.from(F.entries()).filter(([Y])=>D.length===0||D.includes(String(Y))).map(([Y,L])=>{const B={},re={};return P.forEach(R=>{var ce;const ye=(ce=N.get(R.id))==null?void 0:ce.get(Y);if(!ye){B[R.id]="-",re[R.id]=0;return}if(y==="duration"){B[R.id]=ye.duration?`${ye.duration.toFixed(1)}s`:"-",re[R.id]=Number(ye.duration||0);return}const G=y==="total"?ye.total:ye.perSecond,me=y==="total"?0:1;re[R.id]=Number(G||0),B[R.id]=s(G||0,me)}),{key:Y,row:L,values:B,numericValues:re}}),Q=((k=P.find(Y=>Y.id===C.columnId))==null?void 0:k.id)||(a&&P.some(Y=>Y.id===a)?a:void 0)||((V=P[0])==null?void 0:V.id)||"",le=[...U].sort((Y,L)=>{if(!Q)return String(Y.key).localeCompare(String(L.key));const B=Y.numericValues[Q]??0,re=L.numericValues[Q]??0;return(C.dir==="desc"?re-B:B-re)||String(Y.key).localeCompare(String(L.key))});return c.jsx(Po,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:Q,sortDirection:C.dir,onSortColumn:Y=>{j(L=>({columnId:Y,dir:L.columnId===Y&&L.dir==="desc"?"asc":"desc"}))},columns:P.map(Y=>({id:Y.id,label:c.jsx(wr,{name:Y.name,iconUrl:Y.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:le.map((Y,L)=>({id:`${Y.key}-${L}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:L+1}),l(Y.row.profession,Y.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Y.row.account||Y.row.name||Y.key})]}),values:Y.values}))})})()})]}):c.jsx(ol,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${v} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>c.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(wr,{name:woe(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Io,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(wr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>H("total"),className:`text-right transition-colors ${y==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",W("total")]}),c.jsxs("button",{type:"button",onClick:()=>H("perSecond"),className:`text-right transition-colors ${y==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",W("perSecond")]}),c.jsxs("button",{type:"button",onClick:()=>H("duration"),className:`text-right transition-colors ${y==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",W("duration")]})]}),rows:c.jsx(c.Fragment,{children:ne.map((k,V)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${V}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Soe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Noe=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:b,sidebarListClass:v})=>{const[y,x]=g.useState("desc"),w=u==="sigil-relic-uptime",S=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const C=[...o.rows];return C.sort((j,M)=>{const T=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),$=Number((M==null?void 0:M.uptimePerSecond)??(M==null?void 0:M.perSecond)??0),D=y==="desc"?$-T:T-$;return D!==0?D:String((j==null?void 0:j.account)||"").localeCompare(String((M==null?void 0:M.account)||""))}),C},[o,y]);return c.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:b("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ek,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),c.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e?c.jsx(ol,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),c.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${v} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>c.jsx("button",{onClick:()=>i(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(wr,{name:Soe(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Io,{expanded:w,maxHeightClass:"max-h-72",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(wr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>x(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",y==="desc"?"":""]})]}),rows:c.jsx(c.Fragment,{children:S.map((C,j)=>{const M=Number(C.uptimePerSecond??C.perSecond??0)*100;return c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:j+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.account})]}),c.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(M,1),"%"]})]},`${o.id}-${C.account}-${j}`)})})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},joe=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:a,closeExpandedSection:i,isSectionVisible:o,isFirstVisibleSection:s,sectionClass:l})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,p]=g.useState(""),[m,h]=g.useState(""),[b,v]=g.useState(null);g.useEffect(()=>{var I,O,q;if(u.length===0){p(""),h("");return}const X=String(((I=u[0])==null?void 0:I.id)||""),se=String(((O=u[1])==null?void 0:O.id)||((q=u[0])==null?void 0:q.id)||"");p(we=>we&&u.some(ne=>String(ne.id)===we)?we:X),h(we=>we&&u.some(ne=>String(ne.id)===we)?we:se)},[u]);const y=g.useMemo(()=>u.find(I=>String(I.id)===String(f))||null,[u,f]),x=g.useMemo(()=>u.find(I=>String(I.id)===String(m))||null,[u,m]),w=g.useMemo(()=>{if(!y||!x)return[];const I=new Map,O=(q,X,se,we)=>{const ne=String(q||"Unknown"),H=I.get(ne)||{label:ne,aDamage:0,aShare:0,bDamage:0,bShare:0};X==="a"?(H.aDamage=Number(se||0),H.aShare=Number(we||0)):(H.bDamage=Number(se||0),H.bShare=Number(we||0)),I.set(ne,H)};return(y.targetFocus||[]).forEach(q=>O(q.label,"a",q.damage,q.share)),(x.targetFocus||[]).forEach(q=>O(q.label,"b",q.damage,q.share)),Array.from(I.values()).map(q=>({...q,shareDelta:q.bShare-q.aShare})).sort((q,X)=>Math.abs(X.shareDelta)-Math.abs(q.shareDelta)||X.bDamage+X.aDamage-(q.bDamage+q.aDamage))},[y,x]),S=g.useMemo(()=>{if(!b)return w;const I=b.direction==="asc"?1:-1,O=b.key;return[...w].sort((q,X)=>{const se=(Number(q[O])-Number(X[O]))*I;return se!==0?se:q.label.localeCompare(X.label)})},[w,b]),C=g.useMemo(()=>{if(!y||!x)return[];const I=new Map((y.squadMetrics||[]).map(q=>[q.metricId,q])),O=new Map((x.squadMetrics||[]).map(q=>[q.metricId,q]));return Array.from(new Set([...I.keys(),...O.keys()])).map(q=>{const X=I.get(q),se=O.get(q),we=!!((X==null?void 0:X.higherIsBetter)??(se==null?void 0:se.higherIsBetter)??!0),ne=Number((X==null?void 0:X.value)||0),H=Number((se==null?void 0:se.value)||0);return{metricId:q,metricLabel:String((X==null?void 0:X.metricLabel)||(se==null?void 0:se.metricLabel)||q),higherIsBetter:we,a:X,b:se,delta:H-ne}})},[y,x]),j=I=>`${t((Number(I)||0)*100,1)}%`,M=I=>I==="squadKdr"?2:0,T=I=>{v(O=>!O||O.key!==I?{key:I,direction:"desc"}:{key:I,direction:O.direction==="desc"?"asc":"desc"})},$=I=>(b==null?void 0:b.key)===I?b.direction==="desc"?" ":" ":"",D=I=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(b==null?void 0:b.key)===I?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return c.jsxs("div",{id:"fight-diff-mode","data-section-visible":o("fight-diff-mode"),"data-section-first":s("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(wk,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),c.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?i():a("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),d?c.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),c.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:I=>p(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-a-${I.id}`))})]}),c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:I=>h(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-b-${I.id}`))})]})]}),c.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[c.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),c.jsxs("div",{children:["Target focus compares how your squad distributed damage ",c.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",c.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",c.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",c.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Io,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("aDamage"),onClick:()=>T("aDamage"),children:[y==null?void 0:y.shortLabel," Damage",$("aDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("aShare"),onClick:()=>T("aShare"),children:[y==null?void 0:y.shortLabel," Share",$("aShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("bDamage"),onClick:()=>T("bDamage"),children:[x==null?void 0:x.shortLabel," Damage",$("bDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("bShare"),onClick:()=>T("bShare"),children:[x==null?void 0:x.shortLabel," Share",$("bShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("shareDelta"),onClick:()=>T("shareDelta"),children:["Share Delta",$("shareDelta")]})})]})})]})}):null,rows:w.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:S.map(I=>c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.label}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.aDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:j(I.aShare)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.bDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:j(I.bShare)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${I.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[I.shareDelta>=0?"+":"",j(I.shareDelta)]})]},`focus-${I.label}`))})]})}):c.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[c.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),c.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Io,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),c.jsxs("th",{className:"text-right py-2 px-3",children:[y==null?void 0:y.shortLabel," Value"]}),c.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:C.map(I=>{var O,q;const X=I.higherIsBetter?I.delta>=0:I.delta<=0,se=M(I.metricId);return c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.metricLabel}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((O=I.a)==null?void 0:O.value)||0),se)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((q=I.b)==null?void 0:q.value)||0),se)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${X?"text-emerald-300":"text-red-300"}`,children:[I.delta>0?"+":"",t(I.delta,se)]})]},`performer-${I.metricId}`)})})]})}):c.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Coe=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{id:"kdr",className:"scroll-mt-24"}),c.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[c.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),c.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Aoe=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=g.useMemo(()=>{const u=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||u.set(p,(u.get(p)||0)+m)})}),Array.from(u.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=u=>{const d=u==null?void 0:u.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const b=Number(d);if(Number.isFinite(b)&&b>0)f=b>1e12?b:b*1e3;else{const v=Date.parse(d);Number.isFinite(v)&&v>0&&(f=v)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(u==null?void 0:u.mapName)||(u==null?void 0:u.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return c.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Nn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),c.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?c.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(u=>c.jsx("th",{className:"text-right py-2 px-3",children:`Team ${u}`},u))]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),c.jsx("tbody",{children:(e.fightBreakdown||[]).map((u,d)=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),c.jsx("td",{className:"py-2 px-3 w-[240px]",children:u.permalink?c.jsx("button",{onClick:()=>{var f;u.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(u.permalink):u.permalink&&window.open(u.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(u)}):c.jsx("span",{className:"text-gray-500",children:"Pending"})}),c.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:u.duration||"--:--"}),c.jsx("td",{className:`py-2 px-3 font-semibold ${u.isWin===!0?"text-emerald-300":u.isWin===!1?"text-red-300":"text-amber-200"}`,children:u.isWin===!0?"Win":u.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(jv,{count:u.squadCount??0,classCounts:u.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(jv,{count:u.allyCount??0,classCounts:u.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(jv,{count:u.enemyCount??0,classCounts:u.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(u.teamBreakdown)?u.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDown??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDead??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesRevived??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.rallies??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDowns??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDeaths??0})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalOutgoingDamage||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((u.totalOutgoingDamage||0)-(u.totalIncomingDamage||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.incomingBarrierAbsorbed||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((u.outgoingBarrierAbsorbed||0)-(u.incomingBarrierAbsorbed||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},u.id||`${u.label}-${d}`))})]})})})]})})},X5={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Moe=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:u})=>{const d=X5[r]||X5.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return c.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:c.jsx(e,{className:"w-6 h-6"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),c.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",c.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),c.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&c.jsxs("div",{className:"mt-3 stats-share-exclude",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?c.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>c.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[c.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),c.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),c.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),c.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):c.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Eoe=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},J5=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Doe=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?c.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Uc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[c.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),c.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[c.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:c.jsx(iU,{className:"w-10 h-10 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(ay,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),c.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),c.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),c.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[c.jsx(Eg,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),c.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>c.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[c.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),c.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:J5(m.val,o)})]},h))})]}),c.jsxs("div",{className:"hidden lg:block text-right",children:[c.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),c.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),c.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,b,v,y,x;return c.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[c.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),c.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((b=m.data)==null?void 0:b.account)||""}),c.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((v=m.data)==null?void 0:v.profession)||"Unknown"})]})]}),(x=(y=m.data)==null?void 0:y.topStats)!=null&&x.some(w=>l(w.name))?c.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[c.jsx("span",{className:"leading-none",children:w.name}),c.jsx("span",{className:"tabular-nums leading-none",children:J5(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,b=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,v=m?"":"Total ",y=m?" /s":"",x=[{icon:uU,title:`Down Contribution${y}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:yd,title:`${v}Barrier${y}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:S3,title:`${v}Healing${y}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:bU,title:`${v}Dodges${y}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:yp,title:`${v}Strips${y}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:lU,title:`${v}Cleanses${y}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:cU,title:`${v}CC${y}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:A3,title:`${v}Stab Gen${y}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:aU,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:x.map(S=>{var C,j,M,T;const $=a==="all",D=Eoe((b==null?void 0:b[S.statKey])||[],S.higherIsBetter),I=D[0],O=I?{...S.data,value:Number(I.value||0),player:I.account||((C=S.data)==null?void 0:C.player)||"-",count:I.count||((j=S.data)==null?void 0:j.count)||0,profession:I.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:I.professionList||((T=S.data)==null?void 0:T.professionList)||[]}:S.data;return c.jsx(Moe,{...S,data:O,active:$,onClick:()=>i(q=>q==="all"?null:"all"),rows:D,formatValue:w,renderProfessionIcon:u},S.statKey)})})})()]}):null,Toe=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",u=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=g.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((b,v)=>{const y=Number((b==null?void 0:b[u])||0);return Number((v==null?void 0:v[u])||0)-y||Number((v==null?void 0:v.hits)||0)-Number((b==null?void 0:b.hits)||0)||String((b==null?void 0:b.name)||"").localeCompare(String((v==null?void 0:v.name)||""))}),[s,d,f,e.topSkills,u]),m=g.useMemo(()=>Math.max(1,...p.map(b=>Number((b==null?void 0:b[u])||0))),[p,u]),h=typeof n=="function";return c.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[c.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(vk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&c.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(b=>{const v=(t||e.topSkillsMetric)===b.id;return c.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(b.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${v?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:b.label},b.id)})})]}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[p.map((b,v)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",v+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(wr,{name:b.name,iconUrl:b.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(b[u]||0).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",b.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(b[u]||0)/m*100}%`}})})]})]},`outgoing-${b.name||"unknown"}-${v}`)),p.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),c.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(eU,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((b,v)=>{var y;return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",v+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(wr,{name:b.name,iconUrl:b.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(b.damage).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",b.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${b.damage/(((y=e.topIncomingSkills[0])==null?void 0:y.damage)||1)*100}%`}})})]})]},`incoming-${b.name||"unknown"}-${v}`)}),e.topIncomingSkills.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Poe=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return c.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Dr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Jw,{children:[c.jsx(x0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>c.jsx(Md,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(To,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(ry,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Jw,{children:[c.jsx(x0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>c.jsx(Md,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(To,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},Ooe=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>c.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Dr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[c.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),c.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):c.jsx("div",{className:"h-[260px] w-full",children:c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[c.jsx(Js,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),c.jsx(Zs,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),c.jsx(To,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const u=(l=s==null?void 0:s[0])==null?void 0:l.payload,d=(u==null?void 0:u.isWin)===!0?"Win":(u==null?void 0:u.isWin)===!1?"Loss":"Unknown";return`${typeof(u==null?void 0:u.label)=="string"&&u.label.trim().length>0?u.label:`Log ${o}`}  ${d}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),c.jsx(li,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),c.jsx(li,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Ioe=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Nk,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),c.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Jw,{children:[c.jsx(x0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>c.jsx(Md,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),c.jsx(To,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),c.jsx(G4,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>c.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",c.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),Q5=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:b,spikeMode:v,setSpikeMode:y,damageBasis:x="all",setDamageBasis:w,showDamageBasisToggle:S=!1,selectedSpikePlayerKey:C,setSelectedSpikePlayerKey:j,selectedSpikePlayer:M,spikeChartData:T,spikeChartMaxY:$,selectedSpikeFightIndex:D,setSelectedSpikeFightIndex:I,spikeDrilldownTitle:O,spikeDrilldownData:q,spikeDrilldownDownIndices:X,spikeDrilldownDeathIndices:se,spikeFightSkillRows:we=[],spikeFightSkillTitle:ne="Skill Damage (Selected Fight)",formatWithCommas:H,renderProfessionIcon:W})=>{const[k,V]=g.useState(null),[P,N]=g.useState(null),F=Oe=>String(Oe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=o===e,Q=M?Ls(M.profession):"#fda4af",le=x==="downContribution",Y=v==="hit"?le?"Highest Down Contribution":"Highest Damage":v==="1s"?"1s Burst":v==="5s"?"5s Burst":"30s Burst",L=Oe=>v==="hit"?le?Oe.peakHitDown:Oe.peakHit:v==="1s"?le?Oe.peak1sDown:Oe.peak1s:v==="5s"?le?Oe.peak5sDown:Oe.peak5s:le?Oe.peak30sDown:Oe.peak30s,B=b.flatMap(Oe=>Oe.players.map(ie=>({...ie,groupProfession:Oe.profession}))).sort((Oe,ie)=>{const Fe=L(ie)-L(Oe);return Fe!==0?Fe:Oe.displayName.localeCompare(ie.displayName)}),re=T.reduce((Oe,ie)=>!Oe||ie.damage>Oe.damage?ie:Oe,null),R=Oe=>{if(!Number.isFinite(Oe)||Oe<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(Oe))}catch{return""}},ce=q.reduce((Oe,ie)=>Math.max(Oe,Number(ie.value||0)),0),ye=Math.max(1,ce),G=new Set(X),me=new Set(se),Pe=q.map((Oe,ie)=>({...Oe,downMarker:G.has(ie)?Math.max(Number(Oe.value||0),ye*.88):null,deathMarker:me.has(ie)?Math.max(Number(Oe.value||0),ye*.96):null})),mt=Oe=>ie=>{const Fe=Number(ie==null?void 0:ie.cx),te=Number(ie==null?void 0:ie.cy),bt=Number(ie==null?void 0:ie.index);if(!Number.isFinite(Fe)||!Number.isFinite(te)||!Number.isFinite(bt))return null;const Lt=(ie==null?void 0:ie.payload)||{},zn=Oe==="down"?Lt==null?void 0:Lt.downMarker:Lt==null?void 0:Lt.deathMarker;if(!Number.isFinite(Number(zn)))return null;const Ne=`${Oe}-${bt}`,Qe=k===Ne,Ft=Oe==="down"?"#facc15":"#ef4444",an=Oe==="down"?"#fde047":"#f87171";return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{V(Ne),N({x:Fe,y:te,kind:Oe,label:String((Lt==null?void 0:Lt.label)||"")})},onMouseLeave:()=>{V(sn=>sn===Ne?null:sn),N(sn=>(sn==null?void 0:sn.kind)===Oe&&(sn==null?void 0:sn.label)===String((Lt==null?void 0:Lt.label)||"")?null:sn)},children:[c.jsx("circle",{cx:Fe,cy:te,r:Qe?10:7,fill:an,opacity:Qe?.35:.18}),c.jsx("circle",{cx:Fe,cy:te,r:Qe?7:5.5,fill:Ft,stroke:"#0f172a",strokeWidth:Qe?2.25:1.75})]})};return c.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${U?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:U?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(yp,{className:`w-5 h-5 ${i}`}),t]}),c.jsx("p",{className:"text-xs text-gray-400",children:n})]}),c.jsxs("div",{className:`flex items-center gap-3 ${U?"pr-10 md:pr-0":""}`,children:[S&&w&&c.jsx(Nn,{value:x,onChange:Oe=>w(Oe),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:v,onChange:Oe=>y(Oe),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>U?u():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${U?"absolute top-2 right-2 md:static":""}`,"aria-label":U?`Close ${t}`:`Expand ${t}`,title:U?"Close":"Expand",children:U?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),c.jsx("input",{type:"search",value:m,onChange:Oe=>h(Oe.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:B.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):c.jsx("div",{className:"p-1.5 space-y-1",children:B.map(Oe=>{const ie=C===Oe.key;return c.jsx("button",{type:"button",onClick:()=>j(Oe.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ie?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[W(Oe.profession,void 0,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:Oe.displayName}),c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:Oe.groupProfession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[Oe.characterName||Oe.displayName,"  ",Oe.logs," ",Oe.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:H(L(Oe)||0,0)})]})},Oe.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",Y]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.length," ",T.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!M||T.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:T,onClick:Oe=>{const ie=Number(Oe==null?void 0:Oe.activeTooltipIndex);Number.isFinite(ie)&&I(D===ie?null:ie)},children:[c.jsx(Js,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Zs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,$)],tickFormatter:Oe=>H(Oe,0)}),c.jsx(To,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(Oe,ie)=>[H(Number(Oe||0),0),String(ie||"")],labelFormatter:(Oe,ie)=>{var Fe;const te=(Fe=ie==null?void 0:ie[0])==null?void 0:Fe.payload;if(!te)return"";const bt=F(te.fullLabel||"");return v==="hit"&&te.skillName?`${bt}  ${te.skillName}`:bt}}),c.jsx(li,{type:"monotone",dataKey:"damage",name:M.displayName,stroke:Q,strokeWidth:3,dot:Oe=>{var ie;const Fe=Number((ie=Oe==null?void 0:Oe.payload)==null?void 0:ie.index);if(!Number.isFinite(Fe))return null;const te=D===Fe;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:bt=>{bt.stopPropagation(),I(te?null:Fe)},children:[c.jsx("circle",{cx:Oe.cx,cy:Oe.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:Oe.cx,cy:Oe.cy,r:te?4:3,fill:Q,stroke:te?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:te?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(li,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),M&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[W(M.profession,M.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:M.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:v==="hit"?le?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${Y}`}),c.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:H(L(M)||0,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:v==="hit"?"Peak Skill / Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const Oe=F((re==null?void 0:re.fullLabel)||M.peakFightLabel||"N/A"),ie=R(Number((re==null?void 0:re.timestamp)||0)),Fe=ie?`${ie} - ${Oe}`:Oe;return v!=="hit"?Fe:M.peakSkillName?`${M.peakSkillName}  ${Fe}`:Fe})()})]})]}),M&&D!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:O}),c.jsx("button",{type:"button",onClick:()=>I(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:q.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsxs(c.Fragment,{children:[c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:Pe,children:[c.jsx(Js,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Zs,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:Oe=>H(Oe,0)}),c.jsx(To,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(Oe,ie)=>{const Fe=String(ie||"");return Fe==="Down"?["Downed","Event"]:Fe==="Death"?["Dead","Event"]:[H(Number(Oe||0),0),"Damage"]},labelFormatter:Oe=>String(Oe||"")}),c.jsx(li,{type:"monotone",dataKey:"value",name:"Damage",stroke:Q,strokeWidth:2.5,dot:v==="hit"?{r:2}:!1,activeDot:{r:4}}),c.jsx(li,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:mt("down")}),c.jsx(li,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:mt("death")})]})}),P&&c.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,P.x)}px`,top:`${Math.max(8,P.y-38)}px`,transform:"translate(-50%, -100%)"},children:[c.jsx("div",{className:`${P.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:P.kind==="down"?"Down":"Death"}),c.jsx("div",{className:"text-gray-300",children:P.label})]})]})})]}),M&&D!==null&&c.jsx("div",{className:`mt-4 transition-all duration-300 ${we.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const Oe=Fe=>Number(le?Fe.downContribution||0:Fe.damage||0),ie=[...we].filter(Fe=>Oe(Fe)>0).sort((Fe,te)=>Oe(te)-Oe(Fe)||Number(te.hits||0)-Number(Fe.hits||0)).slice(0,30);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:ne}),c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[ie.length," ",ie.length===1?"skill":"skills"]})]}),ie.length===0?c.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):c.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:le?"Down Contrib":"Damage"}),c.jsx("div",{className:"text-right",children:"Hits"})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:ie.map((Fe,te)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[c.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[Fe.icon?c.jsx("img",{src:Fe.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):c.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),c.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:Fe.skillName,children:Fe.skillName})]}),c.jsx("div",{className:"text-right font-mono text-rose-200",children:H(Number(le?Fe.downContribution||0:Fe.damage||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:H(Number(Fe.hits||0),0)})]},`${Fe.skillName}-${te}`))})]})]})})()})]})},_oe=10,jh=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},Z5=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Loe=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Foe=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(""),[s,l]=g.useState("squad"),[u,d]=g.useState("desc"),f=i.trim().toLowerCase(),p=g.useMemo(()=>{const v=e.filter(x=>{if(!f)return!0;const w=String(x.account||"").toLowerCase(),S=(x.characterNames||[]).join(" ").toLowerCase(),C=(x.classTimes||[]).map(j=>String(j.profession||"").toLowerCase()).join(" ");return w.includes(f)||S.includes(f)||C.includes(f)}),y=x=>Number(s==="fight"?x.combatTimeMs??x.squadTimeMs??0:x.squadTimeMs??0);return[...v].sort((x,w)=>{const S=y(w)-y(x);return S!==0?u==="desc"?S:-S:String(x.account||"").localeCompare(String(w.account||""))})},[e,f,u,s]),m=v=>{if(s===v){d(y=>y==="desc"?"asc":"desc");return}l(v),d("desc")},h=p.length>_oe,b=()=>{const v=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],y=p.map(M=>{const T=(M.classTimes||[]).map($=>`${$.profession} (${jh($.timeMs)})`).join("; ");return[M.account||"",(M.characterNames||[]).join(", "),T,Z5(Number(M.combatTimeMs??M.squadTimeMs??0)),Z5(M.squadTimeMs)]}),x=[v,...y].map(M=>M.map(T=>Loe(String(T??""))).join(",")).join(`
`),w=new Blob([x],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),C=document.createElement("a"),j=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=S,C.download=`attendance-ledger-${j}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S)};return c.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(gp,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),c.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),c.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[c.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),c.jsxs("button",{type:"button",onClick:b,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[c.jsx(oU,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?u==="desc"?" ":" ":""]})}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?u==="desc"?" ":" ":""]})})]})}),c.jsxs("tbody",{children:[p.map(v=>c.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:v.account}),c.jsx("td",{className:"py-2 px-4 text-gray-300",children:v.characterNames.length>0?v.characterNames.join(", "):"-"}),c.jsx("td",{className:"py-2 px-4",children:c.jsx("div",{className:"flex flex-wrap gap-1.5",children:v.classTimes.length>0?v.classTimes.map(y=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(y.profession)?c.jsx("img",{src:t(y.profession),alt:y.profession,className:"w-3.5 h-3.5 object-contain"}):null,c.jsx("span",{children:y.profession}),c.jsx("span",{className:"text-gray-400",children:jh(y.timeMs)})]},`${v.account}-${y.profession}`)):c.jsx("span",{className:"text-gray-500",children:"-"})})}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:jh(Number(v.combatTimeMs??v.squadTimeMs??0))}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:jh(v.squadTimeMs)})]},v.account)),p.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Roe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},$oe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null),[s,l]=g.useState(""),u=s.trim().toLowerCase(),d=du("svg/commander_tag.svg");g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=g.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!u)return!1;const h=String(m.account||"").toLowerCase(),b=String(m.characterName||"").toLowerCase(),v=String(m.profession||"").toLowerCase();return h.includes(u)||b.includes(u)||v.includes(u)};return c.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Dr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return c.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Roe(m.timestamp)]})]},m.id)})})]}),c.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?c.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>c.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[c.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),c.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,b)=>(()=>{const v=p(h);return c.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${v?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?c.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,c.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[c.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?c.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):c.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),c.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:c.jsx("span",{className:"truncate min-w-0",children:h.account})}),c.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${b}`)})())})]},`${f.id}-party-${m.party}`))}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Boe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},zoe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null);g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(u=>u.id===i))&&o(e[0].id)},[e,i]);const s=g.useMemo(()=>e.find(u=>u.id===i)||null,[e,i]),l=g.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([u,d])=>({profession:u,count:Number(d||0)})).filter(u=>u.count>0).sort((u,d)=>d.count-u.count||u.profession.localeCompare(d.profession)):[],[s]);return c.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Pl,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(u=>{const d=u.id===i;return c.jsxs("button",{onClick:()=>o(u.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:u.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:u.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[u.duration||"--:--","  ",Boe(u.timestamp)]})]},u.id)})})]}),c.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),c.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(u=>{const d=Array.isArray(u.players)&&u.players.length>0?u.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession)||f.characterName.localeCompare(p.characterName)||f.account.localeCompare(p.account)):Object.entries(u.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession));return c.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[c.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:u.party>0?`P${u.party}`:"Unk"}),c.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,p)=>c.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?c.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):c.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${u.party}-${f.profession}-${f.account||f.characterName||p}-${p}`)):c.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${u.party}`)})})]}),c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),c.jsx("div",{className:"p-2",children:l.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(u=>c.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[c.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:u.profession,children:t(u.profession)?c.jsx("img",{src:t(u.profession),alt:u.profession,className:"w-3 h-3 object-contain"}):c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),c.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:u.count})]},`${s.id}-enemy-${u.profession}`))}):c.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Uoe=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:u,canShareDiscord:d,onShare:f})=>{const p=u||!d,m=d?"":"Select a Discord webhook to enable sharing.";return c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[c.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&c.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:c.jsx(N3,{className:"w-6 h-6"})}),c.jsxs("div",{className:"space-y-0",children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Uc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),c.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&c.jsxs("div",{className:"flex items-center gap-3",children:[a&&c.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[c.jsx(ay,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),c.jsxs("button",{onClick:l,disabled:s,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[c.jsx(yU,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),c.jsxs("div",{className:"relative group",title:m,children:[c.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(mU,{className:"w-4 h-4"}),u?"Sharing...":"Share to Discord"]}),!d&&c.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Voe=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=g.useState("idle"),u=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),c.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&c.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&c.jsx(fU,{className:"w-3 h-3 animate-spin"}),r==="built"&&c.jsx(j3,{className:"w-3 h-3"}),r==="errored"&&c.jsx(M3,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),u&&c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Woe=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):c.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Yo="space-y-1 pr-1 max-h-72 overflow-y-auto",qoe=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Hoe=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","boon-uptime","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],eE={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},Cv=[];function Koe({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,statsDataProgress:h,aggregationResult:b}){var v,y;const x=n||O3,w=r||Yx,S=i||FU,C=w.showTopStats,j=w.showMvp,M=w.roundCountStats,T=w.topStatsMode||"total",[$,D]=g.useState(w.topSkillsMetric||"damage"),I=(a?w.topSkillsMetric:$)||"damage",O=S.uploading,q=S.message,X=S.url,se=S.buildStatus,we=!u&&!1,[ne,H]=g.useState(!0),W=g.useCallback(A=>d?d(A):!0,[d]),k=!!b,{result:V,aggregationProgress:P,aggregationDiagnostics:N}=VV({logs:k?[]:e,precomputedStats:k?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),F=b||V,U=(b==null?void 0:b.aggregationProgress)||P,Q=(b==null?void 0:b.aggregationDiagnostics)||N,{stats:le,skillUsageData:Y}=F,L=g.useMemo(()=>{const A=Math.max(0,Number((h==null?void 0:h.total)||e.length||0)),_=Math.min(A,Math.max(0,Number((h==null?void 0:h.pending)||0))),ee=Math.min(A,Math.max(0,Number((h==null?void 0:h.processed)||A-_))),ue=Math.max(0,Number((h==null?void 0:h.unavailable)||0));if(h!=null&&h.active&&A>0&&_>0){const Ke=A>0?Math.max(1,Math.min(99,Math.round(ee/A*100))):0,Tt=ue>0?`  ${ue} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${ee} of ${A} fights prepared${Tt}`,progressPercent:Ke}}if(A>0&&ue>=A)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${ue} of ${A} fights could not be loaded from dps.report`,progressPercent:100};if(A>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const de=Math.max(0,Number((U==null?void 0:U.total)||e.length||0));if(!(U!=null&&U.active&&(U==null?void 0:U.phase)!=="idle"&&(U==null?void 0:U.phase)!=="settled"&&de>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const Ve=Math.min(Math.max(Number((U==null?void 0:U.streamed)||0),0),de),Z=(U==null?void 0:U.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",xe=(U==null?void 0:U.phase)==="streaming"?`${Ve} of ${de} fights loaded`:"All fights loaded  calculating final totals",st=(U==null?void 0:U.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(Ve/de*100))):99;return{active:!0,phaseLabel:Z,progressText:xe,progressPercent:st}},[h,U,e.length]),B=g.useMemo(()=>{if(!Q)return"";const A=ue=>{const de=Math.max(0,Number(ue||0));return de>=1e4?`${(de/1e3).toFixed(1)}s`:de>=1e3?`${(de/1e3).toFixed(2)}s`:`${Math.round(de)}ms`},_=[`Load ${A(Q.streamMs)}`,`Calculate ${A(Q.computeMs)}`,`Total ${A(Q.totalMs)}`],ee=Q.transferStripStats;if(Q.mode==="worker"&&ee){const ue=Number(ee.spikeSkillRowsRemoved||0),de=Number(ee.incomingSkillRowsRemoved||0),Ve=Number(ee.playerSkillMapsRemoved||0),Z=ue+de+Ve;Z>0&&_.push(`Cleaned up ${Z.toLocaleString()} temporary records`)}return Q.mode==="worker"&&Number(Q.droppedLogMessages||0)>0&&_.push(`Skipped ${Number(Q.droppedLogMessages||0)} outdated updates`),_.join("  ")},[Q]),re=L.active,R=L.phaseLabel,ce=L.progressText,ye=re&&L.progressPercent<100;g.useEffect(()=>{if(re){H(!1);return}let A=!1;const _=()=>{A||H(!0)},ee=window.requestIdleCallback;let ue=null;return typeof ee=="function"?ue=ee(()=>_(),{timeout:220}):ue=window.setTimeout(_,60),()=>{if(A=!0,ue!==null)if(typeof ee=="function"){const de=window.cancelIdleCallback;typeof de=="function"&&de(ue)}else window.clearTimeout(ue)}},[re]);const G=ne&&!re,me=G&&(W("top-skills-outgoing")||W("player-breakdown")||W("damage-breakdown")),Pe=G&&W("skill-usage"),mt=G&&W("apm-stats"),Oe=G&&W("spike-damage"),ie=G&&W("incoming-strike-damage"),Fe=G&&W("conditions-outgoing"),te=g.useMemo(()=>{var A,_,ee,ue,de,Ve;const Z=le&&typeof le=="object"?le:{},xe=Wt=>Array.isArray(Wt)?Wt:[],st=Wt=>Wt&&typeof Wt=="object"?Wt:{},Ke=(Wt,$t)=>Wt&&typeof Wt=="object"?Wt:$t,Tt={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Bt={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},at={...Z,total:Number(Z.total||0),timelineData:xe(Z.timelineData),mapData:xe(Z.mapData),fightBreakdown:xe(Z.fightBreakdown),topSkills:xe(Z.topSkills),topIncomingSkills:xe(Z.topIncomingSkills),leaderboards:st(Z.leaderboards),topStatsPerSecond:st(Z.topStatsPerSecond),topStatsLeaderboardsPerSecond:st(Z.topStatsLeaderboardsPerSecond),maxDownContrib:Ke(Z.maxDownContrib,Tt),maxBarrier:Ke(Z.maxBarrier,Tt),maxHealing:Ke(Z.maxHealing,Tt),maxDodges:Ke(Z.maxDodges,Tt),maxStrips:Ke(Z.maxStrips,Tt),maxCleanses:Ke(Z.maxCleanses,Tt),maxCC:Ke(Z.maxCC,Tt),maxStab:Ke(Z.maxStab,Tt),closestToTag:Ke(Z.closestToTag,Tt),mvp:{...Bt,...st(Z.mvp),topStats:xe((A=Z==null?void 0:Z.mvp)==null?void 0:A.topStats)},silver:Ke(Z.silver,Bt),bronze:Ke(Z.bronze,Bt),avgMvpScore:Number(Z.avgMvpScore||0),offensePlayers:xe(Z.offensePlayers),defensePlayers:xe(Z.defensePlayers),damageMitigationPlayers:xe(Z.damageMitigationPlayers),damageMitigationMinions:xe(Z.damageMitigationMinions),supportPlayers:xe(Z.supportPlayers),healingPlayers:xe(Z.healingPlayers),boonTables:xe(Z.boonTables),boonTimeline:xe(Z.boonTimeline),boonUptimeTimeline:xe(Z.boonUptimeTimeline),specialTables:xe(Z.specialTables),outgoingConditionSummary:xe(Z.outgoingConditionSummary),outgoingConditionPlayers:xe(Z.outgoingConditionPlayers),incomingConditionSummary:xe(Z.incomingConditionSummary),incomingConditionPlayers:xe(Z.incomingConditionPlayers),squadClassData:xe(Z.squadClassData),enemyClassData:xe(Z.enemyClassData),attendanceData:xe(Z.attendanceData),squadCompByFight:xe(Z.squadCompByFight),fightDiffMode:xe(Z.fightDiffMode),playerSkillBreakdowns:xe(Z.playerSkillBreakdowns)},Pt=xe((_=at.leaderboards)==null?void 0:_.downContrib).map(Wt=>({...Wt,value:Number((Wt==null?void 0:Wt.value)??0)})).filter(Wt=>Number.isFinite(Wt.value)).sort((Wt,$t)=>$t.value-Wt.value||String((Wt==null?void 0:Wt.account)||"").localeCompare(String(($t==null?void 0:$t.account)||"")))[0];return Pt&&(at.maxDownContrib={...at.maxDownContrib||{},value:Number(Pt.value||0),player:String(Pt.account||((ee=at.maxDownContrib)==null?void 0:ee.player)||"-"),count:Number(Pt.count||((ue=at.maxDownContrib)==null?void 0:ue.count)||0),profession:String(Pt.profession||((de=at.maxDownContrib)==null?void 0:de.profession)||"Unknown"),professionList:Array.isArray(Pt.professionList)?Pt.professionList:((Ve=at.maxDownContrib)==null?void 0:Ve.professionList)||[]}),at},[le]);g.useEffect(()=>{var A;if(!((A=window==null?void 0:window.electronAPI)!=null&&A.fetchImageAsDataUrl)||re)return;let _=!1;const ee=()=>{if(_)return;const Ve=new Set,Z=st=>{typeof st=="string"&&/^https?:\/\//i.test(st)&&Ve.add(st)},xe=st=>{st.forEach(Ke=>{Z(Ke==null?void 0:Ke.icon),Z(Ke==null?void 0:Ke.iconUrl)})};xe(Array.isArray(te==null?void 0:te.topSkills)?te.topSkills:[]),xe(Array.isArray(te==null?void 0:te.topIncomingSkills)?te.topIncomingSkills:[]),xe(Array.isArray(te==null?void 0:te.topSkillsByDamage)?te.topSkillsByDamage:[]),xe(Array.isArray(te==null?void 0:te.topSkillsByDownContribution)?te.topSkillsByDownContribution:[]),xe(Array.isArray(te==null?void 0:te.outgoingConditionSummary)?te.outgoingConditionSummary:[]),xe(Array.isArray(te==null?void 0:te.incomingConditionSummary)?te.incomingConditionSummary:[]),(Array.isArray(te==null?void 0:te.boonTables)?te.boonTables:[]).forEach(st=>{Z(st==null?void 0:st.icon)}),(Array.isArray(te==null?void 0:te.specialTables)?te.specialTables:[]).forEach(st=>{Z(st==null?void 0:st.icon)}),me&&(Array.isArray(te==null?void 0:te.playerSkillBreakdowns)?te.playerSkillBreakdowns:[]).forEach(st=>{const Ke=Array.isArray(st==null?void 0:st.skills)?st.skills:[];xe(Ke)}),Ve.size>0&&toe(Array.from(Ve))},ue=window.requestIdleCallback;let de=null;return typeof ue=="function"?de=ue(()=>ee(),{timeout:500}):de=window.setTimeout(ee,120),()=>{if(_=!0,de!==null)if(typeof ue=="function"){const Ve=window.cancelIdleCallback;typeof Ve=="function"&&Ve(de)}else window.clearTimeout(de)}},[te,re,me]);const bt=g.useMemo(()=>{const A=(l==null?void 0:l.skillUsageData)??Y;return{logRecords:Array.isArray(A==null?void 0:A.logRecords)?A.logRecords:[],players:Array.isArray(A==null?void 0:A.players)?A.players:[],skillOptions:Array.isArray(A==null?void 0:A.skillOptions)?A.skillOptions:[],resUtilitySkills:Array.isArray(A==null?void 0:A.resUtilitySkills)?A.resUtilitySkills:[]}},[Y,l==null?void 0:l.skillUsageData]),Lt=bt.players.length>0;g.useEffect(()=>{a||D(w.topSkillsMetric||"damage")},[w.topSkillsMetric,a]);const zn=A=>{if(a){a({...w,topSkillsMetric:A});return}D(A)},{scrollContainerRef:Ne}=xU(u,!0,ye),{devMockUploadState:Qe,webCopyStatus:Ft,setWebCopyStatus:an,handleWebUpload:sn,handleDevMockUpload:hr}=qU({logs:e,stats:te,skillUsageData:bt,activeStatsViewSettings:r||Yx,uiTheme:p||"classic",embedded:u,onWebUpload:o}),{sharing:Qn,handleShare:dn}=$V(u),Aa={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},gn=A=>{const _=Aa[A];return _?x[_]>0:!0},[Ln,gr]=g.useState(null),[En,sc]=g.useState(null),[ya,Lr]=g.useState("totalBuffs"),[yu,lc]=g.useState("total"),[Ro,Ma]=g.useState(""),[fo,ba]=g.useState(""),[Kr,Ea]=g.useState(null),[va,ll]=g.useState("squadBuffs"),[ds,Bi]=g.useState(""),[Zn,po]=g.useState(null),[$o,cc]=g.useState(null),[cl,Kd]=g.useState(""),[bi,ul]=g.useState(null),[Bo,bu]=g.useState(""),[K,ke]=g.useState(null),[Xe,yt]=g.useState(null),[Vt,Rt]=g.useState(null),[Nt,yn]=g.useState(""),[fn,yr]=g.useState(null),[nr,lt]=g.useState(""),[E,z]=g.useState(""),[J,ae]=g.useState(""),[fe,_e]=g.useState(""),[Ie,vt]=g.useState(""),[St,zt]=g.useState(""),[Be,pe]=g.useState(""),[he,et]=g.useState("outgoing"),[ve,tt]=g.useState(""),[nt,wt]=g.useState("damage"),[je,Me]=g.useState("damageTaken"),[Se,De]=g.useState("totalMitigation"),[$e,ge]=g.useState("all"),[ze,Je]=g.useState({key:"damage",dir:"desc"}),oe=!($e!=="all"&&qoe.has($e)),Le=oe?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",qe=oe?ze:{key:"applications",dir:ze.key==="applications"?ze.dir:"desc"},[ht,gt]=g.useState("condiCleanse"),[We,it]=g.useState("healing"),[Ce,Ge]=g.useState("total"),[ot,ut]=g.useState("all"),[Te,ft]=g.useState("total"),[xt,jt]=g.useState("total"),[mn,on]=g.useState("total"),[ln,rt]=g.useState("total"),[Kn,pn]=g.useState("all"),[Cn,Fr]=g.useState("squad"),[Tr,In]=g.useState("player"),[Da,ra]=g.useState(""),[ni,uc]=g.useState(""),[Ta,fs]=g.useState(null),[ri,zi]=g.useState([]),[Dn,vi]=g.useState(null),[aa,Wa]=g.useState(null),[Fn,Ze]=g.useState("hit"),[Re,Ye]=g.useState("all"),[He,Dt]=g.useState(null),[Gt,hn]=g.useState(null),[Yt,Qt]=g.useState("hit"),[br,qa]=g.useState([]),[xn,dc]=g.useState(null),[Cr,fc]=g.useState(!1),zo=g.useRef(null),[Em,ai]=g.useState("sizes"),[ps,Gd]=g.useState("total"),Ui=ps==="perSecond",[dl,vu]=g.useState(null),[ii,pc]=g.useState("total"),[xi,ms]=g.useState(null),[hs,yb]=g.useState(null),[gs,bb]=g.useState(null),[r6,a6]=g.useState(""),[mc,vb]=g.useState(null),[i6,xj]=g.useState(null),[Uo,Dm]=g.useState(null),[o6,s6]=g.useState(""),[l6,c6]=g.useState("player"),[hc,xb]=g.useState(null),[u6,wj]=g.useState(null),[ys,Tm]=g.useState(null),d6=mt?bt:eE,{apmSpecBuckets:fl}=WV(d6),bs=g.useMemo(()=>me?te.playerSkillBreakdowns||[]:Cv,[me,te.playerSkillBreakdowns]),wb=g.useMemo(()=>{const A=new Map;return bs.forEach(_=>A.set(_.key,_)),A},[bs]),xu=g.useMemo(()=>{const A=new Map;return bs.forEach(_=>{const ee=_.profession||"Unknown";A.has(ee)||A.set(ee,{profession:ee,players:[],skills:new Map});const ue=A.get(ee);ue.players.push(_),_.skills.forEach(de=>{var Ve;const Z=ue.skills.get(de.id)||{...de,damage:0,downContribution:0};Z.damage+=Number(de.damage||0),Z.downContribution+=Number(de.downContribution||0),!Z.icon&&de.icon&&(Z.icon=de.icon),(Ve=Z.name)!=null&&Ve.startsWith("Skill ")&&!de.name.startsWith("Skill ")&&(Z.name=de.name),ue.skills.set(de.id,Z)})}),Array.from(A.values()).map(_=>{const ee=Array.from(_.skills.values()).sort((de,Ve)=>Ve.damage-de.damage),ue=ee.reduce((de,Ve)=>(de[Ve.id]=Ve,de),{});return{profession:_.profession,players:_.players,skills:ee,skillMap:ue}}).sort((_,ee)=>_.profession.localeCompare(ee.profession))},[bs]),vs=mc&&wb.get(mc)||null,f6=vs&&Uo&&(((v=vs.skillMap)==null?void 0:v[Uo])||vs.skills.find(A=>A.id===Uo))||null,kb=g.useMemo(()=>{const A=new Map;return xu.forEach(_=>A.set(_.profession,_)),A},[xu]),pl=hc&&kb.get(hc)||null,p6=pl&&ys&&((y=pl.skillMap)==null?void 0:y[ys])||null,Pm=(A,_)=>{if(!_)return null;const ee=Number(_.index);if(Number.isInteger(ee)&&ee>=0&&ee<A.length)return A[ee]||null;const ue=String(_.fightId||"").trim();return ue&&A.find(de=>String((de==null?void 0:de.id)||"").trim()===ue)||null},ml=A=>{if(A&&typeof A=="object"){const _=Number((A==null?void 0:A.damage)||0),ee=Array.isArray(A==null?void 0:A.skillRows)?A.skillRows:void 0,ue=(ee||[]).reduce((de,Ve)=>de+Number((Ve==null?void 0:Ve.downContribution)||0),0);return{hit:Number((A==null?void 0:A.hit)??_),burst1s:Number((A==null?void 0:A.burst1s)||0),burst5s:Number((A==null?void 0:A.burst5s)||0),burst30s:Number((A==null?void 0:A.burst30s)||0),hitDown:Number((A==null?void 0:A.hitDown)||ue||0),burst1sDown:Number((A==null?void 0:A.burst1sDown)||0),burst5sDown:Number((A==null?void 0:A.burst5sDown)||0),burst30sDown:Number((A==null?void 0:A.burst30sDown)||0),skillName:String((A==null?void 0:A.skillName)||""),buckets5s:Array.isArray(A==null?void 0:A.buckets5s)?A.buckets5s:void 0,buckets5sDown:Array.isArray(A==null?void 0:A.buckets5sDown)?A.buckets5sDown:void 0,downIndices5s:Array.isArray(A==null?void 0:A.downIndices5s)?A.downIndices5s:void 0,deathIndices5s:Array.isArray(A==null?void 0:A.deathIndices5s)?A.deathIndices5s:void 0,skillRows:ee}}return{hit:Number(A||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},wi=g.useMemo(()=>{if(!Oe)return{fights:[],players:[]};const A=Ae=>String(Ae||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),_=Ae=>A(Ae).toLowerCase().split(/[^a-z0-9]+/i).map(dt=>dt.trim()).filter(Boolean).map(dt=>dt.length>3&&dt.endsWith("s")?dt.slice(0,-1):dt),ee=(Ae,dt)=>{const Ee=A(Ae),qt=A(dt);if(!qt)return Ee;if(!Ee)return qt;const Zt=_(Ee),Tn=_(qt),nn=new Set(Zt),Et=new Set(Tn),cn=Tn.length>0&&Tn.every(en=>nn.has(en)),Rn=Zt.length>0&&Zt.every(en=>Et.has(en));return cn||Rn?Ee:`${Ee} - ${qt}`},ue=Ae=>{if(Ae==null||Ae==="")return 0;if(typeof Ae=="number")return!Number.isFinite(Ae)||Ae<=0?0:Ae>1e12?Ae:Ae*1e3;if(Ae instanceof Date){const nn=Ae.getTime();return Number.isFinite(nn)&&nn>0?nn:0}const dt=String(Ae).trim();if(!dt)return 0;const Ee=Number(dt);if(Number.isFinite(Ee)&&Ee>0)return Ee>1e12?Ee:Ee*1e3;const qt=Date.parse(dt);if(Number.isFinite(qt)&&qt>0)return qt;const Zt=dt.replace(/([+-]\d{2})$/,"$1:00"),Tn=Date.parse(Zt);return Number.isFinite(Tn)&&Tn>0?Tn:0},de=(Ae,dt)=>ue((Ae==null?void 0:Ae.uploadTime)??(dt==null?void 0:dt.uploadTime)??(Ae==null?void 0:Ae.timeStartStd)??(Ae==null?void 0:Ae.timeStart)??(Ae==null?void 0:Ae.timeEndStd)??(Ae==null?void 0:Ae.timeEnd)),Ve=te==null?void 0:te.spikeDamage,Z=Array.isArray(Ve==null?void 0:Ve.fights)?Ve.fights:[],xe=Array.isArray(Ve==null?void 0:Ve.players)?Ve.players:[],st=Z.some(Ae=>(Ae!=null&&Ae.values&&typeof Ae.values=="object"?Object.values(Ae.values):[]).some(dt=>dt&&typeof dt=="object"&&(Number(dt.burst1s||0)>0||Number(dt.burst5s||0)>0||Number(dt.burst30s||0)>0)))||xe.some(Ae=>Number((Ae==null?void 0:Ae.peak1s)||0)>0||Number((Ae==null?void 0:Ae.peak5s)||0)>0||Number((Ae==null?void 0:Ae.peak30s)||0)>0),Ke=Z.some(Ae=>(Ae!=null&&Ae.values&&typeof Ae.values=="object"?Object.values(Ae.values):[]).some(dt=>dt&&typeof dt=="object"&&(Number(dt.hitDown||0)>0||Number(dt.burst1sDown||0)>0||Number(dt.burst5sDown||0)>0||Number(dt.burst30sDown||0)>0)))||xe.some(Ae=>Number((Ae==null?void 0:Ae.peakHitDown)||0)>0||Number((Ae==null?void 0:Ae.peak1sDown)||0)>0||Number((Ae==null?void 0:Ae.peak5sDown)||0)>0||Number((Ae==null?void 0:Ae.peak30sDown)||0)>0);if((Z.length>0||xe.length>0)&&(st||e.length===0)&&(Re!=="downContribution"||Ke||e.length===0)){const Ae=Z.map((Ee,qt)=>{const Zt=Ee!=null&&Ee.values&&typeof Ee.values=="object"?Ee.values:{};return{id:String((Ee==null?void 0:Ee.id)||`fight-${qt+1}`),shortLabel:String((Ee==null?void 0:Ee.shortLabel)||`F${qt+1}`),fullLabel:A((Ee==null?void 0:Ee.fullLabel)||`Fight ${qt+1}`),timestamp:Number((Ee==null?void 0:Ee.timestamp)||0),values:Zt,maxHit:Number((Ee==null?void 0:Ee.maxHit)??(Ee==null?void 0:Ee.maxDamage)??0),max1s:Number((Ee==null?void 0:Ee.max1s)||0),max5s:Number((Ee==null?void 0:Ee.max5s)||0),max30s:Number((Ee==null?void 0:Ee.max30s)||0),maxHitDown:Number((Ee==null?void 0:Ee.maxHitDown)||0),max1sDown:Number((Ee==null?void 0:Ee.max1sDown)||0),max5sDown:Number((Ee==null?void 0:Ee.max5sDown)||0),max30sDown:Number((Ee==null?void 0:Ee.max30sDown)||0)}}),dt=xe.map(Ee=>({key:String((Ee==null?void 0:Ee.key)||""),account:String((Ee==null?void 0:Ee.account)||"Unknown"),displayName:String((Ee==null?void 0:Ee.displayName)||(Ee==null?void 0:Ee.account)||"Unknown"),characterName:String((Ee==null?void 0:Ee.characterName)||(Ee==null?void 0:Ee.name)||(Ee==null?void 0:Ee.character_name)||(Ee==null?void 0:Ee.display_name)||""),profession:String((Ee==null?void 0:Ee.profession)||"Unknown"),professionList:Array.isArray(Ee==null?void 0:Ee.professionList)?Ee.professionList.map(qt=>String(qt)):[],logs:Number((Ee==null?void 0:Ee.logs)||0),peakHit:Number((Ee==null?void 0:Ee.peakHit)||0),peak1s:Number((Ee==null?void 0:Ee.peak1s)||0),peak5s:Number((Ee==null?void 0:Ee.peak5s)||0),peak30s:Number((Ee==null?void 0:Ee.peak30s)||0),peakHitDown:Number((Ee==null?void 0:Ee.peakHitDown)||0),peak1sDown:Number((Ee==null?void 0:Ee.peak1sDown)||0),peak5sDown:Number((Ee==null?void 0:Ee.peak5sDown)||0),peak30sDown:Number((Ee==null?void 0:Ee.peak30sDown)||0),peakFightLabel:A((Ee==null?void 0:Ee.peakFightLabel)||""),peakSkillName:String((Ee==null?void 0:Ee.peakSkillName)||"")}));return{fights:Ae,players:dt}}const Tt=(Ae,dt)=>{const Ee=(dt==null?void 0:dt.skillMap)||{},qt=(dt==null?void 0:dt.buffMap)||{};let Zt=0,Tn=0,nn="";const Et=en=>{const An=Number(en);if(!Number.isFinite(An))return String(en||"Unknown Skill");const Ni=(Ee==null?void 0:Ee[`s${An}`])||(Ee==null?void 0:Ee[`${An}`]);if(Ni!=null&&Ni.name)return String(Ni.name);const Pr=(qt==null?void 0:qt[`b${An}`])||(qt==null?void 0:qt[`${An}`]);return Pr!=null&&Pr.name?String(Pr.name):`Skill ${An}`},cn=en=>{if(!en||typeof en!="object")return;const An=[Number(en.max),Number(en.maxDamage),Number(en.maxHit)].filter(Zd=>Number.isFinite(Zd)),Ni=An.length>0?Math.max(...An):0;Ni>Zt&&(Zt=Ni,nn=Et(en.id));const Pr=Number(en.downContribution||0);Pr>Tn&&(Tn=Pr)};let Rn=!1;return Array.isArray(Ae==null?void 0:Ae.targetDamageDist)&&Ae.targetDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(An=>{Array.isArray(An)&&An.forEach(Ni=>{Rn=!0,cn(Ni)})})}),(!Rn||Zt<=0)&&Array.isArray(Ae==null?void 0:Ae.totalDamageDist)&&Ae.totalDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(An=>cn(An))}),{peak:Zt,peakDownContribution:Tn,skillName:nn||"Unknown Skill"}},Bt=Ae=>{const dt=Et=>{if(!Array.isArray(Et)||Et.length===0)return[];const cn=[];for(let Rn=0;Rn<Et.length;Rn+=1){const en=Number(Et[Rn]||0),An=Rn>0?Number(Et[Rn-1]||0):0;cn.push(Math.max(0,en-An))}return cn},Ee=Et=>{if(!Array.isArray(Et))return[];const cn=Et.reduce((en,An)=>Math.max(en,Array.isArray(An)?An.length:0),0);if(cn<=0)return[];const Rn=new Array(cn).fill(0);return Et.forEach(en=>{if(Array.isArray(en))for(let An=0;An<cn;An+=1)Rn[An]+=Number(en[An]||0)}),Rn},qt=Et=>Array.isArray(Et)?Et.map(cn=>Number(cn||0)):null,Zt=(Et=>{if(!Array.isArray(Et)||Et.length===0)return null;const cn=Et[0];if(!Array.isArray(cn))return null;if(Array.isArray(cn[0])&&Array.isArray(cn[0][0]))return Ee(cn);if(Array.isArray(cn[0])&&!Array.isArray(cn[0][0])){const Rn=Et.map(en=>qt(Array.isArray(en)?en[0]:null)).filter(en=>Array.isArray(en)&&en.length>0);if(Rn.length>0)return Ee(Rn)}return null})(Ae==null?void 0:Ae.targetDamage1S),Tn=Array.isArray(Ae==null?void 0:Ae.damage1S)&&Array.isArray(Ae.damage1S[0])?Ae.damage1S[0]:null,nn=Zt||(Array.isArray(Tn)?Tn.map(Et=>Number(Et||0)):[]);return dt(nn)},at=(Ae,dt)=>{if(!Array.isArray(Ae)||Ae.length===0||dt<=0)return 0;let Ee=0,qt=0;for(let Zt=0;Zt<Ae.length;Zt+=1)Ee+=Number(Ae[Zt]||0),Zt>=dt&&(Ee-=Number(Ae[Zt-dt]||0)),Zt>=dt-1&&Ee>qt&&(qt=Ee);return Math.max(0,qt)},Pt=(Ae,dt)=>{if(!Array.isArray(Ae)||Ae.length===0||dt<=0)return[];const Ee=[];for(let qt=0;qt<Ae.length;qt+=dt){const Zt=Math.min(qt+dt,Ae.length),Tn=Ae.slice(qt,Zt).reduce((nn,Et)=>nn+Number(Et||0),0);Ee.push(Tn)}return Ee},Wt=(Ae,dt)=>{let Ee=0,qt=0;const Zt=new Map,Tn=nn=>{if(!nn||typeof nn!="object"||nn.indirectDamage)return;const Et=Number(nn.totalDamage||0),cn=Number(nn.downContribution||0);!Number.isFinite(Et)&&!Number.isFinite(cn)||(Ee+=Number.isFinite(Et)?Et:0,qt+=Number.isFinite(cn)?cn:0)};return Array.isArray(Ae==null?void 0:Ae.targetDamageDist)&&Ae.targetDamageDist.forEach(nn=>{Array.isArray(nn)&&nn.forEach(Et=>{Array.isArray(Et)&&Et.forEach(cn=>{const Rn=Number(cn==null?void 0:cn.id);if(Number.isFinite(Rn)){const en=Zt.get(Rn)||{damage:0,downContribution:0};en.damage+=Number((cn==null?void 0:cn.totalDamage)||0),en.downContribution+=Number((cn==null?void 0:cn.downContribution)||0),Zt.set(Rn,en)}Tn(cn)})})}),!(dt!=null&&dt.detailedWvW)&&Array.isArray(Ae==null?void 0:Ae.totalDamageDist)&&Ae.totalDamageDist.forEach(nn=>{Array.isArray(nn)&&nn.forEach(Et=>{const cn=Number(Et==null?void 0:Et.id);if(!Number.isFinite(cn)){Tn(Et);return}const Rn=Zt.get(cn);if(!Rn){Tn(Et);return}const en=Number((Et==null?void 0:Et.totalDamage)||0)-Number(Rn.damage||0),An=Number((Et==null?void 0:Et.downContribution)||0)-Number(Rn.downContribution||0);en<=0&&An<=0||Tn({...Et,totalDamage:Math.max(0,en),downContribution:Math.max(0,An)})})}),{damageTotal:Math.max(0,Ee),downContributionTotal:Math.max(0,qt)}},$t=[],It=new Map;e.forEach(Ae=>{const dt=Ae==null?void 0:Ae.details;if(!dt)return;const Ee=$t.length+1,qt=A(dt.fightName||Ae.fightName||`Fight ${Ee}`),Zt=dt.zone||dt.mapName||dt.map||dt.location||"",Tn=ee(qt,String(Zt||"")),nn={};(Array.isArray(dt.players)?dt.players:[]).forEach(wn=>{if(wn!=null&&wn.notInSquad)return;const _n=String((wn==null?void 0:wn.account)||(wn==null?void 0:wn.name)||"Unknown"),ef=String((wn==null?void 0:wn.character_name)||(wn==null?void 0:wn.display_name)||(wn==null?void 0:wn.name)||""),gc=String((wn==null?void 0:wn.profession)||"Unknown"),yc=`${_n}|${gc}`,Nu=Tt(wn,dt),ju=Number(Nu.peak||0),tf=Number(Nu.peakDownContribution||0),qo=Bt(wn),{damageTotal:yl,downContributionTotal:jb}=Wt(wn,dt),Cb=yl>0?Math.min(1,Math.max(0,jb/yl)):0,bc=qo.map(Ho=>Number(Ho||0)*Cb),Ss=Number(at(qo,1)||0),Cu=Number(at(qo,5)||0),Ue=Number(at(qo,30)||0),kt=Number(at(bc,1)||0),Kt=Number(at(bc,5)||0),kn=Number(at(bc,30)||0),Xt=Math.max(0,Math.ceil(Number((dt==null?void 0:dt.durationMS)||0)/5e3)),rn=Math.max(0,Math.ceil(qo.length/5)),qn=Math.max(0,Math.ceil(bc.length/5)),Gr=Math.max(Xt,rn,qn),$r=Pt(qo,5),vc=Pt(bc,5),Um=Array.from({length:Gr},(Ho,ho)=>Number($r[ho]||0)),rr=Array.from({length:Gr},(Ho,ho)=>Number(vc[ho]||0));nn[yc]={hit:ju,burst1s:Ss,burst5s:Cu,burst30s:Ue,hitDown:tf,burst1sDown:kt,burst5sDown:Kt,burst30sDown:kn,skillName:Nu.skillName,buckets5s:Um,buckets5sDown:rr};const Sn=It.get(yc)||{key:yc,account:_n,displayName:_n,characterName:ef,profession:gc,professionList:[gc],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Sn.logs+=1,Sn.professionList.includes(gc)||Sn.professionList.push(gc),!Sn.characterName&&ef&&(Sn.characterName=ef),ju>Sn.peakHit&&(Sn.peakHit=ju,Sn.peakFightLabel=Tn,Sn.peakSkillName=Nu.skillName),Ss>Sn.peak1s&&(Sn.peak1s=Ss),Cu>Sn.peak5s&&(Sn.peak5s=Cu),Ue>Sn.peak30s&&(Sn.peak30s=Ue),tf>Sn.peakHitDown&&(Sn.peakHitDown=tf),kt>Sn.peak1sDown&&(Sn.peak1sDown=kt),Kt>Sn.peak5sDown&&(Sn.peak5sDown=Kt),kn>Sn.peak30sDown&&(Sn.peak30sDown=kn),It.set(yc,Sn)});const Et=Object.values(nn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.hit)||0)),0),cn=Object.values(nn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst1s)||0)),0),Rn=Object.values(nn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst5s)||0)),0),en=Object.values(nn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst30s)||0)),0),An=Object.values(nn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.hitDown)||0)),0),Ni=Object.values(nn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst1sDown)||0)),0),Pr=Object.values(nn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst5sDown)||0)),0),Zd=Object.values(nn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst30sDown)||0)),0);$t.push({id:Ae.filePath||Ae.id||`fight-${Ee}`,shortLabel:`F${Ee}`,fullLabel:Tn,timestamp:de(dt,Ae),values:nn,maxHit:Et,max1s:cn,max5s:Rn,max30s:en,maxHitDown:An,max1sDown:Ni,max5sDown:Pr,max30sDown:Zd})});const Ut=Array.from(It.values()).sort((Ae,dt)=>dt.peakHit!==Ae.peakHit?dt.peakHit-Ae.peakHit:Ae.displayName.localeCompare(dt.displayName));return{fights:$t,players:Ut}},[e,te,Oe,Re]),ki=g.useMemo(()=>{if(!ie)return{fights:[],players:[]};const A=Z=>String(Z||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),_=te==null?void 0:te.incomingStrikeDamage,ee=Array.isArray(_==null?void 0:_.fights)?_.fights:[],ue=Array.isArray(_==null?void 0:_.players)?_.players:[];if(ee.length===0&&ue.length===0)return{fights:[],players:[]};const de=ee.map((Z,xe)=>{const st=Z!=null&&Z.values&&typeof Z.values=="object"?Z.values:{};return{id:String((Z==null?void 0:Z.id)||`fight-${xe+1}`),shortLabel:String((Z==null?void 0:Z.shortLabel)||`F${xe+1}`),fullLabel:A((Z==null?void 0:Z.fullLabel)||`Fight ${xe+1}`),timestamp:Number((Z==null?void 0:Z.timestamp)||0),values:st,maxHit:Number((Z==null?void 0:Z.maxHit)??(Z==null?void 0:Z.maxDamage)??0),max1s:Number((Z==null?void 0:Z.max1s)||0),max5s:Number((Z==null?void 0:Z.max5s)||0),max30s:Number((Z==null?void 0:Z.max30s)||0),maxHitDown:Number((Z==null?void 0:Z.maxHitDown)||0),max1sDown:Number((Z==null?void 0:Z.max1sDown)||0),max5sDown:Number((Z==null?void 0:Z.max5sDown)||0),max30sDown:Number((Z==null?void 0:Z.max30sDown)||0)}}),Ve=ue.map(Z=>({key:String((Z==null?void 0:Z.key)||""),account:String((Z==null?void 0:Z.account)||"Unknown"),displayName:String((Z==null?void 0:Z.displayName)||(Z==null?void 0:Z.account)||"Unknown"),characterName:String((Z==null?void 0:Z.characterName)||(Z==null?void 0:Z.name)||(Z==null?void 0:Z.character_name)||(Z==null?void 0:Z.display_name)||""),profession:String((Z==null?void 0:Z.profession)||"Unknown"),professionList:Array.isArray(Z==null?void 0:Z.professionList)?Z.professionList.map(xe=>String(xe)):[],logs:Number((Z==null?void 0:Z.logs)||0),peakHit:Number((Z==null?void 0:Z.peakHit)||0),peak1s:Number((Z==null?void 0:Z.peak1s)||0),peak5s:Number((Z==null?void 0:Z.peak5s)||0),peak30s:Number((Z==null?void 0:Z.peak30s)||0),peakHitDown:Number((Z==null?void 0:Z.peakHitDown)||0),peak1sDown:Number((Z==null?void 0:Z.peak1sDown)||0),peak5sDown:Number((Z==null?void 0:Z.peak5sDown)||0),peak30sDown:Number((Z==null?void 0:Z.peak30sDown)||0),peakFightLabel:A((Z==null?void 0:Z.peakFightLabel)||""),peakSkillName:String((Z==null?void 0:Z.peakSkillName)||"")}));return{fights:de,players:Ve}},[te,ie]),Yd=g.useMemo(()=>{const A=new Map;return wi.players.forEach(_=>A.set(_.key,_)),A},[wi.players]),m6=g.useMemo(()=>{const A=de=>Re==="downContribution"?Fn==="hit"?de.peakHitDown:Fn==="1s"?de.peak1sDown:Fn==="5s"?de.peak5sDown:de.peak30sDown:Fn==="hit"?de.peakHit:Fn==="1s"?de.peak1s:Fn==="5s"?de.peak5s:de.peak30s,_=St.trim().toLowerCase(),ee=_?wi.players.filter(de=>de.displayName.toLowerCase().includes(_)||de.account.toLowerCase().includes(_)||de.profession.toLowerCase().includes(_)):wi.players,ue=new Map;return ee.forEach(de=>{const Ve=de.profession||"Unknown",Z=ue.get(Ve)||[];Z.push(de),ue.set(Ve,Z)}),Array.from(ue.entries()).map(([de,Ve])=>({profession:de,players:[...Ve].sort((Z,xe)=>A(xe)-A(Z)||Z.displayName.localeCompare(xe.displayName))})).sort((de,Ve)=>de.profession.localeCompare(Ve.profession))},[wi.players,St,Fn,Re]),h6=Dn&&Yd.get(Dn)||null,Vo=g.useMemo(()=>{if(!Dn)return[];const A=ee=>ee?Number(Re==="downContribution"?Fn==="hit"?ee.hitDown||0:Fn==="1s"?ee.burst1sDown||0:Fn==="5s"?ee.burst5sDown||0:ee.burst30sDown||0:Fn==="hit"?ee.hit||0:Fn==="1s"?ee.burst1s||0:Fn==="5s"?ee.burst5s||0:ee.burst30s||0):0,_=ee=>Number(Re==="downContribution"?Fn==="hit"?ee.maxHitDown||0:Fn==="1s"?ee.max1sDown||0:Fn==="5s"?ee.max5sDown||0:ee.max30sDown||0:Fn==="hit"?ee.maxHit||0:Fn==="1s"?ee.max1s||0:Fn==="5s"?ee.max5s||0:ee.max30s||0);return wi.fights.map((ee,ue)=>({index:ue,fightId:ee.id,shortLabel:ee.shortLabel,fullLabel:ee.fullLabel,timestamp:Number(ee.timestamp||0),damage:A(ml(ee.values[Dn])),maxDamage:_(ee),skillName:String(ml(ee.values[Dn]).skillName||"")}))},[wi.fights,Dn,Fn,Re]),g6=g.useMemo(()=>{const A=Vo.reduce((ee,ue)=>Math.max(ee,Number(ue.damage||0)),0),_=Vo.reduce((ee,ue)=>Math.max(ee,Number(ue.maxDamage||0)),0);return Math.max(1,A,_)},[Vo]),Om=g.useMemo(()=>{var A,_;const ee=aa===null?null:Vo.find(Ue=>Ue.index===aa)||null;if(!ee||!Dn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ue=Pm(wi.fights,ee),[de,Ve]=Dn.split("|"),Z=e.find(Ue=>String((Ue==null?void 0:Ue.filePath)||(Ue==null?void 0:Ue.id)||"")===String(ee.fightId||"")),xe=Z==null?void 0:Z.details,st=Ue=>Array.isArray(Ue)?Ue.map(kt=>Array.isArray(kt)?[Number(kt[0]),Number(kt[1])]:kt&&typeof kt=="object"?[Number(kt.time),Number(kt.value)]:null).filter(kt=>!!kt&&Number.isFinite(kt[0])&&kt[0]>=0):[],Ke=Ue=>String(Ue||"").trim().toLowerCase(),Tt=Ke(de),Bt=Ke(Ve),at=Yd.get(Dn),Pt=new Set([Ke(at==null?void 0:at.displayName),Ke(at==null?void 0:at.characterName),Ke(at==null?void 0:at.account)].filter(Boolean)),Wt=Array.isArray(xe==null?void 0:xe.players)&&((A=xe.players.map(Ue=>{const kt=Ke(Ue==null?void 0:Ue.account),Kt=Ke(Ue==null?void 0:Ue.name),kn=Ke(Ue==null?void 0:Ue.profession),Xt=!!kt&&kt===Tt,rn=!!Kt&&(Kt===Tt||Pt.has(Kt)),qn=!!kt&&Pt.has(kt),Gr=!Bt||kn===Bt;let $r=0;return Xt&&($r+=100),rn&&($r+=90),qn&&($r+=80),Gr&&($r+=20),{player:Ue,score:$r}}).filter(Ue=>Ue.score>0).sort((Ue,kt)=>kt.score-Ue.score)[0])==null?void 0:A.player)||null,$t=(()=>{const Ue=Wt==null?void 0:Wt.combatReplayData;return Array.isArray(Ue)?Ue.filter(kt=>kt&&typeof kt=="object"):Ue&&typeof Ue=="object"?[Ue]:[]})(),It=$t.flatMap(Ue=>st(Ue==null?void 0:Ue.down).map(([kt])=>kt)),Ut=$t.flatMap(Ue=>st(Ue==null?void 0:Ue.dead).map(([kt])=>kt)),Ae=$t.map(Ue=>Number(Ue==null?void 0:Ue.start)).filter(Ue=>Number.isFinite(Ue)&&Ue>=0),dt=Array.isArray(xe==null?void 0:xe.players)?xe.players.flatMap(Ue=>{const kt=Ue==null?void 0:Ue.combatReplayData;return Array.isArray(kt)?kt.map(Kt=>Number(Kt==null?void 0:Kt.start)):[Number(kt==null?void 0:kt.start)]}).filter(Ue=>Number.isFinite(Ue)&&Ue>=0).reduce((Ue,kt)=>Math.min(Ue,kt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Ee=[0,Number((xe==null?void 0:xe.logStartOffset)||0),...Ae,Number.isFinite(dt)?dt:0].filter(Ue=>Number.isFinite(Ue)&&Ue>=0),qt=Ue=>{const kt=Math.max(0,Math.floor(Number(Ue||0)/1e3)),Kt=Math.floor(kt/5)*5;return`${Kt}s-${Kt+5}s`},Zt=(Ue,kt)=>{if(Ue.length===0||kt.length===0)return[];const Kt=kt.length*5e3,kn=rr=>rr.reduce((Sn,Ho)=>Ho>=0&&Ho<=Kt+2e3?Sn+1:Sn,0),Xt=[],rn=Ue.map(rr=>Number(rr||0)).filter(rr=>Number.isFinite(rr)&&rr>=0);if(rn.length===0)return[];Xt.push(rn);const qn=rn.reduce((rr,Sn)=>Math.max(rr,Sn),0),Gr=rn.reduce((rr,Sn)=>Math.min(rr,Sn),Number.POSITIVE_INFINITY);qn>Kt*20&&Xt.push(rn.map(rr=>rr/1e3)),qn<=Kt*2&&Gr>=0&&qn>0&&qn<Math.max(120,kt.length*5+10)&&Xt.push(rn.map(rr=>rr*1e3));let $r=rn,vc=0,Um=-1;return Xt.forEach(rr=>{const Sn=new Set(Ee),Ho=rr.reduce((ho,Ab)=>Math.min(ho,Ab),Number.POSITIVE_INFINITY);if(Number.isFinite(Ho)&&Kt>0&&Ho>Kt){const ho=Math.floor(Ho/Kt)*Kt;Sn.add(ho),Sn.add(Math.max(0,ho-Kt))}Sn.forEach(ho=>{const Ab=rr.map(hB=>hB-ho),Lj=kn(Ab);Lj>Um&&(Um=Lj,vc=ho,$r=rr)})}),$r.map(rr=>rr-vc).filter(rr=>Number.isFinite(rr)&&rr>=0)},Tn=(Ue,kt)=>{if(Ue.length===0||kt.length===0)return[];const Kt=Zt(kt,Ue),kn=new Map;Ue.forEach(rn=>{const qn=/^(\d+)s-/.exec(String(rn));if(!qn)return;const Gr=Number(qn[1]);Number.isFinite(Gr)&&kn.set(Gr,rn)});const Xt=[];return Kt.forEach(rn=>{const qn=Math.max(0,Math.floor(Number(rn||0)/1e3)),Gr=Math.floor(qn/5)*5,$r=kn.get(Gr)||qt(rn);Ue.includes($r)&&Xt.push($r)}),Array.from(new Set(Xt))},nn=(Ue,kt)=>{if(Ue<=0||kt.length===0)return[];const Kt=Array.from({length:Ue},(Xt,rn)=>`${rn*5}s-${(rn+1)*5}s`),kn=Zt(kt,Kt).map(Xt=>Math.floor(Math.max(0,Number(Xt||0))/5e3)).filter(Xt=>Number.isFinite(Xt)&&Xt>=0&&Xt<Ue);return Array.from(new Set(kn))},Et=ml((_=ue==null?void 0:ue.values)==null?void 0:_[Dn]),cn=Re==="downContribution"?Array.isArray(Et==null?void 0:Et.buckets5sDown)?(Et==null?void 0:Et.buckets5sDown)||[]:[]:Array.isArray(Et==null?void 0:Et.buckets5s)?(Et==null?void 0:Et.buckets5s)||[]:[],Rn=Array.isArray(Et==null?void 0:Et.downIndices5s)?Et.downIndices5s.map(Ue=>Number(Ue)).filter(Ue=>Number.isFinite(Ue)&&Ue>=0):[],en=Array.isArray(Et==null?void 0:Et.deathIndices5s)?Et.deathIndices5s.map(Ue=>Number(Ue)).filter(Ue=>Number.isFinite(Ue)&&Ue>=0):[];if(cn.length>0){const Ue=Math.max(0,Math.ceil(Number((xe==null?void 0:xe.durationMS)||0)/5e3)),kt=Math.max(cn.length,Ue),Kt=Array.from({length:kt},(Xt,rn)=>({label:`${rn*5}s-${(rn+1)*5}s`,value:Number(cn[rn]||0)})),kn=Kt.map(Xt=>Xt.label);return{title:`Fight Breakdown - ${ee.shortLabel||"Fight"} (5s ${Re==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Kt,downLabels:Tn(kn,It),deathLabels:Tn(kn,Ut),downIndices:Rn.length>0?Rn.filter(Xt=>Xt<Kt.length):nn(Kt.length,It),deathIndices:en.length>0?en.filter(Xt=>Xt<Kt.length):nn(Kt.length,Ut)}}const An=ee.shortLabel||"Fight";if(!xe||!Array.isArray(xe.players))return{title:`Fight Breakdown - ${An}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Ni=xe.players.find(Ue=>String((Ue==null?void 0:Ue.account)||(Ue==null?void 0:Ue.name)||"Unknown")===de&&String((Ue==null?void 0:Ue.profession)||"Unknown")===Ve);if(!Ni)return{title:`Fight Breakdown - ${An}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Pr=Ni,Zd=()=>{let Ue=0,kt=0;const Kt=new Map,kn=Xt=>{if(!Xt||typeof Xt!="object"||Xt.indirectDamage)return;const rn=Number(Xt.totalDamage||0),qn=Number(Xt.downContribution||0);!Number.isFinite(rn)&&!Number.isFinite(qn)||(Ue+=Number.isFinite(rn)?rn:0,kt+=Number.isFinite(qn)?qn:0)};return Array.isArray(Pr==null?void 0:Pr.targetDamageDist)&&Pr.targetDamageDist.forEach(Xt=>{Array.isArray(Xt)&&Xt.forEach(rn=>{Array.isArray(rn)&&rn.forEach(qn=>{const Gr=Number(qn==null?void 0:qn.id);if(Number.isFinite(Gr)){const $r=Kt.get(Gr)||{damage:0,downContribution:0};$r.damage+=Number((qn==null?void 0:qn.totalDamage)||0),$r.downContribution+=Number((qn==null?void 0:qn.downContribution)||0),Kt.set(Gr,$r)}kn(qn)})})}),!(xe!=null&&xe.detailedWvW)&&Array.isArray(Pr==null?void 0:Pr.totalDamageDist)&&Pr.totalDamageDist.forEach(Xt=>{Array.isArray(Xt)&&Xt.forEach(rn=>{const qn=Number(rn==null?void 0:rn.id);if(!Number.isFinite(qn)){kn(rn);return}const Gr=Kt.get(qn);if(!Gr){kn(rn);return}const $r=Number((rn==null?void 0:rn.totalDamage)||0)-Number(Gr.damage||0),vc=Number((rn==null?void 0:rn.downContribution)||0)-Number(Gr.downContribution||0);$r<=0&&vc<=0||kn({...rn,totalDamage:Math.max(0,$r),downContribution:Math.max(0,vc)})})}),Ue<=0?0:Math.min(1,Math.max(0,kt/Ue))},wn=Ue=>{if(!Array.isArray(Ue)||Ue.length===0)return[];const kt=[];for(let Kt=0;Kt<Ue.length;Kt+=1){const kn=Number(Ue[Kt]||0),Xt=Kt>0?Number(Ue[Kt-1]||0):0;kt.push(Math.max(0,kn-Xt))}return kt},_n=Ue=>{if(!Array.isArray(Ue))return[];const kt=Ue.reduce((kn,Xt)=>Math.max(kn,Array.isArray(Xt)?Xt.length:0),0);if(kt<=0)return[];const Kt=new Array(kt).fill(0);return Ue.forEach(kn=>{if(Array.isArray(kn))for(let Xt=0;Xt<kt;Xt+=1)Kt[Xt]+=Number(kn[Xt]||0)}),Kt},ef=Ue=>Array.isArray(Ue)?Ue.map(kt=>Number(kt||0)):null,gc=(Ue=>{if(!Array.isArray(Ue)||Ue.length===0)return null;const kt=Ue[0];if(!Array.isArray(kt))return null;if(Array.isArray(kt[0])&&Array.isArray(kt[0][0]))return _n(kt);if(Array.isArray(kt[0])&&!Array.isArray(kt[0][0])){const Kt=Ue.map(kn=>ef(Array.isArray(kn)?kn[0]:null)).filter(kn=>Array.isArray(kn)&&kn.length>0);if(Kt.length>0)return _n(Kt)}return null})(Pr==null?void 0:Pr.targetDamage1S),yc=Array.isArray(Pr==null?void 0:Pr.damage1S)&&Array.isArray(Pr.damage1S[0])?Pr.damage1S[0]:null,Nu=gc||(Array.isArray(yc)?yc.map(Ue=>Number(Ue||0)):[]),ju=wn(Nu),tf=Zd(),qo=Re==="downContribution"?ju.map(Ue=>Number(Ue||0)*tf):ju,yl=5,jb=Math.max(0,Math.ceil(Number((xe==null?void 0:xe.durationMS)||0)/(yl*1e3))),Cb=Math.max(0,Math.ceil(qo.length/yl)),bc=Math.max(jb,Cb),Ss=[];for(let Ue=0;Ue<bc;Ue+=1){const kt=Ue*yl,Kt=Math.min(kt+yl,qo.length),kn=qo.slice(kt,Kt).reduce((Xt,rn)=>Xt+Number(rn||0),0);Ss.push({label:`${kt}s-${kt+yl}s`,value:kn})}const Cu=Ss.map(Ue=>Ue.label);return{title:`Fight Breakdown - ${An} (5s ${Re==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Ss,downLabels:Tn(Cu,It),deathLabels:Tn(Cu,Ut),downIndices:nn(Ss.length,It),deathIndices:nn(Ss.length,Ut)}},[aa,Vo,Dn,e,wi.fights,Yd,Re]),Sb=g.useMemo(()=>{const A=new Map;return ki.players.forEach(_=>A.set(_.key,_)),A},[ki.players]),y6=g.useMemo(()=>{const A=de=>Yt==="hit"?de.peakHit:Yt==="1s"?de.peak1s:Yt==="5s"?de.peak5s:de.peak30s,_=Be.trim().toLowerCase(),ee=_?ki.players.filter(de=>de.displayName.toLowerCase().includes(_)||de.account.toLowerCase().includes(_)||de.profession.toLowerCase().includes(_)):ki.players,ue=new Map;return ee.forEach(de=>{const Ve=de.profession||"Unknown",Z=ue.get(Ve)||[];Z.push(de),ue.set(Ve,Z)}),Array.from(ue.entries()).map(([de,Ve])=>({profession:de,players:[...Ve].sort((Z,xe)=>A(xe)-A(Z)||Z.displayName.localeCompare(xe.displayName))})).sort((de,Ve)=>de.profession.localeCompare(Ve.profession))},[ki.players,Be,Yt]),b6=He&&Sb.get(He)||null,Wo=g.useMemo(()=>{if(!He)return[];const A=ee=>ee?Number(Yt==="hit"?ee.hit||0:Yt==="1s"?ee.burst1s||0:Yt==="5s"?ee.burst5s||0:ee.burst30s||0):0,_=ee=>Number(Yt==="hit"?ee.maxHit||0:Yt==="1s"?ee.max1s||0:Yt==="5s"?ee.max5s||0:ee.max30s||0);return ki.fights.map((ee,ue)=>({index:ue,fightId:ee.id,shortLabel:ee.shortLabel,fullLabel:ee.fullLabel,timestamp:Number(ee.timestamp||0),damage:A(ml(ee.values[He])),maxDamage:_(ee),skillName:String(ml(ee.values[He]).skillName||"")}))},[ki.fights,He,Yt]),v6=g.useMemo(()=>{const A=Wo.reduce((ee,ue)=>Math.max(ee,Number(ue.damage||0)),0),_=Wo.reduce((ee,ue)=>Math.max(ee,Number(ue.maxDamage||0)),0);return Math.max(1,A,_)},[Wo]),Im=g.useMemo(()=>{var A;const _=Gt===null?null:Wo.find(st=>st.index===Gt)||null;if(!_||!He)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ee=Pm(ki.fights,_),ue=ml((A=ee==null?void 0:ee.values)==null?void 0:A[He]),de=Array.isArray(ue==null?void 0:ue.buckets5s)?(ue==null?void 0:ue.buckets5s)||[]:[],Ve=Array.isArray(ue==null?void 0:ue.downIndices5s)?ue.downIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[],Z=Array.isArray(ue==null?void 0:ue.deathIndices5s)?ue.deathIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[];if(de.length>0){const st=de.map((Ke,Tt)=>({label:`${Tt*5}s-${(Tt+1)*5}s`,value:Number(Ke||0)}));return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s Damage Buckets)`,data:st,downLabels:[],deathLabels:[],downIndices:Ve.filter(Ke=>Ke<st.length),deathIndices:Z.filter(Ke=>Ke<st.length)}}const xe=Number(Yt==="hit"?ue.hit||0:Yt==="1s"?ue.burst1s||0:Yt==="5s"?ue.burst5s||0:ue.burst30s||0);return xe>0?{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:xe}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${_.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Gt,Wo,He,ki.fights,Yt]),x6=g.useMemo(()=>{var A;if(Gt===null||!He)return[];const _=Wo.find(st=>st.index===Gt);if(!_)return[];const ee=Pm(ki.fights,_),ue=ml((A=ee==null?void 0:ee.values)==null?void 0:A[He]),de=[...(ue==null?void 0:ue.skillRows)||[]].filter(st=>Number((st==null?void 0:st.damage)||0)>0||Number((st==null?void 0:st.downContribution)||0)>0).sort((st,Ke)=>Number(Ke.damage||0)-Number(st.damage||0)).slice(0,30);if(de.length>0)return de;const Ve=e.find(st=>String((st==null?void 0:st.filePath)||(st==null?void 0:st.id)||"")===String(_.fightId||"")),Z=Ve==null?void 0:Ve.details;if(Z&&He){const st=new Set(Object.keys(Zc)),Ke=Object.keys(Zc).filter($t=>$t&&$t!=="Unknown").sort(($t,It)=>It.length-$t.length),Tt=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],Bt=$t=>{if(!$t)return"Unknown";const It=String($t).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(st.has(It))return It;const Ut=It.toLowerCase();for(const Ae of Ke)if(Ut.includes(Ae.toLowerCase()))return Ae;return Tt.find(Ae=>Ut.includes(Ae.toLowerCase()))||It||"Unknown"},at=$t=>{const It=Number($t);if(!Number.isFinite(It))return{name:String($t||"Unknown Skill"),icon:void 0};const Ut=(Z==null?void 0:Z.skillMap)||{},Ae=(Z==null?void 0:Z.buffMap)||{},dt=(Ut==null?void 0:Ut[`s${It}`])||(Ut==null?void 0:Ut[`${It}`]);if(dt!=null&&dt.name)return{name:String(dt.name),icon:dt==null?void 0:dt.icon};const Ee=(Ae==null?void 0:Ae[`b${It}`])||(Ae==null?void 0:Ae[`${It}`]);return Ee!=null&&Ee.name?{name:String(Ee.name),icon:Ee==null?void 0:Ee.icon}:{name:`Skill ${It}`,icon:void 0}},Pt=new Map;(Array.isArray(Z==null?void 0:Z.targets)?Z.targets:[]).forEach($t=>{!$t||$t.isFake||$t.enemyPlayer===!1||Bt(($t==null?void 0:$t.profession)||($t==null?void 0:$t.name)||($t==null?void 0:$t.id))!==He||Array.isArray($t==null?void 0:$t.totalDamageDist)&&$t.totalDamageDist.forEach(It=>{Array.isArray(It)&&It.forEach(Ut=>{if(!Ut||typeof Ut!="object"||Ut.indirectDamage)return;const Ae=Number(Ut.totalDamage||0);if(!Number.isFinite(Ae)||Ae<=0)return;const dt=Number(Ut.connectedHits||Ut.hits||0),Ee=at(Ut.id),qt=Ee.name,Zt=Pt.get(qt)||{skillName:qt,damage:0,hits:0,icon:Ee.icon};Zt.damage+=Ae,Zt.hits+=Number.isFinite(dt)?dt:0,!Zt.icon&&Ee.icon&&(Zt.icon=Ee.icon),Pt.set(qt,Zt)})})});const Wt=Array.from(Pt.values()).filter($t=>Number(($t==null?void 0:$t.damage)||0)>0).sort(($t,It)=>Number(It.damage||0)-Number($t.damage||0)).slice(0,30);if(Wt.length>0)return Wt}const xe=Number((ue==null?void 0:ue.hit)||0);return xe<=0?de:[{skillName:String((ue==null?void 0:ue.skillName)||"Unknown Skill"),damage:xe,hits:1,icon:void 0}]},[Gt,He,Wo,ki.fights,e]),w6=g.useMemo(()=>{var A;if(aa===null||!Dn)return[];const _=Vo.find(xe=>xe.index===aa);if(!_)return[];const ee=Pm(wi.fights,_),ue=ml((A=ee==null?void 0:ee.values)==null?void 0:A[Dn]),de=[...(ue==null?void 0:ue.skillRows)||[]].filter(xe=>Number((xe==null?void 0:xe.damage)||0)>0||Number((xe==null?void 0:xe.downContribution)||0)>0).sort((xe,st)=>Number(st.damage||0)-Number(xe.damage||0)).slice(0,30);if(de.length>0)return de;const Ve=e.find(xe=>String((xe==null?void 0:xe.filePath)||(xe==null?void 0:xe.id)||"")===String(_.fightId||"")),Z=Ve==null?void 0:Ve.details;if(Z&&Dn){const[xe,st]=Dn.split("|"),Ke=at=>{const Pt=Number(at);if(!Number.isFinite(Pt))return{name:String(at||"Unknown Skill"),icon:void 0};const Wt=(Z==null?void 0:Z.skillMap)||{},$t=(Z==null?void 0:Z.buffMap)||{},It=(Wt==null?void 0:Wt[`s${Pt}`])||(Wt==null?void 0:Wt[`${Pt}`]);if(It!=null&&It.name)return{name:String(It.name),icon:It==null?void 0:It.icon};const Ut=($t==null?void 0:$t[`b${Pt}`])||($t==null?void 0:$t[`${Pt}`]);return Ut!=null&&Ut.name?{name:String(Ut.name),icon:Ut==null?void 0:Ut.icon}:{name:`Skill ${Pt}`,icon:void 0}},Tt=new Map,Bt=(Array.isArray(Z==null?void 0:Z.players)?Z.players:[]).find(at=>{if(at!=null&&at.notInSquad)return!1;const Pt=String((at==null?void 0:at.account)||(at==null?void 0:at.name)||""),Wt=String((at==null?void 0:at.profession)||"Unknown"),$t=Pt===String(xe||""),It=Wt===String(st||"");return $t&&It})||null;if(Bt){const at=Bt,Pt=It=>{if(!It||typeof It!="object"||It.indirectDamage)return;const Ut=Number(It.totalDamage||0),Ae=Number(It.downContribution||0);if((!Number.isFinite(Ut)||Ut<=0)&&(!Number.isFinite(Ae)||Ae<=0))return;const dt=Number(It.connectedHits||It.hits||0),Ee=Ke(It.id),qt=Tt.get(Ee.name)||{skillName:Ee.name,damage:0,downContribution:0,hits:0,icon:Ee.icon};qt.damage+=Number.isFinite(Ut)?Ut:0,qt.downContribution+=Number.isFinite(Ae)?Ae:0,qt.hits+=Number.isFinite(dt)?dt:0,!qt.icon&&Ee.icon&&(qt.icon=Ee.icon),Tt.set(Ee.name,qt)},Wt=new Map;Array.isArray(at==null?void 0:at.targetDamageDist)&&at.targetDamageDist.forEach(It=>{Array.isArray(It)&&It.forEach(Ut=>{Array.isArray(Ut)&&Ut.forEach(Ae=>{const dt=Number(Ae==null?void 0:Ae.id),Ee=Number((Ae==null?void 0:Ae.totalDamage)||0),qt=Number((Ae==null?void 0:Ae.downContribution)||0);if(Number.isFinite(dt)){const Zt=Wt.get(dt)||{damage:0,downContribution:0,hits:0};Zt.damage+=Number.isFinite(Ee)?Ee:0,Zt.downContribution+=Number.isFinite(qt)?qt:0,Zt.hits+=Number((Ae==null?void 0:Ae.connectedHits)||(Ae==null?void 0:Ae.hits)||0),Wt.set(dt,Zt)}Pt(Ae)})})}),!(Z!=null&&Z.detailedWvW)&&Array.isArray(at==null?void 0:at.totalDamageDist)&&at.totalDamageDist.forEach(It=>{Array.isArray(It)&&It.forEach(Ut=>{const Ae=Number(Ut==null?void 0:Ut.id);if(!Number.isFinite(Ae)){Pt(Ut);return}const dt=Wt.get(Ae);if(!dt){Pt(Ut);return}const Ee=Number((Ut==null?void 0:Ut.totalDamage)||0),qt=Number((Ut==null?void 0:Ut.downContribution)||0),Zt=Number((Ut==null?void 0:Ut.connectedHits)||(Ut==null?void 0:Ut.hits)||0),Tn=Ee-Number(dt.damage||0),nn=qt-Number(dt.downContribution||0),Et=Zt-Number(dt.hits||0);Tn<=0&&nn<=0&&Et<=0||Pt({...Ut,totalDamage:Math.max(0,Tn),downContribution:Math.max(0,nn),connectedHits:Math.max(0,Et),hits:Math.max(0,Et)})})});const $t=Array.from(Tt.values()).filter(It=>Number((It==null?void 0:It.damage)||0)>0||Number((It==null?void 0:It.downContribution)||0)>0).sort((It,Ut)=>Number(Ut.damage||0)-Number(It.damage||0)).slice(0,30);if($t.length>0)return $t}}return de},[aa,Dn,Vo,wi.fights,e]);g.useEffect(()=>{if(bs.length===0){mc!==null&&vb(null),Uo!==null&&Dm(null);return}if(!mc||!wb.has(mc)){const A=bs[0].key;vb(A),xj(null)}},[bs,wb,mc,Uo]),g.useEffect(()=>{if(!vs||vs.skills.length===0){Uo!==null&&Dm(null);return}const A=vs.skills.some(_=>_.id===Uo);(!Uo||!A)&&Dm(vs.skills[0].id)},[vs,Uo]),g.useEffect(()=>{if(xu.length===0){hc!==null&&xb(null),ys!==null&&Tm(null);return}if(!hc||!kb.has(hc)){const A=xu[0].profession;xb(A),wj(null)}},[xu,kb,hc,ys]),g.useEffect(()=>{if(!pl||pl.skills.length===0){ys!==null&&Tm(null);return}const A=pl.skills.some(_=>_.id===ys);(!ys||!A)&&Tm(pl.skills[0].id)},[pl,ys]),g.useEffect(()=>{if(wi.players.length===0){Dn!==null&&vi(null);return}(!Dn||!Yd.has(Dn))&&Dn!==null&&vi(null)},[wi.players,Yd,Dn]),g.useEffect(()=>{Wa(null)},[Dn,Fn,Re]),g.useEffect(()=>{aa!==null&&(Vo.some(A=>A.index===aa)||Wa(null))},[Vo,aa]),g.useEffect(()=>{if(ki.players.length===0){He!==null&&Dt(null);return}(!He||!Sb.has(He))&&He!==null&&Dt(null)},[ki.players,Sb,He]),g.useEffect(()=>{hn(null)},[He,Yt]),g.useEffect(()=>{Gt!==null&&(Wo.some(A=>A.index===Gt)||hn(null))},[Wo,Gt]);const k6=g.useMemo(()=>new Set(ri),[ri]),_m=Pe?bt:eE,{playerMapByKey:xs,playerTotalsForSkill:wu,skillChartData:S6,skillChartMaxY:N6,groupedSkillUsagePlayers:j6}=qV({skillUsageData:_m,selectedSkillId:Ta,selectedPlayers:k6,skillUsageView:ps==="perSecond"?"perSecond":"total"}),kj=g.useMemo(()=>{const A=new Map,_=Ve=>{Ve.forEach(Z=>{const xe=Ou(Z==null?void 0:Z.name)||(Z==null?void 0:Z.name);xe&&Z!=null&&Z.icon&&!A.has(xe)&&A.set(xe,Z.icon)})},ee=Ve=>{Ve.forEach(Z=>{Object.entries((Z==null?void 0:Z.conditions)||{}).forEach(([xe,st])=>{const Ke=Ou(xe)||xe;st!=null&&st.icon&&!A.has(Ke)&&A.set(Ke,st.icon)})})},ue=Ve=>{const Z=new Map;return Ve.forEach(xe=>{const st=Ou(xe==null?void 0:xe.name)||(xe==null?void 0:xe.name);if(!st)return;const Ke=Z.get(st)||{name:st,icon:(xe==null?void 0:xe.icon)||A.get(st)||sh(st),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Ke.applications+=Number((xe==null?void 0:xe.applications)||0),Ke.damage+=Number((xe==null?void 0:xe.damage)||0),xe!=null&&xe.applicationsFromUptime&&(Ke.applicationsFromUptime+=Number(xe.applicationsFromUptime||0)),xe!=null&&xe.applicationsFromBuffs&&(Ke.applicationsFromBuffs+=Number(xe.applicationsFromBuffs||0)),xe!=null&&xe.applicationsFromBuffsActive&&(Ke.applicationsFromBuffsActive+=Number(xe.applicationsFromBuffsActive||0)),!Ke.icon&&xe!=null&&xe.icon&&(Ke.icon=xe.icon),Ke.icon||(Ke.icon=sh(st)),Z.set(st,Ke)}),Array.from(Z.values())},de=Ve=>Ve.map(Z=>{const xe={};return Object.entries((Z==null?void 0:Z.conditions)||{}).forEach(([st,Ke])=>{const Tt=Ou(st)||st;if(!Tt)return;const Bt=xe[Tt]||{icon:(Ke==null?void 0:Ke.icon)||A.get(Tt)||sh(Tt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Bt.applications+=Number((Ke==null?void 0:Ke.applications)||0),Bt.damage+=Number((Ke==null?void 0:Ke.damage)||0),Ke!=null&&Ke.applicationsFromUptime&&(Bt.applicationsFromUptime+=Number(Ke.applicationsFromUptime||0)),Ke!=null&&Ke.applicationsFromBuffs&&(Bt.applicationsFromBuffs+=Number(Ke.applicationsFromBuffs||0)),Ke!=null&&Ke.applicationsFromBuffsActive&&(Bt.applicationsFromBuffsActive+=Number(Ke.applicationsFromBuffsActive||0)),!Bt.icon&&Ke!=null&&Ke.icon&&(Bt.icon=Ke.icon),Bt.icon||(Bt.icon=sh(Tt)),Object.values((Ke==null?void 0:Ke.skills)||{}).forEach(at=>{const Pt=(at==null?void 0:at.name)||"Unknown",Wt=Bt.skills[Pt]||{name:Pt,hits:0,damage:0,icon:at==null?void 0:at.icon};Wt.hits+=Number((at==null?void 0:at.hits)||0),Wt.damage+=Number((at==null?void 0:at.damage)||0),!Wt.icon&&at!=null&&at.icon&&(Wt.icon=at.icon),Bt.skills[Pt]=Wt}),xe[Tt]=Bt}),{...Z,conditions:xe}});return(Ve,Z)=>(_(Ve),ee(Z),{summary:ue(Ve),players:de(Z)})},[]),Sj=Fe?he==="outgoing"?te.outgoingConditionSummary:te.incomingConditionSummary:Cv,Nj=Fe?he==="outgoing"?te.outgoingConditionPlayers:te.incomingConditionPlayers:Cv,{summary:Lm,players:C6}=g.useMemo(()=>kj(Sj||[],Nj||[]),[kj,Sj,Nj]);g.useEffect(()=>{if(!Fe||$e==="all"||Lm.some(_=>_.name===$e))return;const A=Ou($e);A&&Lm.some(_=>_.name===A)?ge(A):ge("all")},[$e,Lm,ge,Fe]);const A6=g.useMemo(()=>{const A={};return wu.forEach((_,ee)=>{const ue=xs.get(ee);if(!ue)return;const de=ue.profession;(!A[de]||_>A[de])&&(A[de]=_)}),A},[wu,xs]),Ot=W,Un=g.useCallback((A,_)=>{const ee=Ot(A);return d?`${_} ${ee?"":"hidden"}`:`${_} transition-[opacity,transform] duration-700 ease-in-out ${ee?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Ot,d]),jj=g.useMemo(()=>Hoe.find(A=>Ot(A))||null,[Ot]),Vn=g.useCallback(A=>A===jj,[jj]),M6=g.useMemo(()=>{const A=new Map,_=new Map;return ri.forEach(ee=>{const ue=xs.get(ee);if(!ue)return;const de=wu.get(ee)??0,Ve=_.get(ue.profession)||[];Ve.push({key:ee,total:de}),_.set(ue.profession,Ve)}),_.forEach(ee=>{ee.sort((ue,de)=>de.total-ue.total),ee.forEach((ue,de)=>{A.set(ue.key,de)})}),A},[ri,xs,wu]),Cj=["0","12 3","8 3","6 3","4 3","2 3"],E6=A=>{const _=xs.get(A),ee=Ls((_==null?void 0:_.profession)||""),ue=wu.get(A)??0,de=_!=null&&_.profession&&A6[_.profession]||1,Ve=.35+(de>0?ue/de:1)*.65;return Fm(ee,Ve)},D6=A=>{const _=M6.get(A)??0;return Cj[_%Cj.length]},T6=(A,_,ee)=>{if(!ee)return E6(A);const ue=xs.get(A),de=Ls((ue==null?void 0:ue.profession)||"");return _?Fm(de,1.2):Fm(de,.5)},Fm=(A,_)=>{const ee=A.replace("#","");if(ee.length!==6)return A;const ue=Ke=>Math.max(0,Math.min(255,Ke)),de=Ke=>Number.parseInt(ee.slice(Ke,Ke+2),16),Ve=Ke=>ue(Math.round(Ke)).toString(16).padStart(2,"0"),Z=de(0),xe=de(2),st=de(4);return`#${Ve(Z*_)}${Ve(xe*_)}${Ve(st*_)}`},Aj=g.useMemo(()=>{const A=new Map;return _m.skillOptions.forEach(_=>{A.set(_.id,{name:_.name,icon:_.icon})}),A},[_m.skillOptions]),Xd=g.useMemo(()=>{var A;if(ri.length===0)return[];const _=new Map,ee=new Map;let ue=0;ri.forEach(Ke=>{const Tt=xs.get(Ke);if(!Tt)return;ue+=Tt.totalActiveSeconds||0,Object.entries(Tt.skillTotals||{}).forEach(([at,Pt])=>{_.set(at,(_.get(at)||0)+Number(Pt||0))});const Bt=Tt.profession||"Unknown";ee.set(Bt,(ee.get(Bt)||0)+(Tt.totalActiveSeconds||0))});const de=ni.trim().toLowerCase(),Ve=ps==="perSecond",Z=((A=Array.from(ee.entries()).sort((Ke,Tt)=>Tt[1]-Ke[1])[0])==null?void 0:A[0])||"Unknown",xe=Ls(Z),st="#64748b";return Array.from(_.entries()).map(([Ke,Tt])=>{const Bt=Aj.get(Ke),at=(Bt==null?void 0:Bt.name)||Ke,Pt=Ve&&ue>0?Tt/ue:Tt;return{skillId:Ke,name:at,icon:Bt==null?void 0:Bt.icon,total:Pt}}).filter(Ke=>Ke.total>0&&(!de||Ke.name.toLowerCase().includes(de))).sort((Ke,Tt)=>Tt.total-Ke.total).map((Ke,Tt)=>({...Ke,color:Tt===0?xe:Fm(xe,.85-Math.min(Tt*.06,.4))||st}))},[ri,xs,ni,ps,Aj]);g.useEffect(()=>{if(Pe){if(Xd.length===0){Ta!==null&&fs(null);return}(!Ta||!Xd.some(A=>A.skillId===Ta))&&fs(Xd[0].skillId)}},[Xd,Ta,fs,Pe]);const Rm=_m.skillOptions.find(A=>A.id===Ta),P6=(Rm==null?void 0:Rm.name)||"",O6=(Rm==null?void 0:Rm.icon)||null,I6=Lt&&!!Ta&&ri.length>0,$m="__all__",_6=Lt&&fl.length>0,hl=g.useMemo(()=>fl.find(A=>A.profession===xi)??null,[fl,xi]),L6=gs===$m,F6=g.useMemo(()=>{var A;return((A=hl==null?void 0:hl.skills)==null?void 0:A.find(_=>_.id===gs))??null},[hl,gs]);g.useEffect(()=>{if(fl.length===0){xi!==null&&ms(null),hs!==null&&yb(null);return}if(!xi||!fl.some(A=>A.profession===xi)){const A=fl[0].profession;ms(A),yb(null)}},[fl,xi,hs]),g.useEffect(()=>{if(!hl||hl.skills.length===0){gs!==null&&bb(null);return}const A=hl.skills.some(_=>_.id===gs);(!gs||!A&&gs!==$m)&&bb($m)},[hl,gs]);const R6=A=>{zi(_=>_.includes(A)?_.filter(ee=>ee!==A):[..._,A])},$6=A=>{zi(_=>_.filter(ee=>ee!==A))},B6=g.useMemo(()=>{const A=Ro.trim().toLowerCase(),_=te.boonTables||[];return A?_.filter(ee=>ee.name.toLowerCase().includes(A)):_},[te.boonTables,Ro]),z6=g.useMemo(()=>En?(te.boonTables||[]).find(A=>A.id===En)??null:null,[te.boonTables,En]),Bm=A=>{var _,ee,ue,de;return{selfBuffs:A!=null&&A.totals&&typeof A.totals=="object"?Number(((_=A==null?void 0:A.totals)==null?void 0:_.selfBuffs)||0):0,groupBuffs:A!=null&&A.totals&&typeof A.totals=="object"?Number(((ee=A==null?void 0:A.totals)==null?void 0:ee.groupBuffs)||0):0,squadBuffs:A!=null&&A.totals&&typeof A.totals=="object"?Number(((ue=A==null?void 0:A.totals)==null?void 0:ue.squadBuffs)||0):Number((A==null?void 0:A.total)||0),totalBuffs:A!=null&&A.totals&&typeof A.totals=="object"?Number((((de=A==null?void 0:A.totals)==null?void 0:de.totalBuffs)??(A==null?void 0:A.total))||0):Number((A==null?void 0:A.total)||0)}},Jd=(A,_)=>{const ee=Bm(A),ue=Number((ee==null?void 0:ee[_])||0);return Number.isFinite(ue)?Math.max(0,ue):0},Mj=va==="selfBuffs"?"Self":va==="groupBuffs"?"Group":va==="squadBuffs"?"Squad":"All",ws=g.useMemo(()=>(Array.isArray(te==null?void 0:te.boonTimeline)?te.boonTimeline:[]).map(A=>({id:String((A==null?void 0:A.id)||""),name:String((A==null?void 0:A.name)||(A==null?void 0:A.id)||"Unknown Boon"),icon:typeof(A==null?void 0:A.icon)=="string"?A.icon:void 0,stacking:!!(A!=null&&A.stacking),players:(Array.isArray(A==null?void 0:A.players)?A.players:[]).map(_=>({key:String((_==null?void 0:_.key)||""),account:String((_==null?void 0:_.account)||(_==null?void 0:_.displayName)||"Unknown"),displayName:String((_==null?void 0:_.displayName)||(_==null?void 0:_.account)||"Unknown"),profession:String((_==null?void 0:_.profession)||"Unknown"),professionList:Array.isArray(_==null?void 0:_.professionList)?_.professionList.map(ee=>String(ee||"")):[],logs:Number((_==null?void 0:_.logs)||0),totals:Bm(_)})),fights:(Array.isArray(A==null?void 0:A.fights)?A.fights:[]).map((_,ee)=>({id:String((_==null?void 0:_.id)||`fight-${ee+1}`),shortLabel:String((_==null?void 0:_.shortLabel)||`F${ee+1}`),fullLabel:String((_==null?void 0:_.fullLabel)||`Fight ${ee+1}`),timestamp:Number((_==null?void 0:_.timestamp)||0),durationMs:Number((_==null?void 0:_.durationMs)||0),maxTotal:Number((_==null?void 0:_.maxTotal)||0),values:_!=null&&_.values&&typeof _.values=="object"?Object.fromEntries(Object.entries(_.values).map(([ue,de])=>[String(ue||""),{total:Number((de==null?void 0:de.total)||0),totals:Bm(de),bucketWeights5s:Array.isArray(de==null?void 0:de.bucketWeights5s)?de.bucketWeights5s.map(Ve=>Number(Ve||0)):[],buckets5s:Array.isArray(de==null?void 0:de.buckets5s)?de.buckets5s.map(Ve=>Number(Ve||0)):[]}])):{}}))})).filter(A=>A.id&&A.players.length>0&&A.fights.length>0),[te.boonTimeline]),U6=g.useMemo(()=>{const A=fo.trim().toLowerCase();return A?ws.filter(_=>String((_==null?void 0:_.name)||"").toLowerCase().includes(A)):ws},[ws,fo]),Si=g.useMemo(()=>Kr&&ws.find(A=>A.id===Kr)||null,[ws,Kr]),zm=g.useMemo(()=>[...Array.isArray(Si==null?void 0:Si.players)?Si.players:[]].map(A=>({...A,total:Jd(A,va)})).sort((A,_)=>Number(_.total||0)-Number(A.total||0)||String(A.displayName||"").localeCompare(String(_.displayName||""))),[Si,va]),V6=g.useMemo(()=>{const A=zm,_=ds.trim().toLowerCase();return _?A.filter(ee=>String((ee==null?void 0:ee.displayName)||"").toLowerCase().includes(_)||String((ee==null?void 0:ee.account)||"").toLowerCase().includes(_)||String((ee==null?void 0:ee.profession)||"").toLowerCase().includes(_)):A},[zm,ds]),W6=g.useMemo(()=>{const A=new Map;return zm.forEach(_=>{A.set(String((_==null?void 0:_.key)||""),_)}),A},[zm]),q6=Zn&&W6.get(Zn)||null,ku=g.useMemo(()=>!Si||!Zn?[]:(Si.fights||[]).map((A,_)=>{var ee;const ue=(ee=A==null?void 0:A.values)==null?void 0:ee[Zn],de=Object.entries(A!=null&&A.values&&typeof A.values=="object"?A.values:{}).filter(([Ve])=>String(Ve||"")!=="__all__").reduce((Ve,[,Z])=>Math.max(Ve,Jd(Z,va)),0);return{index:_,fightId:String((A==null?void 0:A.id)||""),shortLabel:String((A==null?void 0:A.shortLabel)||`F${_+1}`),fullLabel:String((A==null?void 0:A.fullLabel)||`Fight ${_+1}`),timestamp:Number((A==null?void 0:A.timestamp)||0),total:Jd(ue,va),maxTotal:de>0?de:Number((A==null?void 0:A.maxTotal)||0)}}),[Si,Zn,va]),H6=g.useMemo(()=>{const A=ku.reduce((ee,ue)=>Math.max(ee,Number((ue==null?void 0:ue.total)||0)),0),_=ku.reduce((ee,ue)=>Math.max(ee,Number((ue==null?void 0:ue.maxTotal)||0)),0);return Math.max(1,A,_)},[ku]),Ej=g.useMemo(()=>{var A;const _=$o===null?null:ku.find(at=>at.index===$o)||null;if(!_||!Si||!Zn)return{title:"Fight Breakdown",data:[]};const ee=Si.fights[_.index],ue=((A=ee==null?void 0:ee.values)==null?void 0:A[Zn])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},de=Jd(ue,va),Ve=Array.isArray(ue==null?void 0:ue.bucketWeights5s)?ue.bucketWeights5s:[],Z=Array.isArray(ue==null?void 0:ue.buckets5s)?ue.buckets5s:[],xe=Math.max(Ve.length,Z.length,Math.ceil(Math.max(0,Number((ee==null?void 0:ee.durationMs)||0))/5e3),1),st=Array.from({length:xe},(at,Pt)=>Number(Ve[Pt]||0)),Ke=st.reduce((at,Pt)=>at+Number(Pt||0),0);let Tt=[];if(Ke>0){const at=de>0?de/Ke:0;Tt=st.map(Pt=>Number(Pt||0)*at)}else if(Z.length>0){const at=Array.from({length:xe},(Pt,Wt)=>Number(Z[Wt]||0));if(va==="totalBuffs"||!(ue!=null&&ue.totals))Tt=at;else{const Pt=Jd({totals:Bm(ue)},"totalBuffs"),Wt=Pt>0?de/Pt:0;Tt=at.map($t=>Number($t||0)*Wt)}}else{const at=de>0?de/Math.max(1,xe):0;Tt=Array.from({length:xe},()=>at)}const Bt=Array.from({length:xe},(at,Pt)=>({label:`${Pt*5}s-${(Pt+1)*5}s`,value:Number(Tt[Pt]||0)}));return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s ${Mj} Generation Buckets)`,data:Bt}},[$o,ku,Si,Zn,va,Mj]),ks=g.useMemo(()=>(Array.isArray(te==null?void 0:te.boonUptimeTimeline)?te.boonUptimeTimeline:[]).map(A=>({id:String((A==null?void 0:A.id)||""),name:String((A==null?void 0:A.name)||(A==null?void 0:A.id)||"Unknown Boon"),icon:typeof(A==null?void 0:A.icon)=="string"?A.icon:void 0,stacking:!!(A!=null&&A.stacking),players:(Array.isArray(A==null?void 0:A.players)?A.players:[]).map(_=>({key:String((_==null?void 0:_.key)||""),account:String((_==null?void 0:_.account)||(_==null?void 0:_.displayName)||"Unknown"),displayName:String((_==null?void 0:_.displayName)||(_==null?void 0:_.account)||"Unknown"),profession:String((_==null?void 0:_.profession)||"Unknown"),professionList:Array.isArray(_==null?void 0:_.professionList)?_.professionList.map(ee=>String(ee||"")):[],logs:Number((_==null?void 0:_.logs)||0),total:Math.max(0,Number((_==null?void 0:_.total)||0)),peak:Math.max(0,Number((_==null?void 0:_.peak)||0))})).filter(_=>_.key&&_.key!=="__all__"),fights:(Array.isArray(A==null?void 0:A.fights)?A.fights:[]).map((_,ee)=>({id:String((_==null?void 0:_.id)||`fight-${ee+1}`),shortLabel:String((_==null?void 0:_.shortLabel)||`F${ee+1}`),fullLabel:String((_==null?void 0:_.fullLabel)||`Fight ${ee+1}`),timestamp:Number((_==null?void 0:_.timestamp)||0),durationMs:Number((_==null?void 0:_.durationMs)||0),maxTotal:Math.max(0,Number((_==null?void 0:_.maxTotal)||0)),values:_!=null&&_.values&&typeof _.values=="object"?Object.fromEntries(Object.entries(_.values).map(([ue,de])=>[String(ue||""),{total:Math.max(0,Number((de==null?void 0:de.total)||0)),peak:Math.max(0,Number((de==null?void 0:de.peak)||0)),buckets5s:Array.isArray(de==null?void 0:de.buckets5s)?de.buckets5s.map(Ve=>Math.max(0,Number(Ve||0))):[]}])):{}}))})).filter(A=>A.id&&A.players.length>0&&A.fights.length>0),[te.boonUptimeTimeline]),K6=g.useMemo(()=>{const A=cl.trim().toLowerCase();return A?ks.filter(_=>String((_==null?void 0:_.name)||"").toLowerCase().includes(A)):ks},[ks,cl]),Wn=g.useMemo(()=>bi&&ks.find(A=>A.id===bi)||null,[ks,bi]),Su=g.useMemo(()=>{const A=new Map,_=Array.isArray(Wn==null?void 0:Wn.players)?Wn.players:[],ee=Array.isArray(Wn==null?void 0:Wn.fights)?Wn.fights:[];if(!_.length||!ee.length)return A;const ue=ee.reduce((de,Ve)=>{const Z=Math.max(Math.ceil(Math.max(0,Number((Ve==null?void 0:Ve.durationMs)||0))/5e3),1);return de+Z},0);return ue<=0||_.forEach(de=>{const Ve=String((de==null?void 0:de.key)||"");if(!Ve||Ve==="__all__")return;let Z=0;ee.forEach(xe=>{var st;const Ke=(st=xe==null?void 0:xe.values)==null?void 0:st[Ve],Tt=Array.isArray(Ke==null?void 0:Ke.buckets5s)?Ke.buckets5s:[],Bt=Math.max(Tt.length,Math.ceil(Math.max(0,Number((xe==null?void 0:xe.durationMs)||0))/5e3),1);for(let at=0;at<Bt;at+=1)Math.max(0,Number(Tt[at]||0))>0&&(Z+=1)}),A.set(Ve,Z/ue*100)}),A},[Wn]),Qd=g.useMemo(()=>[...(Array.isArray(Wn==null?void 0:Wn.players)?Wn.players:[]).map(A=>({...A,uptimePercent:Number(Su.get(String((A==null?void 0:A.key)||""))||0)}))].sort((A,_)=>Number(Su.get(String((_==null?void 0:_.key)||""))||0)-Number(Su.get(String((A==null?void 0:A.key)||""))||0)||Number(_.peak||0)-Number(A.peak||0)||Number(_.total||0)-Number(A.total||0)||String(A.displayName||"").localeCompare(String(_.displayName||""))),[Wn,Su]),G6=g.useMemo(()=>{const A=Bo.trim().toLowerCase();return A?Qd.filter(_=>String((_==null?void 0:_.displayName)||"").toLowerCase().includes(A)||String((_==null?void 0:_.account)||"").toLowerCase().includes(A)||String((_==null?void 0:_.profession)||"").toLowerCase().includes(A)):Qd},[Qd,Bo]),Y6=g.useMemo(()=>{const A=new Map;return Qd.forEach(_=>{A.set(String((_==null?void 0:_.key)||""),_)}),A},[Qd]),X6=K&&Y6.get(K)||null,gl=g.useMemo(()=>!Wn||!K?[]:(Wn.fights||[]).map((A,_)=>{var ee;const ue=((ee=A==null?void 0:A.values)==null?void 0:ee[K])||{total:0,peak:0},de=Array.isArray(ue==null?void 0:ue.buckets5s)?ue.buckets5s:[],Ve=Math.max(de.length,Math.ceil(Math.max(0,Number((A==null?void 0:A.durationMs)||0))/5e3),1),Z=Math.max(0,Number((ue==null?void 0:ue.total)||0))/Ve,xe=Array.from({length:Ve},(Bt,at)=>Math.max(0,Number(de[at]||0))).reduce((Bt,at)=>Bt+(at>0?1:0),0)/Ve*100,st=Object.entries(A!=null&&A.values&&typeof A.values=="object"?A.values:{}).filter(([Bt])=>String(Bt||"")!=="__all__").reduce((Bt,[,at])=>Math.max(Bt,Math.max(0,Number((at==null?void 0:at.peak)||0))),0),Ke=Object.entries(A!=null&&A.values&&typeof A.values=="object"?A.values:{}).filter(([Bt])=>String(Bt||"")!=="__all__").reduce((Bt,[,at])=>{const Pt=Array.isArray(at==null?void 0:at.buckets5s)?at.buckets5s:[],Wt=Math.max(Pt.length,Math.ceil(Math.max(0,Number((A==null?void 0:A.durationMs)||0))/5e3),1),$t=Math.max(0,Number((at==null?void 0:at.total)||0))/Wt;return Math.max(Bt,$t)},0),Tt=Object.entries(A!=null&&A.values&&typeof A.values=="object"?A.values:{}).filter(([Bt])=>String(Bt||"")!=="__all__").reduce((Bt,[,at])=>{const Pt=Array.isArray(at==null?void 0:at.buckets5s)?at.buckets5s:[],Wt=Math.max(Pt.length,Math.ceil(Math.max(0,Number((A==null?void 0:A.durationMs)||0))/5e3),1),$t=Array.from({length:Wt},(It,Ut)=>Math.max(0,Number(Pt[Ut]||0))).reduce((It,Ut)=>It+(Ut>0?1:0),0)/Wt*100;return Math.max(Bt,$t)},0);return{index:_,fightId:String((A==null?void 0:A.id)||""),shortLabel:String((A==null?void 0:A.shortLabel)||`F${_+1}`),fullLabel:String((A==null?void 0:A.fullLabel)||`Fight ${_+1}`),timestamp:Number((A==null?void 0:A.timestamp)||0),durationMs:Number((A==null?void 0:A.durationMs)||0),total:Math.max(0,Number((ue==null?void 0:ue.total)||0)),average:Z,uptimePercent:xe,peak:Math.max(0,Number((ue==null?void 0:ue.peak)||0)),maxTotal:st>0?st:Math.max(0,Number((A==null?void 0:A.maxTotal)||0)),maxAverage:Ke,maxUptimePercent:Tt}}),[Wn,K]),J6=g.useMemo(()=>{const A=!!(Wn!=null&&Wn.stacking),_=gl.reduce((de,Ve)=>Math.max(de,Number(A?Ve==null?void 0:Ve.average:(Ve==null?void 0:Ve.uptimePercent)||0)),0),ee=gl.reduce((de,Ve)=>Math.max(de,Number(A?Ve==null?void 0:Ve.maxAverage:(Ve==null?void 0:Ve.maxUptimePercent)||0)),0),ue=Wn!=null&&Wn.stacking?25:100;return Math.max(1,_,ee,ue)},[gl,Wn==null?void 0:Wn.stacking]),Dj=g.useMemo(()=>{var A,_;const ee=Xe===null?null:gl.find(st=>st.index===Xe)||null;if(!ee||!Wn||!K)return{title:"Fight Breakdown",data:[]};const ue=(A=Wn.fights)==null?void 0:A[ee.index];if(!ue)return{title:"Fight Breakdown",data:[]};const de=(_=ue==null?void 0:ue.values)==null?void 0:_[K],Ve=Array.isArray(de==null?void 0:de.buckets5s)?de.buckets5s:[],Z=Math.max(Ve.length,Math.ceil(Math.max(0,Number((ue==null?void 0:ue.durationMs)||0))/5e3),1),xe=Array.from({length:Z},(st,Ke)=>{const Tt=Object.entries(ue!=null&&ue.values&&typeof ue.values=="object"?ue.values:{}).filter(([Bt])=>String(Bt||"")!=="__all__").reduce((Bt,[,at])=>{var Pt;return Math.max(Bt,Math.max(0,Number(((Pt=at==null?void 0:at.buckets5s)==null?void 0:Pt[Ke])||0)))},0);return{label:`${Ke*5}s-${(Ke+1)*5}s`,value:Math.max(0,Number(Ve[Ke]||0)),maxValue:Tt}});return{title:`Fight Breakdown - ${ee.shortLabel||"Fight"} (5s Stack Buckets)`,data:xe}},[Xe,gl,Wn,K]),Q6=g.useMemo(()=>{if(!K)return null;const A=Su.get(K);return Number.isFinite(Number(A))?Number(A):null},[Su,K]),Z6=g.useMemo(()=>{const A=Nt.trim().toLowerCase(),_=[...te.specialTables||[]].sort((ee,ue)=>ee.name.localeCompare(ue.name));return A?_.filter(ee=>ee.name.toLowerCase().includes(A)):_},[te.specialTables,Nt]),mo=g.useMemo(()=>[...te.specialTables||[]].filter(A=>/\b(sigil|relic)\b/i.test(String((A==null?void 0:A.name)||""))).sort((A,_)=>A.name.localeCompare(_.name)),[te.specialTables]),eB=g.useMemo(()=>{const A=nr.trim().toLowerCase();return A?mo.filter(_=>_.name.toLowerCase().includes(A)):mo},[mo,nr]),tB=g.useMemo(()=>Vt?(te.specialTables||[]).find(A=>A.id===Vt)??null:null,[te.specialTables,Vt]),nB=g.useMemo(()=>fn?mo.find(A=>A.id===fn)??null:null,[mo,fn]);g.useEffect(()=>{!te.boonTables||te.boonTables.length===0||(!En||!te.boonTables.some(A=>A.id===En))&&sc(te.boonTables[0].id)},[te.boonTables,En]),g.useEffect(()=>{if(ws.length===0){Kr!==null&&Ea(null);return}(!Kr||!ws.some(A=>A.id===Kr))&&Ea(ws[0].id)},[ws,Kr]),g.useEffect(()=>{var A;const _=(Si==null?void 0:Si.players)||[];if(_.length===0){Zn!==null&&po(null);return}const ee=((A=_.find(ue=>ue.key==="__all__"))==null?void 0:A.key)||_[0].key;(!Zn||!_.some(ue=>ue.key===Zn))&&po(ee)},[Si,Zn]),g.useEffect(()=>{cc(null)},[Kr,Zn]),g.useEffect(()=>{if(ks.length===0){bi!==null&&ul(null);return}(!bi||!ks.some(A=>A.id===bi))&&ul(ks[0].id)},[ks,bi]),g.useEffect(()=>{var A;const _=(Wn==null?void 0:Wn.players)||[];if(_.length===0){K!==null&&ke(null);return}const ee=((A=_.find(ue=>ue.key==="__all__"))==null?void 0:A.key)||_[0].key;(!K||!_.some(ue=>ue.key===K))&&ke(ee)},[Wn,K]),g.useEffect(()=>{Xe!==null&&(Xe<0||Xe>=gl.length)&&yt(null)},[gl,Xe]),g.useEffect(()=>{yt(null)},[bi,K]),g.useEffect(()=>{!te.specialTables||te.specialTables.length===0||(!Vt||!te.specialTables.some(A=>A.id===Vt))&&Rt(te.specialTables[0].id)},[te.specialTables,Vt]),g.useEffect(()=>{if(!mo||mo.length===0){fn!==null&&yr(null);return}(!fn||!mo.some(A=>A.id===fn))&&yr(mo[0].id)},[mo,fn]),g.useEffect(()=>{const A=()=>{const ee=window.getSelection();ee&&ee.rangeCount>0&&ee.removeAllRanges()},_=ee=>{var ue;const de=ee.target;(ue=de==null?void 0:de.closest)!=null&&ue.call(de,".recharts-wrapper")&&(ee.preventDefault(),A())};return document.addEventListener("selectstart",_),document.addEventListener("mousedown",_),document.addEventListener("mousemove",_),document.addEventListener("dragstart",_),()=>{document.removeEventListener("selectstart",_),document.removeEventListener("mousedown",_),document.removeEventListener("mousemove",_),document.removeEventListener("dragstart",_)}},[]);const ia=A=>{zo.current&&(window.clearTimeout(zo.current),zo.current=null),fc(!1),dc(A)},Rr=()=>{xn&&(zo.current&&window.clearTimeout(zo.current),fc(!0),zo.current=window.setTimeout(()=>{dc(null),fc(!1),zo.current=null},160))};g.useEffect(()=>{if(!xn)return;const A=ue=>{ue.key==="Escape"&&Rr()},_=document.body.style.overflow,ee=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A),document.body.style.overflow=_,document.documentElement.style.overflow=ee}},[xn]);const Tj=(A,_)=>{const ee=((_==null?void 0:_.value)||0)-((A==null?void 0:A.value)||0);return ee!==0?ee:String((A==null?void 0:A.name)||"").localeCompare(String((_==null?void 0:_.name)||""))},Pj=Array.isArray(te==null?void 0:te.squadClassData)?te.squadClassData:[],Oj=Array.isArray(te==null?void 0:te.enemyClassData)?te.enemyClassData:[],rB=Array.isArray(te==null?void 0:te.attendanceData)?te.attendanceData:[],Nb=Array.isArray(te==null?void 0:te.squadCompByFight)?te.squadCompByFight:[],Ij=Array.isArray(te==null?void 0:te.fightBreakdown)?te.fightBreakdown:[],aB=g.useMemo(()=>{const A=new Map;return Ij.forEach(_=>{const ee=String((_==null?void 0:_.id)||"");ee&&A.set(ee,_)}),Nb.map(_=>{const ee=A.get(String((_==null?void 0:_.id)||""))||null;return{..._,enemyClassCounts:(ee==null?void 0:ee.enemyClassCounts)||{}}})},[Nb,Ij]),iB=g.useMemo(()=>[...Pj].sort(Tj),[Pj]),oB=g.useMemo(()=>[...Oj].sort(Tj),[Oj]),sB=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",lB=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${xn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${xn?"":"backdrop-blur-2xl"}`,_j=u&&p!=="matte"&&p!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&p==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,cB=ye?{..._j||{},overflowY:"hidden"}:_j,uB=A=>ps==="perSecond"?A.toFixed(1):Math.round(A).toLocaleString(),dB=A=>A.toFixed(1),fB=A=>Math.round(A).toLocaleString(),pB=A=>typeof A=="number"&&Number.isFinite(A)?A.toFixed(1):"0.0",mB=Math.max(Math.max(0,Number(te.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((h==null?void 0:h.total)||0))),oa=ooe;return c.jsxs("div",{className:sB,children:[xn&&c.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${Cr?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:Rr}),c.jsx(Uoe,{embedded:u,dashboardTitle:f,totalLogs:mB,onBack:t,devMockAvailable:we,devMockUploadState:Qe,onDevMockUpload:hr,uploadingWeb:O,onWebUpload:sn,sharing:Qn,canShareDiscord:m,onShare:dn}),c.jsx(Voe,{embedded:u,webUploadMessage:q,webUploadUrl:X,webUploadBuildStatus:se,webCopyStatus:Ft,setWebCopyStatus:an}),c.jsx(Woe,{embedded:u,devMockAvailable:we,devMockUploadState:Qe}),re&&c.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"stats-settling-banner__title font-semibold",children:R}),c.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:ce})]}),L.active&&c.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:c.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${L.progressPercent}%`}})}),B&&c.jsx("div",{className:"stats-settling-banner__meta mt-2 text-[11px] opacity-80",children:B})]}),c.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${ye?"stats-dashboard-loading-shell":""}`,children:[c.jsxs("div",{id:"stats-dashboard-container",ref:Ne,className:`${lB} ${u?"":"flex-1"} ${ye?"stats-dashboard-scroll-lock":""}`,style:cB,children:[c.jsxs(c.Fragment,{children:[Ot("overview")&&c.jsx(Coe,{stats:te,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("fight-breakdown")&&c.jsx(Aoe,{stats:te,fightBreakdownTab:Em,setFightBreakdownTab:ai,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("top-players")&&c.jsx(Doe,{stats:te,showTopStats:C,showMvp:j,topStatsMode:T,expandedLeader:Ln,setExpandedLeader:gr,formatTopStatValue:xl,formatWithCommas:ca,isMvpStatEnabled:gn,renderProfessionIcon:oa,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("top-skills-outgoing")&&c.jsx(Toe,{stats:te,topSkillsMetric:I,onTopSkillsMetricChange:zn,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("squad-composition")&&c.jsx(Poe,{sortedSquadClassData:iB,sortedEnemyClassData:oB,getProfessionIconPath:Ic,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("attendance-ledger")&&c.jsx(Foe,{attendanceRows:rB,getProfessionIconPath:Ic,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("squad-comp-fight")&&c.jsx($oe,{fights:Nb,getProfessionIconPath:Ic,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("fight-comp")&&c.jsx(zoe,{fights:aB,getProfessionIconPath:Ic,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("timeline")&&c.jsx(Ooe,{timelineData:te.timelineData,timelineFriendlyScope:Cn,setTimelineFriendlyScope:Fr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("map-distribution")&&c.jsx(Ioe,{mapData:te.mapData,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("offense-detailed")&&c.jsx(moe,{stats:te,OFFENSE_METRICS:b3,roundCountStats:M,offenseSearch:E,setOffenseSearch:z,activeOffenseStat:nt,setActiveOffenseStat:wt,offenseViewMode:Te,setOffenseViewMode:ft,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Ot("player-breakdown")&&c.jsx(uoe,{expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo,viewMode:l6,setViewMode:c6,playerSkillBreakdowns:bs,classSkillBreakdowns:xu,activePlayerKey:mc,setActivePlayerKey:vb,expandedPlayerKey:i6,setExpandedPlayerKey:xj,activePlayerSkillId:Uo,setActivePlayerSkillId:Dm,activeClassKey:hc,setActiveClassKey:xb,expandedClassKey:u6,setExpandedClassKey:wj,activeClassSkillId:ys,setActiveClassSkillId:Tm,skillSearch:o6,setSkillSearch:s6,activePlayerBreakdown:vs,activePlayerSkill:f6,activeClassBreakdown:pl,activeClassSkill:p6,renderProfessionIcon:oa}),Ot("damage-breakdown")&&c.jsx(doe,{expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,playerSkillBreakdowns:bs,renderProfessionIcon:oa}),Ot("spike-damage")&&c.jsx(Q5,{expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,spikePlayerFilter:St,setSpikePlayerFilter:zt,groupedSpikePlayers:m6,spikeMode:Fn,setSpikeMode:Ze,damageBasis:Re,setDamageBasis:Ye,showDamageBasisToggle:!0,selectedSpikePlayerKey:Dn,setSelectedSpikePlayerKey:vi,selectedSpikePlayer:h6,spikeChartData:Vo,spikeChartMaxY:g6,selectedSpikeFightIndex:aa,setSelectedSpikeFightIndex:Wa,spikeDrilldownTitle:Om.title,spikeDrilldownData:Om.data,spikeDrilldownDownIndices:Om.downIndices,spikeDrilldownDeathIndices:Om.deathIndices,spikeFightSkillRows:w6,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:ca,renderProfessionIcon:oa}),Ot("conditions-outgoing")&&c.jsx(hoe,{conditionSummary:Lm,conditionPlayers:C6,conditionSearch:Ie,setConditionSearch:vt,activeConditionName:$e,setActiveConditionName:ge,conditionDirection:he,setConditionDirection:et,conditionGridClass:Le,effectiveConditionSort:qe,setConditionSort:Je,showConditionDamage:oe,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Ot("defense-detailed")&&c.jsx(yoe,{stats:te,DEFENSE_METRICS:v3,defenseSearch:J,setDefenseSearch:ae,activeDefenseStat:je,setActiveDefenseStat:Me,defenseViewMode:xt,setDefenseViewMode:jt,roundCountStats:M,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Ot("incoming-strike-damage")&&c.jsx(Q5,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,spikePlayerFilter:Be,setSpikePlayerFilter:pe,groupedSpikePlayers:y6,spikeMode:Yt,setSpikeMode:Qt,selectedSpikePlayerKey:He,setSelectedSpikePlayerKey:Dt,selectedSpikePlayer:b6,spikeChartData:Wo,spikeChartMaxY:v6,selectedSpikeFightIndex:Gt,setSelectedSpikeFightIndex:hn,spikeDrilldownTitle:Im.title,spikeDrilldownData:Im.data,spikeDrilldownDownIndices:Im.downIndices,spikeDrilldownDeathIndices:Im.deathIndices,spikeFightSkillRows:x6,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:ca,renderProfessionIcon:oa}),Ot("defense-mitigation")&&c.jsx(boe,{stats:te,DAMAGE_MITIGATION_METRICS:H8,damageMitigationSearch:fe,setDamageMitigationSearch:_e,activeDamageMitigationStat:Se,setActiveDamageMitigationStat:De,damageMitigationViewMode:mn,setDamageMitigationViewMode:on,damageMitigationScope:Tr,setDamageMitigationScope:In,roundCountStats:M,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Ot("boon-output")&&c.jsx(goe,{stats:te,activeBoonCategory:ya,setActiveBoonCategory:A=>Lr(A),activeBoonMetric:yu,setActiveBoonMetric:lc,activeBoonTab:En,setActiveBoonTab:sc,activeBoonTable:z6,filteredBoonTables:B6,boonSearch:Ro,setBoonSearch:Ma,formatBoonMetricDisplay:SU,getBoonMetricValue:T3,renderProfessionIcon:oa,roundCountStats:M,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Ot("boon-timeline")&&c.jsx(foe,{expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,boonSearch:fo,setBoonSearch:ba,boons:U6,activeBoonId:Kr,setActiveBoonId:Ea,timelineScope:va,setTimelineScope:ll,playerFilter:ds,setPlayerFilter:Bi,players:V6,selectedPlayerKey:Zn,setSelectedPlayerKey:po,selectedPlayer:q6,chartData:ku,chartMaxY:H6,selectedFightIndex:$o,setSelectedFightIndex:cc,drilldownTitle:Ej.title,drilldownData:Ej.data,formatWithCommas:ca,renderProfessionIcon:oa}),Ot("boon-uptime")&&c.jsx(poe,{expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,boonSearch:cl,setBoonSearch:Kd,boons:K6,activeBoonId:bi,setActiveBoonId:ul,playerFilter:Bo,setPlayerFilter:bu,players:G6,selectedPlayerKey:K,setSelectedPlayerKey:ke,selectedPlayer:X6,chartData:gl,chartMaxY:J6,selectedFightIndex:Xe,setSelectedFightIndex:yt,drilldownTitle:Dj.title,drilldownData:Dj.data,overallUptimePercent:Q6,showStackCapLine:!!(Wn!=null&&Wn.stacking),formatWithCommas:ca,renderProfessionIcon:oa}),Ot("support-detailed")&&c.jsx(voe,{stats:te,SUPPORT_METRICS:x3,supportSearch:ve,setSupportSearch:tt,activeSupportStat:ht,setActiveSupportStat:gt,supportViewMode:ln,setSupportViewMode:rt,cleanseScope:Kn,setCleanseScope:pn,roundCountStats:M,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Ot("healing-stats")&&c.jsx(xoe,{stats:te,HEALING_METRICS:K8,activeHealingMetric:We,setActiveHealingMetric:it,healingCategory:Ce,setHealingCategory:Ge,activeResUtilitySkill:ot,setActiveResUtilitySkill:ut,skillUsageData:bt,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("fight-diff-mode")&&c.jsx(joe,{stats:te,formatWithCommas:ca,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un}),Ot("special-buffs")&&c.jsx(koe,{stats:te,specialSearch:Nt,setSpecialSearch:yn,filteredSpecialTables:Z6,activeSpecialTab:Vt,setActiveSpecialTab:Rt,activeSpecialTable:tB,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Ot("sigil-relic-uptime")&&c.jsx(Noe,{hasSigilRelicTables:mo.length>0,sigilRelicSearch:nr,setSigilRelicSearch:lt,filteredSigilRelicTables:eB,activeSigilRelicTab:fn,setActiveSigilRelicTab:yr,activeSigilRelicTable:nB,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Ot("skill-usage")&&c.jsx(soe,{expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,selectedPlayers:ri,setSelectedPlayers:zi,removeSelectedPlayer:$6,playerMapByKey:xs,groupedSkillUsagePlayers:j6,expandedSkillUsageClass:dl,setExpandedSkillUsageClass:vu,togglePlayerSelection:R6,skillUsagePlayerFilter:Da,setSkillUsagePlayerFilter:ra,skillUsageView:ps,setSkillUsageView:Gd,skillUsageData:bt,skillUsageSkillFilter:ni,setSkillUsageSkillFilter:uc,selectedSkillId:Ta,setSelectedSkillId:fs,skillBarData:Xd,selectedSkillName:P6,selectedSkillIcon:O6,skillUsageReady:I6,skillUsageAvailable:Lt,isSkillUsagePerSecond:Ui,skillChartData:S6,skillChartMaxY:N6,playerTotalsForSkill:wu,hoveredSkillPlayer:br,setHoveredSkillPlayer:qa,getLineStrokeColor:T6,getLineDashForPlayer:D6,formatSkillUsageValue:uB,renderProfessionIcon:oa}),Ot("apm-stats")&&c.jsx(coe,{expandedSection:xn,expandedSectionClosing:Cr,openExpandedSection:ia,closeExpandedSection:Rr,isSectionVisible:Ot,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo,apmSpecAvailable:_6,skillUsageAvailable:Lt,apmSpecTables:fl,activeApmSpec:xi,setActiveApmSpec:ms,expandedApmSpec:hs,setExpandedApmSpec:yb,activeApmSkillId:gs,setActiveApmSkillId:bb,ALL_SKILLS_KEY:$m,apmSkillSearch:r6,setApmSkillSearch:a6,activeApmSpecTable:hl,activeApmSkill:F6,isAllApmSkills:L6,apmView:ii,setApmView:pc,formatApmValue:pB,formatCastRateValue:dB,formatCastCountValue:fB,renderProfessionIcon:oa})]}),!u&&c.jsx("div",{className:"h-24","aria-hidden":"true"})]}),ye&&c.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const Goe="Arcane",ON="CRT",C0="MatteSlate",A0="KineticPaper",qf="KineticPaperDark",Zh={id:Goe,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Yoe={id:C0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Xoe={id:A0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},Joe={id:qf,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},Qoe=[Zh,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Zoe={id:ON,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Tf=[...Qoe,Zoe,Yoe,Xoe,Joe];function ese(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const tse=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nse=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rse={};function tE(e,t){return(rse.jsx?nse:tse).test(e)}const ase=/[ \t\n\f\r]/g;function ise(e){return typeof e=="object"?e.type==="text"?nE(e.value):!1:nE(e)}function nE(e){return e.replace(ase,"")===""}class km{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}km.prototype.normal={};km.prototype.property={};km.prototype.space=void 0;function DF(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new km(n,r,t)}function Qw(e){return e.toLowerCase()}class yi{constructor(t,n){this.attribute=n,this.property=t}}yi.prototype.attribute="";yi.prototype.booleanish=!1;yi.prototype.boolean=!1;yi.prototype.commaOrSpaceSeparated=!1;yi.prototype.commaSeparated=!1;yi.prototype.defined=!1;yi.prototype.mustUseProperty=!1;yi.prototype.number=!1;yi.prototype.overloadedBoolean=!1;yi.prototype.property="";yi.prototype.spaceSeparated=!1;yi.prototype.space=void 0;let ose=0;const un=mu(),zr=mu(),Zw=mu(),pt=mu(),er=mu(),cd=mu(),Ci=mu();function mu(){return 2**++ose}const e1=Object.freeze(Object.defineProperty({__proto__:null,boolean:un,booleanish:zr,commaOrSpaceSeparated:Ci,commaSeparated:cd,number:pt,overloadedBoolean:Zw,spaceSeparated:er},Symbol.toStringTag,{value:"Module"})),Av=Object.keys(e1);class IN extends yi{constructor(t,n,r,a){let i=-1;if(super(t,n),rE(this,"space",a),typeof r=="number")for(;++i<Av.length;){const o=Av[i];rE(this,Av[i],(r&e1[o])===e1[o])}}}IN.prototype.defined=!0;function rE(e,t,n){n&&(e[t]=n)}function qd(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new IN(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Qw(r)]=r,n[Qw(i.attribute)]=r}return new km(t,n,e.space)}const TF=qd({properties:{ariaActiveDescendant:null,ariaAtomic:zr,ariaAutoComplete:null,ariaBusy:zr,ariaChecked:zr,ariaColCount:pt,ariaColIndex:pt,ariaColSpan:pt,ariaControls:er,ariaCurrent:null,ariaDescribedBy:er,ariaDetails:null,ariaDisabled:zr,ariaDropEffect:er,ariaErrorMessage:null,ariaExpanded:zr,ariaFlowTo:er,ariaGrabbed:zr,ariaHasPopup:null,ariaHidden:zr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:er,ariaLevel:pt,ariaLive:null,ariaModal:zr,ariaMultiLine:zr,ariaMultiSelectable:zr,ariaOrientation:null,ariaOwns:er,ariaPlaceholder:null,ariaPosInSet:pt,ariaPressed:zr,ariaReadOnly:zr,ariaRelevant:null,ariaRequired:zr,ariaRoleDescription:er,ariaRowCount:pt,ariaRowIndex:pt,ariaRowSpan:pt,ariaSelected:zr,ariaSetSize:pt,ariaSort:null,ariaValueMax:pt,ariaValueMin:pt,ariaValueNow:pt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function PF(e,t){return t in e?e[t]:t}function OF(e,t){return PF(e,t.toLowerCase())}const sse=qd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cd,acceptCharset:er,accessKey:er,action:null,allow:null,allowFullScreen:un,allowPaymentRequest:un,allowUserMedia:un,alt:null,as:null,async:un,autoCapitalize:null,autoComplete:er,autoFocus:un,autoPlay:un,blocking:er,capture:null,charSet:null,checked:un,cite:null,className:er,cols:pt,colSpan:null,content:null,contentEditable:zr,controls:un,controlsList:er,coords:pt|cd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:un,defer:un,dir:null,dirName:null,disabled:un,download:Zw,draggable:zr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:un,formTarget:null,headers:er,height:pt,hidden:Zw,high:pt,href:null,hrefLang:null,htmlFor:er,httpEquiv:er,id:null,imageSizes:null,imageSrcSet:null,inert:un,inputMode:null,integrity:null,is:null,isMap:un,itemId:null,itemProp:er,itemRef:er,itemScope:un,itemType:er,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:un,low:pt,manifest:null,max:null,maxLength:pt,media:null,method:null,min:null,minLength:pt,multiple:un,muted:un,name:null,nonce:null,noModule:un,noValidate:un,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:un,optimum:pt,pattern:null,ping:er,placeholder:null,playsInline:un,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:un,referrerPolicy:null,rel:er,required:un,reversed:un,rows:pt,rowSpan:pt,sandbox:er,scope:null,scoped:un,seamless:un,selected:un,shadowRootClonable:un,shadowRootDelegatesFocus:un,shadowRootMode:null,shape:null,size:pt,sizes:null,slot:null,span:pt,spellCheck:zr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pt,step:null,style:null,tabIndex:pt,target:null,title:null,translate:null,type:null,typeMustMatch:un,useMap:null,value:zr,width:pt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:er,axis:null,background:null,bgColor:null,border:pt,borderColor:null,bottomMargin:pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:un,declare:un,event:null,face:null,frame:null,frameBorder:null,hSpace:pt,leftMargin:pt,link:null,longDesc:null,lowSrc:null,marginHeight:pt,marginWidth:pt,noResize:un,noHref:un,noShade:un,noWrap:un,object:null,profile:null,prompt:null,rev:null,rightMargin:pt,rules:null,scheme:null,scrolling:zr,standby:null,summary:null,text:null,topMargin:pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:un,disableRemotePlayback:un,prefix:null,property:null,results:pt,security:null,unselectable:null},space:"html",transform:OF}),lse=qd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ci,accentHeight:pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pt,amplitude:pt,arabicForm:null,ascent:pt,attributeName:null,attributeType:null,azimuth:pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pt,by:null,calcMode:null,capHeight:pt,className:er,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pt,diffuseConstant:pt,direction:null,display:null,dur:null,divisor:pt,dominantBaseline:null,download:un,dx:null,dy:null,edgeMode:null,editable:null,elevation:pt,enableBackground:null,end:null,event:null,exponent:pt,externalResourcesRequired:null,fill:null,fillOpacity:pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cd,g2:cd,glyphName:cd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pt,horizOriginX:pt,horizOriginY:pt,id:null,ideographic:pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pt,k:pt,k1:pt,k2:pt,k3:pt,k4:pt,kernelMatrix:Ci,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pt,overlineThickness:pt,paintOrder:null,panose1:null,path:null,pathLength:pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:er,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pt,pointsAtY:pt,pointsAtZ:pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ci,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ci,rev:Ci,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ci,requiredFeatures:Ci,requiredFonts:Ci,requiredFormats:Ci,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pt,specularExponent:pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pt,strikethroughThickness:pt,string:null,stroke:null,strokeDashArray:Ci,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pt,strokeOpacity:pt,strokeWidth:null,style:null,surfaceScale:pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ci,tabIndex:pt,tableValues:null,target:null,targetX:pt,targetY:pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ci,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pt,underlineThickness:pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pt,values:null,vAlphabetic:pt,vMathematical:pt,vectorEffect:null,vHanging:pt,vIdeographic:pt,version:null,vertAdvY:pt,vertOriginX:pt,vertOriginY:pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:PF}),IF=qd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),_F=qd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:OF}),LF=qd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),cse={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},use=/[A-Z]/g,aE=/-[a-z]/g,dse=/^data[-\w.:]+$/i;function fse(e,t){const n=Qw(t);let r=t,a=yi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&dse.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(aE,mse);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!aE.test(i)){let o=i.replace(use,pse);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=IN}return new a(r,t)}function pse(e){return"-"+e.toLowerCase()}function mse(e){return e.charAt(1).toUpperCase()}const hse=DF([TF,sse,IF,_F,LF],"html"),_N=DF([TF,lse,IF,_F,LF],"svg");function gse(e){return e.join(" ").trim()}var LN={},iE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,yse=/\n/g,bse=/^\s*/,vse=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,xse=/^:\s*/,wse=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,kse=/^[;\s]*/,Sse=/^\s+|\s+$/g,Nse=`
`,oE="/",sE="*",Dc="",jse="comment",Cse="declaration";function Ase(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var b=h.match(yse);b&&(n+=b.length);var v=h.lastIndexOf(Nse);r=~v?h.length-v:r+h.length}function i(){var h={line:n,column:r};return function(b){return b.position=new o(h),u(),b}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var b=new Error(t.source+":"+n+":"+r+": "+h);if(b.reason=h,b.filename=t.source,b.line=n,b.column=r,b.source=e,!t.silent)throw b}function l(h){var b=h.exec(e);if(b){var v=b[0];return a(v),e=e.slice(v.length),b}}function u(){l(bse)}function d(h){var b;for(h=h||[];b=f();)b!==!1&&h.push(b);return h}function f(){var h=i();if(!(oE!=e.charAt(0)||sE!=e.charAt(1))){for(var b=2;Dc!=e.charAt(b)&&(sE!=e.charAt(b)||oE!=e.charAt(b+1));)++b;if(b+=2,Dc===e.charAt(b-1))return s("End of comment missing");var v=e.slice(2,b-2);return r+=2,a(v),e=e.slice(b),r+=2,h({type:jse,comment:v})}}function p(){var h=i(),b=l(vse);if(b){if(f(),!l(xse))return s("property missing ':'");var v=l(wse),y=h({type:Cse,property:lE(b[0].replace(iE,Dc)),value:v?lE(v[0].replace(iE,Dc)):Dc});return l(kse),y}}function m(){var h=[];d(h);for(var b;b=p();)b!==!1&&(h.push(b),d(h));return h}return u(),m()}function lE(e){return e?e.replace(Sse,Dc):Dc}var Mse=Ase,Ese=ag&&ag.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LN,"__esModule",{value:!0});LN.default=Tse;const Dse=Ese(Mse);function Tse(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Dse.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var ab={};Object.defineProperty(ab,"__esModule",{value:!0});ab.camelCase=void 0;var Pse=/^--[a-zA-Z0-9_-]+$/,Ose=/-([a-z])/g,Ise=/^[^-]+$/,_se=/^-(webkit|moz|ms|o|khtml)-/,Lse=/^-(ms)-/,Fse=function(e){return!e||Ise.test(e)||Pse.test(e)},Rse=function(e,t){return t.toUpperCase()},cE=function(e,t){return"".concat(t,"-")},$se=function(e,t){return t===void 0&&(t={}),Fse(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Lse,cE):e=e.replace(_se,cE),e.replace(Ose,Rse))};ab.camelCase=$se;var Bse=ag&&ag.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},zse=Bse(LN),Use=ab;function t1(e,t){var n={};return!e||typeof e!="string"||(0,zse.default)(e,function(r,a){r&&a&&(n[(0,Use.camelCase)(r,t)]=a)}),n}t1.default=t1;var Vse=t1;const Wse=_o(Vse),FF=RF("end"),FN=RF("start");function RF(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function qse(e){const t=FN(e),n=FF(e);if(t&&n)return{start:t,end:n}}function Hf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?uE(e.position):"start"in e||"end"in e?uE(e):"line"in e||"column"in e?n1(e):""}function n1(e){return dE(e&&e.line)+":"+dE(e&&e.column)}function uE(e){return n1(e&&e.start)+"-"+n1(e&&e.end)}function dE(e){return e&&typeof e=="number"?e:1}class Va extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=Hf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Va.prototype.file="";Va.prototype.name="";Va.prototype.reason="";Va.prototype.message="";Va.prototype.stack="";Va.prototype.column=void 0;Va.prototype.line=void 0;Va.prototype.ancestors=void 0;Va.prototype.cause=void 0;Va.prototype.fatal=void 0;Va.prototype.place=void 0;Va.prototype.ruleId=void 0;Va.prototype.source=void 0;const RN={}.hasOwnProperty,Hse=new Map,Kse=/[A-Z]/g,Gse=new Set(["table","tbody","thead","tfoot","tr"]),Yse=new Set(["td","th"]),$F="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Xse(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ale(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=rle(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?_N:hse,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=BF(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function BF(e,t,n){if(t.type==="element")return Jse(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Qse(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ele(e,t,n);if(t.type==="mdxjsEsm")return Zse(e,t);if(t.type==="root")return tle(e,t,n);if(t.type==="text")return nle(e,t)}function Jse(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=_N,e.schema=a),e.ancestors.push(t);const i=UF(e,t.tagName,!1),o=ile(e,t);let s=BN(e,t);return Gse.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!ise(l):!0})),zF(e,o,i,t),$N(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Qse(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}_p(e,t.position)}function Zse(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);_p(e,t.position)}function ele(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=_N,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:UF(e,t.name,!0),o=ole(e,t),s=BN(e,t);return zF(e,o,i,t),$N(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function tle(e,t,n){const r={};return $N(r,BN(e,t)),e.create(t,e.Fragment,r,n)}function nle(e,t){return t.value}function zF(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function $N(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function rle(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function ale(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=FN(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function ile(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&RN.call(t.properties,a)){const i=sle(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Yse.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ole(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else _p(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else _p(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function BN(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Hse;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=a.get(l)||0;o=l+"-"+u,a.set(l,u+1)}}const s=BF(e,i,o);s!==void 0&&n.push(s)}return n}function sle(e,t,n){const r=fse(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ese(n):gse(n)),r.property==="style"){let a=typeof n=="object"?n:lle(e,String(n));return e.stylePropertyNameCase==="css"&&(a=cle(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?cse[r.property]||r.property:r.attribute,n]}}function lle(e,t){try{return Wse(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Va("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=$F+"#cannot-parse-style-attribute",a}}function UF(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=tE(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=tE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return RN.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);_p(e)}function _p(e,t){const n=new Va("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=$F+"#cannot-handle-mdx-estrees-without-createevaluater",n}function cle(e){const t={};let n;for(n in e)RN.call(e,n)&&(t[ule(n)]=e[n]);return t}function ule(e){let t=e.replace(Kse,dle);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function dle(e){return"-"+e.toLowerCase()}const Mv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fle={};function zN(e,t){const n=fle,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return VF(e,r,a)}function VF(e,t,n){if(ple(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return fE(e.children,t,n)}return Array.isArray(e)?fE(e,t,n):""}function fE(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=VF(e[a],t,n);return r.join("")}function ple(e){return!!(e&&typeof e=="object")}const pE=document.createElement("i");function UN(e){const t="&"+e+";";pE.innerHTML=t;const n=pE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ii(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Ji(e,t){return e.length>0?(Ii(e,e.length,0,t),e):t}const mE={}.hasOwnProperty;function WF(e){const t={};let n=-1;for(;++n<e.length;)mle(t,e[n]);return t}function mle(e,t){let n;for(n in t){const r=(mE.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){mE.call(r,i)||(r[i]=[]);const o=a[i];hle(r[i],Array.isArray(o)?o:o?[o]:[])}}}function hle(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ii(e,0,0,r)}function qF(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Co(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ga=ic(/[A-Za-z]/),Ba=ic(/[\dA-Za-z]/),gle=ic(/[#-'*+\--9=?A-Z^-~]/);function M0(e){return e!==null&&(e<32||e===127)}const r1=ic(/\d/),yle=ic(/[\dA-Fa-f]/),ble=ic(/[!-/:-@[-`{-~]/);function Ht(e){return e!==null&&e<-2}function Yn(e){return e!==null&&(e<0||e===32)}function bn(e){return e===-2||e===-1||e===32}const ib=ic(new RegExp("\\p{P}|\\p{S}","u")),lu=ic(/\s/);function ic(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Hd(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Ba(e.charCodeAt(n+1))&&Ba(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function jn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return bn(l)?(e.enter(n),s(l)):t(l)}function s(l){return bn(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const vle={tokenize:xle};function xle(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),jn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Ht(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const wle={tokenize:kle},hE={tokenize:Sle};function kle(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&x();const S=t.events.length;let C=S,j;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){j=t.events[C][1].end;break}y(r);let M=S;for(;M<t.events.length;)t.events[M][1].end={...j},M++;return Ii(t.events,C+1,0,t.events.slice(S)),t.events.length=M,u(w)}return s(w)}function u(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(hE,d,f)(w)}function d(w){return a&&x(),y(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(hE,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&x(),y(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),b(w)}function b(w){if(w===null){v(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return Ht(w)?(e.consume(w),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),b)}function v(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(C),t.parser.lazy[w.start.line]){let j=a.events.length;for(;j--;)if(a.events[j][1].start.offset<o&&(!a.events[j][1].end||a.events[j][1].end.offset>o))return;const M=t.events.length;let T=M,$,D;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if($){D=t.events[T][1].end;break}$=!0}for(y(r),j=M;j<t.events.length;)t.events[j][1].end={...D},j++;Ii(t.events,T+1,0,t.events.slice(M)),t.events.length=j}}function y(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function x(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function Sle(e,t,n){return jn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ed(e){if(e===null||Yn(e)||lu(e))return 1;if(ib(e))return 2}function ob(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const a1={name:"attention",resolveAll:Nle,tokenize:jle};function Nle(e,t){let n=-1,r,a,i,o,s,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};gE(f,-l),gE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ji(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Ji(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=Ji(u,ob(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Ji(u,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Ji(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ii(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function jle(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Ed(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const u=e.exit("attentionSequence"),d=Ed(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?f:f&&(a||!p)),u._close=!!(i===42?p:p&&(d||!f)),t(l)}}function gE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Cle={name:"autolink",tokenize:Ale};function Ale(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ga(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||Ba(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ba(m))&&r++<32?(e.consume(m),s):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||M0(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):gle(m)?(e.consume(m),u):n(m)}function d(m){return Ba(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ba(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Sm={partial:!0,tokenize:Mle};function Mle(e,t,n){return r;function r(i){return bn(i)?jn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Ht(i)?t(i):n(i)}}const HF={continuation:{tokenize:Dle},exit:Tle,name:"blockQuote",tokenize:Ele};function Ele(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return bn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Dle(e,t,n){const r=this;return a;function a(o){return bn(o)?jn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(HF,t,n)(o)}}function Tle(e){e.exit("blockQuote")}const KF={name:"characterEscape",tokenize:Ple};function Ple(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return ble(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const GF={name:"characterReference",tokenize:Ole};function Ole(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Ba,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=yle,d):(e.enter("characterReferenceValue"),i=7,o=r1,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Ba&&!UN(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const yE={partial:!0,tokenize:_le},bE={concrete:!0,name:"codeFenced",tokenize:Ile};function Ile(e,t,n){const r=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(j){return u(j)}function u(j){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===s?(o++,e.consume(j),d):o<3?n(j):(e.exit("codeFencedFenceSequence"),bn(j)?jn(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Ht(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(yE,b,S)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||Ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):bn(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),jn(e,m,"whitespace")(j)):j===96&&j===s?n(j):(e.consume(j),p)}function m(j){return j===null||Ht(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||Ht(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===s?n(j):(e.consume(j),h)}function b(j){return e.attempt(a,S,v)(j)}function v(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),y}function y(j){return i>0&&bn(j)?jn(e,x,"linePrefix",i+1)(j):x(j)}function x(j){return j===null||Ht(j)?e.check(yE,b,S)(j):(e.enter("codeFlowValue"),w(j))}function w(j){return j===null||Ht(j)?(e.exit("codeFlowValue"),x(j)):(e.consume(j),w)}function S(j){return e.exit("codeFenced"),t(j)}function C(j,M,T){let $=0;return D;function D(se){return j.enter("lineEnding"),j.consume(se),j.exit("lineEnding"),I}function I(se){return j.enter("codeFencedFence"),bn(se)?jn(j,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):O(se)}function O(se){return se===s?(j.enter("codeFencedFenceSequence"),q(se)):T(se)}function q(se){return se===s?($++,j.consume(se),q):$>=o?(j.exit("codeFencedFenceSequence"),bn(se)?jn(j,X,"whitespace")(se):X(se)):T(se)}function X(se){return se===null||Ht(se)?(j.exit("codeFencedFence"),M(se)):T(se)}}}function _le(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ev={name:"codeIndented",tokenize:Fle},Lle={partial:!0,tokenize:Rle};function Fle(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),jn(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Ht(u)?e.attempt(Lle,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Ht(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function Rle(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):jn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Ht(o)?a(o):n(o)}}const $le={name:"codeText",previous:zle,resolve:Ble,tokenize:Ule};function Ble(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function zle(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ule(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):Ht(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Ht(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",u(f))}}class Vle{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&xf(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),xf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),xf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);xf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);xf(this.left,n.reverse())}}}function xf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function YF(e){const t={};let n=-1,r,a,i,o,s,l,u;const d=new Vle(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Wle(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return Ii(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Wle(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],u={};let d,f,p=-1,m=n,h=0,b=0;const v=[b];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(b=p+1,v.push(b),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):v.pop(),p=v.length;p--;){const y=s.slice(v[p],v[p+1]),x=i.pop();l.push([x,x+y.length-1]),e.splice(x,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return u}const qle={resolve:Kle,tokenize:Gle},Hle={partial:!0,tokenize:Yle};function Kle(e){return YF(e),e}function Gle(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):Ht(s)?e.check(Hle,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Yle(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),jn(e,i,"linePrefix")}function i(o){if(o===null||Ht(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function XF(e,t,n,r,a,i,o,s,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(y),e.exit(i),p):y===null||y===32||y===41||M0(y)?n(y):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),b(y))}function p(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(s),p(y)):y===null||y===60||Ht(y)?n(y):(e.consume(y),y===92?h:m)}function h(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function b(y){return!d&&(y===null||y===41||Yn(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,b):y===41?(e.consume(y),d--,b):y===null||y===32||y===40||M0(y)?n(y):(e.consume(y),y===92?v:b)}function v(y){return y===40||y===41||y===92?(e.consume(y),b):b(y)}}function JF(e,t,n,r,a,i){const o=this;let s=0,l;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):Ht(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Ht(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!bn(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function QF(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),u(p))}function u(p){return p===o?(e.exit(i),l(o)):p===null?n(p):Ht(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),jn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||Ht(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Kf(e,t){let n;return r;function r(a){return Ht(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):bn(a)?jn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const Xle={name:"definition",tokenize:Qle},Jle={partial:!0,tokenize:Zle};function Qle(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return JF.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=Co(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Yn(m)?Kf(e,u)(m):u(m)}function u(m){return XF(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Jle,f,f)(m)}function f(m){return bn(m)?jn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Ht(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function Zle(e,t,n){return r;function r(s){return Yn(s)?Kf(e,a)(s):n(s)}function a(s){return QF(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return bn(s)?jn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Ht(s)?t(s):n(s)}}const ece={name:"hardBreakEscape",tokenize:tce};function tce(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Ht(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const nce={name:"headingAtx",resolve:rce,tokenize:ace};function rce(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ii(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function ace(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Yn(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Ht(d)?(e.exit("atxHeading"),t(d)):bn(d)?jn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function u(d){return d===null||d===35||Yn(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),u)}}const ice=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vE=["pre","script","style","textarea"],oce={concrete:!0,name:"htmlFlow",resolveTo:cce,tokenize:uce},sce={partial:!0,tokenize:fce},lce={partial:!0,tokenize:dce};function cce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function uce(e,t,n){const r=this;let a,i,o,s,l;return u;function u(N){return d(N)}function d(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),p):N===47?(e.consume(N),i=!0,b):N===63?(e.consume(N),a=3,r.interrupt?t:k):Ga(N)?(e.consume(N),o=String.fromCharCode(N),v):n(N)}function p(N){return N===45?(e.consume(N),a=2,m):N===91?(e.consume(N),a=5,s=0,h):Ga(N)?(e.consume(N),a=4,r.interrupt?t:k):n(N)}function m(N){return N===45?(e.consume(N),r.interrupt?t:k):n(N)}function h(N){const F="CDATA[";return N===F.charCodeAt(s++)?(e.consume(N),s===F.length?r.interrupt?t:O:h):n(N)}function b(N){return Ga(N)?(e.consume(N),o=String.fromCharCode(N),v):n(N)}function v(N){if(N===null||N===47||N===62||Yn(N)){const F=N===47,U=o.toLowerCase();return!F&&!i&&vE.includes(U)?(a=1,r.interrupt?t(N):O(N)):ice.includes(o.toLowerCase())?(a=6,F?(e.consume(N),y):r.interrupt?t(N):O(N)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):i?x(N):w(N))}return N===45||Ba(N)?(e.consume(N),o+=String.fromCharCode(N),v):n(N)}function y(N){return N===62?(e.consume(N),r.interrupt?t:O):n(N)}function x(N){return bn(N)?(e.consume(N),x):D(N)}function w(N){return N===47?(e.consume(N),D):N===58||N===95||Ga(N)?(e.consume(N),S):bn(N)?(e.consume(N),w):D(N)}function S(N){return N===45||N===46||N===58||N===95||Ba(N)?(e.consume(N),S):C(N)}function C(N){return N===61?(e.consume(N),j):bn(N)?(e.consume(N),C):w(N)}function j(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,M):bn(N)?(e.consume(N),j):T(N)}function M(N){return N===l?(e.consume(N),l=null,$):N===null||Ht(N)?n(N):(e.consume(N),M)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Yn(N)?C(N):(e.consume(N),T)}function $(N){return N===47||N===62||bn(N)?w(N):n(N)}function D(N){return N===62?(e.consume(N),I):n(N)}function I(N){return N===null||Ht(N)?O(N):bn(N)?(e.consume(N),I):n(N)}function O(N){return N===45&&a===2?(e.consume(N),we):N===60&&a===1?(e.consume(N),ne):N===62&&a===4?(e.consume(N),V):N===63&&a===3?(e.consume(N),k):N===93&&a===5?(e.consume(N),W):Ht(N)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(sce,P,q)(N)):N===null||Ht(N)?(e.exit("htmlFlowData"),q(N)):(e.consume(N),O)}function q(N){return e.check(lce,X,P)(N)}function X(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),se}function se(N){return N===null||Ht(N)?q(N):(e.enter("htmlFlowData"),O(N))}function we(N){return N===45?(e.consume(N),k):O(N)}function ne(N){return N===47?(e.consume(N),o="",H):O(N)}function H(N){if(N===62){const F=o.toLowerCase();return vE.includes(F)?(e.consume(N),V):O(N)}return Ga(N)&&o.length<8?(e.consume(N),o+=String.fromCharCode(N),H):O(N)}function W(N){return N===93?(e.consume(N),k):O(N)}function k(N){return N===62?(e.consume(N),V):N===45&&a===2?(e.consume(N),k):O(N)}function V(N){return N===null||Ht(N)?(e.exit("htmlFlowData"),P(N)):(e.consume(N),V)}function P(N){return e.exit("htmlFlow"),t(N)}}function dce(e,t,n){const r=this;return a;function a(o){return Ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function fce(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Sm,t,n)}}const pce={name:"htmlText",tokenize:mce};function mce(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),C):k===63?(e.consume(k),w):Ga(k)?(e.consume(k),T):n(k)}function u(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Ga(k)?(e.consume(k),x):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):Ht(k)?(o=f,ne(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?we(k):k===45?p(k):f(k)}function h(k){const V="CDATA[";return k===V.charCodeAt(i++)?(e.consume(k),i===V.length?b:h):n(k)}function b(k){return k===null?n(k):k===93?(e.consume(k),v):Ht(k)?(o=b,ne(k)):(e.consume(k),b)}function v(k){return k===93?(e.consume(k),y):b(k)}function y(k){return k===62?we(k):k===93?(e.consume(k),y):b(k)}function x(k){return k===null||k===62?we(k):Ht(k)?(o=x,ne(k)):(e.consume(k),x)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):Ht(k)?(o=w,ne(k)):(e.consume(k),w)}function S(k){return k===62?we(k):w(k)}function C(k){return Ga(k)?(e.consume(k),j):n(k)}function j(k){return k===45||Ba(k)?(e.consume(k),j):M(k)}function M(k){return Ht(k)?(o=M,ne(k)):bn(k)?(e.consume(k),M):we(k)}function T(k){return k===45||Ba(k)?(e.consume(k),T):k===47||k===62||Yn(k)?$(k):n(k)}function $(k){return k===47?(e.consume(k),we):k===58||k===95||Ga(k)?(e.consume(k),D):Ht(k)?(o=$,ne(k)):bn(k)?(e.consume(k),$):we(k)}function D(k){return k===45||k===46||k===58||k===95||Ba(k)?(e.consume(k),D):I(k)}function I(k){return k===61?(e.consume(k),O):Ht(k)?(o=I,ne(k)):bn(k)?(e.consume(k),I):$(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,q):Ht(k)?(o=O,ne(k)):bn(k)?(e.consume(k),O):(e.consume(k),X)}function q(k){return k===a?(e.consume(k),a=void 0,se):k===null?n(k):Ht(k)?(o=q,ne(k)):(e.consume(k),q)}function X(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Yn(k)?$(k):(e.consume(k),X)}function se(k){return k===47||k===62||Yn(k)?$(k):n(k)}function we(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function ne(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),H}function H(k){return bn(k)?jn(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):W(k)}function W(k){return e.enter("htmlTextData"),o(k)}}const VN={name:"labelEnd",resolveAll:bce,resolveTo:vce,tokenize:xce},hce={tokenize:wce},gce={tokenize:kce},yce={tokenize:Sce};function bce(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Ii(e,0,e.length,n),e}function vce(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=Ji(s,e.slice(i+1,i+r+3)),s=Ji(s,[["enter",d,t]]),s=Ji(s,ob(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=Ji(s,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),s=Ji(s,e.slice(o+1)),s=Ji(s,[["exit",l,t]]),Ii(e,i,e.length,s),e}function xce(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(Co(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(hce,d,o?d:f)(p):p===91?e.attempt(gce,d,o?u:f)(p):o?d(p):f(p)}function u(p){return e.attempt(yce,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function wce(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Yn(f)?Kf(e,i)(f):i(f)}function i(f){return f===41?d(f):XF(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Yn(f)?Kf(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?QF(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Yn(f)?Kf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function kce(e,t,n){const r=this;return a;function a(s){return JF.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(Co(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Sce(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const Nce={name:"labelStartImage",resolveAll:VN.resolveAll,tokenize:jce};function jce(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Cce={name:"labelStartLink",resolveAll:VN.resolveAll,tokenize:Ace};function Ace(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Dv={name:"lineEnding",tokenize:Mce};function Mce(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),jn(e,t,"linePrefix")}}const eg={name:"thematicBreak",tokenize:Ece};function Ece(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,s(u)}function s(u){return u===a?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ht(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===a?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),bn(u)?jn(e,s,"whitespace")(u):s(u))}}const oi={continuation:{tokenize:Oce},exit:_ce,name:"list",tokenize:Pce},Dce={partial:!0,tokenize:Lce},Tce={partial:!0,tokenize:Ice};function Pce(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:r1(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(eg,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return r1(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Sm,r.interrupt?n:d,e.attempt(Dce,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return bn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Oce(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Sm,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,jn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!bn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Tce,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,jn(e,e.attempt(oi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Ice(e,t,n){const r=this;return jn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function _ce(e){e.exit(this.containerState.type)}function Lce(e,t,n){const r=this;return jn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!bn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const xE={name:"setextUnderline",resolveTo:Fce,tokenize:Rce};function Fce(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Rce(e,t,n){const r=this;let a;return i;function i(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===a?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),bn(u)?jn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ht(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const $ce={tokenize:Bce};function Bce(e){const t=this,n=e.attempt(Sm,r,e.attempt(this.parser.constructs.flowInitial,a,jn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(qle,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const zce={resolveAll:eR()},Uce=ZF("string"),Vce=ZF("text");function ZF(e){return{resolveAll:eR(e==="text"?Wce:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return u(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function eR(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Wce(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const qce={42:oi,43:oi,45:oi,48:oi,49:oi,50:oi,51:oi,52:oi,53:oi,54:oi,55:oi,56:oi,57:oi,62:HF},Hce={91:Xle},Kce={[-2]:Ev,[-1]:Ev,32:Ev},Gce={35:nce,42:eg,45:[xE,eg],60:oce,61:xE,95:eg,96:bE,126:bE},Yce={38:GF,92:KF},Xce={[-5]:Dv,[-4]:Dv,[-3]:Dv,33:Nce,38:GF,42:a1,60:[Cle,pce],91:Cce,92:[ece,KF],93:VN,95:a1,96:$le},Jce={null:[a1,zce]},Qce={null:[42,95]},Zce={null:[]},eue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Qce,contentInitial:Hce,disable:Zce,document:qce,flow:Gce,flowInitial:Kce,insideSpan:Jce,string:Yce,text:Xce},Symbol.toStringTag,{value:"Module"}));function tue(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:M(C),check:M(j),consume:x,enter:w,exit:S,interrupt:M(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:b,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function f(I){return o=Ji(o,I),v(),o[o.length-1]!==null?[]:(T(t,0),u.events=ob(i,u.events,u),u.events)}function p(I,O){return rue(m(I),O)}function m(I){return nue(o,I)}function h(){const{_bufferIndex:I,_index:O,line:q,column:X,offset:se}=r;return{_bufferIndex:I,_index:O,line:q,column:X,offset:se}}function b(I){a[I.line]=I.column,D()}function v(){let I;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<O.length;)y(O.charCodeAt(r._bufferIndex));else y(O)}}function y(I){d=d(I)}function x(I){Ht(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,D()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function w(I,O){const q=O||{};return q.type=I,q.start=h(),u.events.push(["enter",q,u]),s.push(q),q}function S(I){const O=s.pop();return O.end=h(),u.events.push(["exit",O,u]),O}function C(I,O){T(I,O.from)}function j(I,O){O.restore()}function M(I,O){return q;function q(X,se,we){let ne,H,W,k;return Array.isArray(X)?P(X):"tokenize"in X?P([X]):V(X);function V(Q){return le;function le(Y){const L=Y!==null&&Q[Y],B=Y!==null&&Q.null,re=[...Array.isArray(L)?L:L?[L]:[],...Array.isArray(B)?B:B?[B]:[]];return P(re)(Y)}}function P(Q){return ne=Q,H=0,Q.length===0?we:N(Q[H])}function N(Q){return le;function le(Y){return k=$(),W=Q,Q.partial||(u.currentConstruct=Q),Q.name&&u.parser.constructs.disable.null.includes(Q.name)?U():Q.tokenize.call(O?Object.assign(Object.create(u),O):u,l,F,U)(Y)}}function F(Q){return I(W,k),se}function U(Q){return k.restore(),++H<ne.length?N(ne[H]):we}}}function T(I,O){I.resolveAll&&!i.includes(I)&&i.push(I),I.resolve&&Ii(u.events,O,u.events.length-O,I.resolve(u.events.slice(O),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function $(){const I=h(),O=u.previous,q=u.currentConstruct,X=u.events.length,se=Array.from(s);return{from:X,restore:we};function we(){r=I,u.previous=O,u.currentConstruct=q,u.events.length=X,s=se,D()}}function D(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function nue(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function rue(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function aue(e){const t={constructs:WF([eue,...(e||{}).extensions||[]]),content:n(vle),defined:[],document:n(wle),flow:n($ce),lazy:{},string:n(Uce),text:n(Vce)};return t;function n(r){return a;function a(i){return tue(t,r,i)}}}function iue(e){for(;!YF(e););return e}const wE=/[\0\t\n\r]/g;function oue(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let u,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(wE.lastIndex=f,u=wE.exec(i),p=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(p),!u){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const sue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lue(e){return e.replace(sue,cue)}function cue(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return qF(n.slice(a?2:1),a?16:10)}return UN(n)||e}const tR={}.hasOwnProperty;function uue(e,t,n){return typeof t!="string"&&(n=t,t=void 0),due(n)(iue(aue(n).document().write(oue()(e,t,!0))))}function due(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Oe),autolinkProtocol:$,autolinkEmail:$,atxHeading:i(G),blockQuote:i(B),characterEscape:$,characterReference:$,codeFenced:i(re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(re,o),codeText:i(R,o),codeTextData:$,data:$,codeFlowValue:$,definition:i(ce),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(ye),hardBreakEscape:i(me),hardBreakTrailing:i(me),htmlFlow:i(Pe,o),htmlFlowData:$,htmlText:i(Pe,o),htmlTextData:$,image:i(mt),label:o,link:i(Oe),listItem:i(Fe),listItemValue:p,listOrdered:i(ie,f),listUnordered:i(ie),paragraph:i(te),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(G),strong:i(bt),thematicBreak:i(zn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:L,autolinkProtocol:Y,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:Q,characterReference:le,codeFenced:l(v),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:D,codeIndented:l(y),codeText:l(se),codeTextData:D,data:D,definition:l(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(q),htmlFlowData:D,htmlText:l(X),htmlTextData:D,image:l(ne),label:W,labelText:H,lineEnding:I,link:l(we),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:F,resourceDestinationString:k,resourceTitleString:V,resource:P,setextHeading:l(T),setextHeadingLineSequence:M,setextHeadingText:j,strong:l(),thematicBreak:l()}};nR(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ne){let Qe={type:"root",children:[]};const Ft={stack:[Qe],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:d,data:n},an=[];let sn=-1;for(;++sn<Ne.length;)if(Ne[sn][1].type==="listOrdered"||Ne[sn][1].type==="listUnordered")if(Ne[sn][0]==="enter")an.push(sn);else{const hr=an.pop();sn=a(Ne,hr,sn)}for(sn=-1;++sn<Ne.length;){const hr=t[Ne[sn][0]];tR.call(hr,Ne[sn][1].type)&&hr[Ne[sn][1].type].call(Object.assign({sliceSerialize:Ne[sn][2].sliceSerialize},Ft),Ne[sn][1])}if(Ft.tokenStack.length>0){const hr=Ft.tokenStack[Ft.tokenStack.length-1];(hr[1]||kE).call(Ft,void 0,hr[0])}for(Qe.position={start:vl(Ne.length>0?Ne[0][1].start:{line:1,column:1,offset:0}),end:vl(Ne.length>0?Ne[Ne.length-2][1].end:{line:1,column:1,offset:0})},sn=-1;++sn<t.transforms.length;)Qe=t.transforms[sn](Qe)||Qe;return Qe}function a(Ne,Qe,Ft){let an=Qe-1,sn=-1,hr=!1,Qn,dn,Aa,gn;for(;++an<=Ft;){const Ln=Ne[an];switch(Ln[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ln[0]==="enter"?sn++:sn--,gn=void 0;break}case"lineEndingBlank":{Ln[0]==="enter"&&(Qn&&!gn&&!sn&&!Aa&&(Aa=an),gn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:gn=void 0}if(!sn&&Ln[0]==="enter"&&Ln[1].type==="listItemPrefix"||sn===-1&&Ln[0]==="exit"&&(Ln[1].type==="listUnordered"||Ln[1].type==="listOrdered")){if(Qn){let gr=an;for(dn=void 0;gr--;){const En=Ne[gr];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;dn&&(Ne[dn][1].type="lineEndingBlank",hr=!0),En[1].type="lineEnding",dn=gr}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}Aa&&(!dn||Aa<dn)&&(Qn._spread=!0),Qn.end=Object.assign({},dn?Ne[dn][1].start:Ln[1].end),Ne.splice(dn||an,0,["exit",Qn,Ln[2]]),an++,Ft++}if(Ln[1].type==="listItemPrefix"){const gr={type:"listItem",_spread:!1,start:Object.assign({},Ln[1].start),end:void 0};Qn=gr,Ne.splice(an,0,["enter",gr,Ln[2]]),an++,Ft++,Aa=void 0,gn=!0}}}return Ne[Qe][1]._spread=hr,Ft}function i(Ne,Qe){return Ft;function Ft(an){s.call(this,Ne(an),an),Qe&&Qe.call(this,an)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Ne,Qe,Ft){this.stack[this.stack.length-1].children.push(Ne),this.stack.push(Ne),this.tokenStack.push([Qe,Ft||void 0]),Ne.position={start:vl(Qe.start),end:void 0}}function l(Ne){return Qe;function Qe(Ft){Ne&&Ne.call(this,Ft),u.call(this,Ft)}}function u(Ne,Qe){const Ft=this.stack.pop(),an=this.tokenStack.pop();if(an)an[0].type!==Ne.type&&(Qe?Qe.call(this,Ne,an[0]):(an[1]||kE).call(this,Ne,an[0]));else throw new Error("Cannot close `"+Ne.type+"` ("+Hf({start:Ne.start,end:Ne.end})+"): its not open");Ft.position.end=vl(Ne.end)}function d(){return zN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(Ne){if(this.data.expectingFirstListItemValue){const Qe=this.stack[this.stack.length-2];Qe.start=Number.parseInt(this.sliceSerialize(Ne),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.lang=Ne}function h(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.meta=Ne}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Ne.replace(/(\r?\n|\r)$/g,"")}function x(Ne){const Qe=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=Qe,Ft.identifier=Co(this.sliceSerialize(Ne)).toLowerCase()}function w(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=Ne}function S(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=Ne}function C(Ne){const Qe=this.stack[this.stack.length-1];if(!Qe.depth){const Ft=this.sliceSerialize(Ne).length;Qe.depth=Ft}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function M(Ne){const Qe=this.stack[this.stack.length-1];Qe.depth=this.sliceSerialize(Ne).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function $(Ne){const Qe=this.stack[this.stack.length-1].children;let Ft=Qe[Qe.length-1];(!Ft||Ft.type!=="text")&&(Ft=Lt(),Ft.position={start:vl(Ne.start),end:void 0},Qe.push(Ft)),this.stack.push(Ft)}function D(Ne){const Qe=this.stack.pop();Qe.value+=this.sliceSerialize(Ne),Qe.position.end=vl(Ne.end)}function I(Ne){const Qe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ft=Qe.children[Qe.children.length-1];Ft.position.end=vl(Ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Qe.type)&&($.call(this,Ne),D.call(this,Ne))}function O(){this.data.atHardBreak=!0}function q(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Ne}function X(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Ne}function se(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Ne}function we(){const Ne=this.stack[this.stack.length-1];if(this.data.inReference){const Qe=this.data.referenceType||"shortcut";Ne.type+="Reference",Ne.referenceType=Qe,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;this.data.referenceType=void 0}function ne(){const Ne=this.stack[this.stack.length-1];if(this.data.inReference){const Qe=this.data.referenceType||"shortcut";Ne.type+="Reference",Ne.referenceType=Qe,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;this.data.referenceType=void 0}function H(Ne){const Qe=this.sliceSerialize(Ne),Ft=this.stack[this.stack.length-2];Ft.label=lue(Qe),Ft.identifier=Co(Qe).toLowerCase()}function W(){const Ne=this.stack[this.stack.length-1],Qe=this.resume(),Ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ft.type==="link"){const an=Ne.children;Ft.children=an}else Ft.alt=Qe}function k(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=Ne}function V(){const Ne=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=Ne}function P(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function F(Ne){const Qe=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=Qe,Ft.identifier=Co(this.sliceSerialize(Ne)).toLowerCase(),this.data.referenceType="full"}function U(Ne){this.data.characterReferenceType=Ne.type}function Q(Ne){const Qe=this.sliceSerialize(Ne),Ft=this.data.characterReferenceType;let an;Ft?(an=qF(Qe,Ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):an=UN(Qe);const sn=this.stack[this.stack.length-1];sn.value+=an}function le(Ne){const Qe=this.stack.pop();Qe.position.end=vl(Ne.end)}function Y(Ne){D.call(this,Ne);const Qe=this.stack[this.stack.length-1];Qe.url=this.sliceSerialize(Ne)}function L(Ne){D.call(this,Ne);const Qe=this.stack[this.stack.length-1];Qe.url="mailto:"+this.sliceSerialize(Ne)}function B(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function R(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function G(){return{type:"heading",depth:0,children:[]}}function me(){return{type:"break"}}function Pe(){return{type:"html",value:""}}function mt(){return{type:"image",title:null,url:"",alt:null}}function Oe(){return{type:"link",title:null,url:"",children:[]}}function ie(Ne){return{type:"list",ordered:Ne.type==="listOrdered",start:null,spread:Ne._spread,children:[]}}function Fe(Ne){return{type:"listItem",spread:Ne._spread,checked:null,children:[]}}function te(){return{type:"paragraph",children:[]}}function bt(){return{type:"strong",children:[]}}function Lt(){return{type:"text",value:""}}function zn(){return{type:"thematicBreak"}}}function vl(e){return{line:e.line,column:e.column,offset:e.offset}}function nR(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?nR(e,r):fue(e,r)}}function fue(e,t){let n;for(n in t)if(tR.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function kE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Hf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Hf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Hf({start:t.start,end:t.end})+") is still open")}function pue(e){const t=this;t.parser=n;function n(r){return uue(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function mue(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function hue(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function gue(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function yue(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bue(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vue(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Hd(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function xue(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wue(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rR(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function kue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rR(e,t);const a={src:Hd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function Sue(e,t){const n={src:Hd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Nue(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function jue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rR(e,t);const a={href:Hd(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Cue(e,t){const n={href:Hd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Aue(e,t,n){const r=e.all(t),a=n?Mue(n):aR(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function Mue(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=aR(n[r])}return t}function aR(e){return e.spread??e.children.length>1}function Eue(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Due(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tue(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Pue(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Oue(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=FN(t.children[1]),l=FF(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Iue(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)}function _ue(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const SE=9,NE=32;function Lue(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(jE(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(jE(t.slice(a),a>0,!1)),i.join("")}function jE(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===SE||i===NE;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===SE||i===NE;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Fue(e,t){const n={type:"text",value:Lue(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Rue(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const $ue={blockquote:mue,break:hue,code:gue,delete:yue,emphasis:bue,footnoteReference:vue,heading:xue,html:wue,imageReference:kue,image:Sue,inlineCode:Nue,linkReference:jue,link:Cue,listItem:Aue,list:Eue,paragraph:Due,root:Tue,strong:Pue,table:Oue,tableCell:_ue,tableRow:Iue,text:Fue,thematicBreak:Rue,toml:Ch,yaml:Ch,definition:Ch,footnoteDefinition:Ch};function Ch(){}const iR=-1,sb=0,Gf=1,E0=2,WN=3,qN=4,HN=5,KN=6,oR=7,sR=8,CE=typeof self=="object"?self:globalThis,Bue=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case sb:case iR:return n(o,a);case Gf:{const s=n([],a);for(const l of o)s.push(r(l));return s}case E0:{const s=n({},a);for(const[l,u]of o)s[r(l)]=r(u);return s}case WN:return n(new Date(o),a);case qN:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case HN:{const s=n(new Map,a);for(const[l,u]of o)s.set(r(l),r(u));return s}case KN:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case oR:{const{name:s,message:l}=o;return n(new CE[s](l),a)}case sR:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new CE[i](o),a)};return r},AE=e=>Bue(new Map,e)(0),Pu="",{toString:zue}={},{keys:Uue}=Object,wf=e=>{const t=typeof e;if(t!=="object"||!e)return[sb,t];const n=zue.call(e).slice(8,-1);switch(n){case"Array":return[Gf,Pu];case"Object":return[E0,Pu];case"Date":return[WN,Pu];case"RegExp":return[qN,Pu];case"Map":return[HN,Pu];case"Set":return[KN,Pu];case"DataView":return[Gf,n]}return n.includes("Array")?[Gf,n]:n.includes("Error")?[oR,n]:[E0,n]},Ah=([e,t])=>e===sb&&(t==="function"||t==="symbol"),Vue=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=wf(o);switch(s){case sb:{let d=o;switch(l){case"bigint":s=sR,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([iR],o)}return a([s,d],o)}case Gf:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case E0:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Uue(o))(e||!Ah(wf(o[p])))&&d.push([i(p),i(o[p])]);return f}case WN:return a([s,o.toISOString()],o);case qN:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case HN:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Ah(wf(p))||Ah(wf(m))))&&d.push([i(p),i(m)]);return f}case KN:{const d=[],f=a([s,d],o);for(const p of o)(e||!Ah(wf(p)))&&d.push(i(p));return f}}const{message:u}=o;return a([s,{name:l,message:u}],o)};return i},ME=(e,{json:t,lossy:n}={})=>{const r=[];return Vue(!(t||n),!!t,new Map,r)(e),r},D0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?AE(ME(e,t)):structuredClone(e):(e,t)=>AE(ME(e,t));function Wue(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function que(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Hue(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Wue,r=e.options.footnoteBackLabel||que,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=Hd(f.toLowerCase());let m=0;const h=[],b=e.footnoteCounts.get(f);for(;b!==void 0&&++m<=b;){h.length>0&&h.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,m);typeof x=="string"&&(x={type:"text",value:x}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const x=v.children[v.children.length-1];x&&x.type==="text"?x.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...h)}else d.push(...h);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...D0(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const lb=function(e){if(e==null)return Xue;if(typeof e=="function")return cb(e);if(typeof e=="object")return Array.isArray(e)?Kue(e):Gue(e);if(typeof e=="string")return Yue(e);throw new Error("Expected function, string, or object as test")};function Kue(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=lb(e[n]);return cb(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Gue(e){const t=e;return cb(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Yue(e){return cb(t);function t(n){return n&&n.type===e}}function cb(e){return t;function t(n,r,a){return!!(Jue(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Xue(){return!0}function Jue(e){return e!==null&&typeof e=="object"&&"type"in e}const lR=[],Que=!0,i1=!1,Zue="skip";function cR(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=lb(a),o=r?-1:1;s(e,void 0,[])();function s(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=lR,h,b,v;if((!t||i(l,u,d[d.length-1]||void 0))&&(m=ede(n(l,d)),m[0]===i1))return m;if("children"in l&&l.children){const y=l;if(y.children&&m[0]!==Zue)for(b=(r?y.children.length:-1)+o,v=d.concat(y);b>-1&&b<y.children.length;){const x=y.children[b];if(h=s(x,b,v)(),h[0]===i1)return h;b=typeof h[1]=="number"?h[1]:b+o}}return m}}}function ede(e){return Array.isArray(e)?e:typeof e=="number"?[Que,e]:e==null?lR:[e]}function GN(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),cR(e,i,s,a);function s(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const o1={}.hasOwnProperty,tde={};function nde(e,t){const n=t||tde,r=new Map,a=new Map,i=new Map,o={...$ue,...n.handlers},s={all:u,applyData:ade,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:rde,wrap:ode};return GN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(o1.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...b}=d,v=D0(b);return v.children=s.all(d),v}return D0(d)}return(s.options.unknownHandler||ide)(s,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=EE(h.value)),!Array.isArray(h)&&h.type==="element")){const b=h.children[0];b&&b.type==="text"&&(b.value=EE(b.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function rde(e,t){e.position&&(t.position=qse(e))}function ade(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,D0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function ide(e,t){const n=t.data||{},r="value"in t&&!(o1.call(n,"hProperties")||o1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ode(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function EE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function DE(e,t){const n=nde(e,t),r=n.one(e,void 0),a=Hue(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function sde(e,t){return e&&"run"in e?async function(n,r){const a=DE(n,{file:r,...t});await e.run(a,r)}:function(n,r){return DE(n,{file:r,...e||t})}}function TE(e){if(e)throw e}var tg=Object.prototype.hasOwnProperty,uR=Object.prototype.toString,PE=Object.defineProperty,OE=Object.getOwnPropertyDescriptor,IE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):uR.call(e)==="[object Array]"},_E=function(e){if(!e||uR.call(e)!=="[object Object]")return!1;var t=tg.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&tg.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||tg.call(e,r)},LE=function(e,t){PE&&t.name==="__proto__"?PE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},FE=function(e,t){if(t==="__proto__")if(tg.call(e,t)){if(OE)return OE(e,t).value}else return;return e[t]},lde=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,u=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=FE(s,n),a=FE(t,n),s!==a&&(d&&a&&(_E(a)||(i=IE(a)))?(i?(i=!1,o=r&&IE(r)?r:[]):o=r&&_E(r)?r:{},LE(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&LE(s,{name:n,newValue:a}));return s};const Tv=_o(lde);function s1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cde(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...u){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,d?ude(d,s)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function ude(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(u){const d=u;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Qo={basename:dde,dirname:fde,extname:pde,join:mde,sep:"/"};function dde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Nm(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function fde(e){if(Nm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function pde(e){Nm(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function mde(...e){let t=-1,n;for(;++t<e.length;)Nm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":hde(n)}function hde(e){Nm(e);const t=e.codePointAt(0)===47;let n=gde(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function gde(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function Nm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const yde={cwd:bde};function bde(){return"/"}function l1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function vde(e){if(typeof e=="string")e=new URL(e);else if(!l1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return xde(e)}function xde(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Pv=["history","path","basename","stem","extname","dirname"];class dR{constructor(t){let n;t?l1(t)?n={path:t}:typeof t=="string"||wde(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":yde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Pv.length;){const i=Pv[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Pv.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Qo.basename(this.path):void 0}set basename(t){Iv(t,"basename"),Ov(t,"basename"),this.path=Qo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qo.dirname(this.path):void 0}set dirname(t){RE(this.basename,"dirname"),this.path=Qo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qo.extname(this.path):void 0}set extname(t){if(Ov(t,"extname"),RE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){l1(t)&&(t=vde(t)),Iv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qo.basename(this.path,this.extname):void 0}set stem(t){Iv(t,"stem"),Ov(t,"stem"),this.path=Qo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Va(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ov(e,t){if(e&&e.includes(Qo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qo.sep+"`")}function Iv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function RE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function wde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const kde=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Sde={}.hasOwnProperty;class YN extends kde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cde()}copy(){const t=new YN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Tv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Fv("data",this.frozen),this.namespace[t]=n,this):Sde.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Mh(t),r=this.parser||this.Parser;return _v("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),_v("process",this.parser||this.Parser),Lv("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Mh(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return u(d);const m=f,h=r.stringify(m,p);Cde(h)?p.value=h:p.result=h,u(d,p)});function u(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),_v("processSync",this.parser||this.Parser),Lv("processSync",this.compiler||this.Compiler),this.process(t,a),BE("processSync","process",n),r;function a(i,o){n=!0,TE(i),r=o}}run(t,n,r){$E(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Mh(n);a.run(t,l,u);function u(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),BE("runSync","run",r),a;function i(o,s){TE(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Mh(n),a=this.compiler||this.Compiler;return Lv("stringify",a),$E(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Fv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(a.settings=Tv(!0,a.settings,u.settings))}function s(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...h]=d;const b=r[p][1];s1(b)&&s1(m)&&(m=Tv(!0,b,m)),r[p]=[u,m,...h]}}}}const Nde=new YN().freeze();function _v(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Lv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $E(e){if(!s1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function BE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Mh(e){return jde(e)?e:new dR(e)}function jde(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Cde(e){return typeof e=="string"||Ade(e)}function Ade(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Mde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zE=[],UE={allowDangerousHtml:!0},Ede=/^(https?|ircs?|mailto|xmpp)$/i,Dde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Tde(e){const t=Pde(e),n=Ode(e);return Ide(t.runSync(t.parse(n),n),e)}function Pde(e){const t=e.rehypePlugins||zE,n=e.remarkPlugins||zE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...UE}:UE;return Nde().use(pue).use(n).use(sde,r).use(t)}function Ode(e){const t=e.children||"",n=new dR;return typeof t=="string"&&(n.value=t),n}function Ide(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||_de;for(const d of Dde)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Mde+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),GN(e,u),Xse(e,{Fragment:c.Fragment,components:a,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Mv)if(Object.hasOwn(Mv,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],b=Mv[m];(b===null||b.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function _de(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||Ede.test(e.slice(0,t))?e:""}function VE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function Lde(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Fde(e,t,n){const r=lb((n||{}).ignore||[]),a=Rde(t);let i=-1;for(;++i<a.length;)cR(e,"text",o);function o(l,u){let d=-1,f;for(;++d<u.length;){const p=u[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,u)}function s(l,u){const d=u[u.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let b=!1,v=[];f.lastIndex=0;let y=f.exec(l.value);for(;y;){const x=y.index,w={index:y.index,input:y.input,stack:[...u,l]};let S=p(...y,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=x+1:(m!==x&&v.push({type:"text",value:l.value.slice(m,x)}),Array.isArray(S)?v.push(...S):S&&v.push(S),m=x+y[0].length,b=!0),!f.global)break;y=f.exec(l.value)}return b?(m<l.value.length&&v.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...v)):v=[l],h+v.length}}function Rde(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([$de(a[0]),Bde(a[1])])}return t}function $de(e){return typeof e=="string"?new RegExp(Lde(e),"g"):e}function Bde(e){return typeof e=="function"?e:function(){return e}}const Rv="phrasing",$v=["autolink","link","image","label"];function zde(){return{transforms:[Gde],enter:{literalAutolink:Vde,literalAutolinkEmail:Bv,literalAutolinkHttp:Bv,literalAutolinkWww:Bv},exit:{literalAutolink:Kde,literalAutolinkEmail:Hde,literalAutolinkHttp:Wde,literalAutolinkWww:qde}}}function Ude(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rv,notInConstruct:$v},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rv,notInConstruct:$v},{character:":",before:"[ps]",after:"\\/",inConstruct:Rv,notInConstruct:$v}]}}function Vde(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Bv(e){this.config.enter.autolinkProtocol.call(this,e)}function Wde(e){this.config.exit.autolinkProtocol.call(this,e)}function qde(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Hde(e){this.config.exit.autolinkEmail.call(this,e)}function Kde(e){this.exit(e)}function Gde(e){Fde(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Yde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Xde]],{ignore:["link","linkReference"]})}function Yde(e,t,n,r,a){let i="";if(!fR(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Jde(n)))return!1;const o=Qde(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Xde(e,t,n,r){return!fR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Jde(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Qde(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=VE(e,"(");let i=VE(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function fR(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||lu(n)||ib(n))&&(!t||n!==47)}pR.peek=sfe;function Zde(){this.buffer()}function efe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function tfe(){this.buffer()}function nfe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function rfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Co(this.sliceSerialize(e)).toLowerCase(),n.label=t}function afe(e){this.exit(e)}function ife(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Co(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ofe(e){this.exit(e)}function sfe(){return"["}function pR(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function lfe(){return{enter:{gfmFootnoteCallString:Zde,gfmFootnoteCall:efe,gfmFootnoteDefinitionLabelString:tfe,gfmFootnoteDefinition:nfe},exit:{gfmFootnoteCallString:rfe,gfmFootnoteCall:afe,gfmFootnoteDefinitionLabelString:ife,gfmFootnoteDefinition:ofe}}}function cfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:pR},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?mR:ufe))),u(),l}}function ufe(e,t,n){return t===0?e:mR(e,t,n)}function mR(e,t,n){return(n?"":"    ")+e}const dfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];hR.peek=gfe;function ffe(){return{canContainEols:["delete"],enter:{strikethrough:mfe},exit:{strikethrough:hfe}}}function pfe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:dfe}],handlers:{delete:hR}}}function mfe(e){this.enter({type:"delete",children:[]},e)}function hfe(e){this.exit(e)}function hR(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function gfe(){return"~"}function yfe(e){return e.length}function bfe(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||yfe,i=[],o=[],s=[],l=[];let u=0,d=-1;for(;++d<e.length;){const b=[],v=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const x=vfe(e[d][y]);if(n.alignDelimiters!==!1){const w=a(x);v[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}b.push(x)}o[d]=b,s[d]=v}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)i[f]=WE(r[f]);else{const b=WE(r);for(;++f<u;)i[f]=b}f=-1;const p=[],m=[];for(;++f<u;){const b=i[f];let v="",y="";b===99?(v=":",y=":"):b===108?v=":":b===114&&(y=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[f]-v.length-y.length);const w=v+"-".repeat(x)+y;n.alignDelimiters!==!1&&(x=v.length+x+y.length,x>l[f]&&(l[f]=x),m[f]=x),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const b=o[d],v=s[d];f=-1;const y=[];for(;++f<u;){const x=b[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(v[f]||0),j=i[f];j===114?w=" ".repeat(C):j===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(x),n.alignDelimiters!==!1&&y.push(S),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&y.push("|")}h.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return h.join(`
`)}function vfe(e){return e==null?"":String(e)}function WE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function xfe(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),wfe);return a(),o}function wfe(e,t,n){return">"+(n?"":" ")+e}function kfe(e,t){return qE(e,t.inConstruct,!0)&&!qE(e,t.notInConstruct,!1)}function qE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function HE(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&kfe(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Sfe(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function Nfe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function jfe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Cfe(e,t,n,r){const a=jfe(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(Nfe(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,Afe);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(Sfe(i,a)+1,3)),u=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),u(),d}function Afe(e,t,n){return(n?"":"    ")+e}function XN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Mfe(e,t,n,r){const a=XN(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),o(),u}function Efe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Lp(e){return"&#x"+e.toString(16).toUpperCase()+";"}function T0(e,t,n){const r=Ed(e),a=Ed(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}gR.peek=Dfe;function gR(e,t,n,r){const a=Efe(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=T0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Lp(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=T0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Lp(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Dfe(e,t,n){return n.options.emphasis||"*"}function Tfe(e,t){let n=!1;return GN(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,i1}),!!((!e.depth||e.depth<3)&&zN(e)&&(t.options.setext||n))}function Pfe(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Tfe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=Lp(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),s(),u}yR.peek=Ofe;function yR(e){return e.value||""}function Ofe(){return"<"}bR.peek=Ife;function bR(e,t,n,r){const a=XN(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),u+=l.move(")"),o(),u}function Ife(){return"!"}vR.peek=_fe;function vR(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function _fe(){return"!"}xR.peek=Lfe;function xR(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return a+r+a}function Lfe(){return"`"}function wR(e,t){const n=zN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}kR.peek=Ffe;function kR(e,t,n,r){const a=XN(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(wR(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=o.move(" "+a),u+=o.move(n.safe(e.title,{before:u,after:a,...o.current()})),u+=o.move(a),l()),u+=o.move(")"),s(),u}function Ffe(e,t,n){return wR(e,n)?"<":"["}SR.peek=Rfe;function SR(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Rfe(){return"["}function JN(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function $fe(e){const t=JN(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Bfe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function NR(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function zfe(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Bfe(n):JN(n);const s=e.ordered?o==="."?")":".":$fe(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),NR(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),u}function Ufe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Vfe(e,t,n,r){const a=Ufe(n);let i=n.bulletCurrent||JN(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),d);return l(),u;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Wfe(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const qfe=lb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Hfe(e,t,n,r){return(e.children.some(function(a){return qfe(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Kfe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}jR.peek=Gfe;function jR(e,t,n,r){const a=Kfe(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=T0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Lp(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=T0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Lp(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Gfe(e,t,n){return n.options.strong||"*"}function Yfe(e,t,n,r){return n.safe(e.value,r)}function Xfe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Jfe(e,t,n){const r=(NR(n)+(n.options.ruleSpaces?" ":"")).repeat(Xfe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const CR={blockquote:xfe,break:HE,code:Cfe,definition:Mfe,emphasis:gR,hardBreak:HE,heading:Pfe,html:yR,image:bR,imageReference:vR,inlineCode:xR,link:kR,linkReference:SR,list:zfe,listItem:Vfe,paragraph:Wfe,root:Hfe,strong:jR,text:Yfe,thematicBreak:Jfe};function Qfe(){return{enter:{table:Zfe,tableData:KE,tableHeader:KE,tableRow:tpe},exit:{codeText:npe,table:epe,tableData:zv,tableHeader:zv,tableRow:zv}}}function Zfe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function epe(e){this.exit(e),this.data.inTable=void 0}function tpe(e){this.enter({type:"tableRow",children:[]},e)}function zv(e){this.exit(e)}function KE(e){this.enter({type:"tableCell",children:[]},e)}function npe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,rpe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function rpe(e,t){return t==="|"?t:e}function ape(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,b,v){return u(d(m,b,v),m.align)}function s(m,h,b,v){const y=f(m,b,v),x=u([y]);return x.slice(0,x.indexOf(`
`))}function l(m,h,b,v){const y=b.enter("tableCell"),x=b.enter("phrasing"),w=b.containerPhrasing(m,{...v,before:i,after:i});return x(),y(),w}function u(m,h){return bfe(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,b){const v=m.children;let y=-1;const x=[],w=h.enter("table");for(;++y<v.length;)x[y]=f(v[y],h,b);return w(),x}function f(m,h,b){const v=m.children;let y=-1;const x=[],w=h.enter("tableRow");for(;++y<v.length;)x[y]=l(v[y],m,h,b);return w(),x}function p(m,h,b){let v=CR.inlineCode(m,h,b);return b.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function ipe(){return{exit:{taskListCheckValueChecked:GE,taskListCheckValueUnchecked:GE,paragraph:spe}}}function ope(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:lpe}}}function GE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function spe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function lpe(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=CR.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+o}}function cpe(){return[zde(),lfe(),ffe(),Qfe(),ipe()]}function upe(e){return{extensions:[Ude(),cfe(e),pfe(),ape(e),ope()]}}const dpe={tokenize:ype,partial:!0},AR={tokenize:bpe,partial:!0},MR={tokenize:vpe,partial:!0},ER={tokenize:xpe,partial:!0},fpe={tokenize:wpe,partial:!0},DR={name:"wwwAutolink",tokenize:hpe,previous:PR},TR={name:"protocolAutolink",tokenize:gpe,previous:OR},sl={name:"emailAutolink",tokenize:mpe,previous:IR},us={};function ppe(){return{text:us}}let xc=48;for(;xc<123;)us[xc]=sl,xc++,xc===58?xc=65:xc===91&&(xc=97);us[43]=sl;us[45]=sl;us[46]=sl;us[95]=sl;us[72]=[sl,TR];us[104]=[sl,TR];us[87]=[sl,DR];us[119]=[sl,DR];function mpe(e,t,n){const r=this;let a,i;return o;function o(f){return!c1(f)||!IR.call(r,r.previous)||QN(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return c1(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(fpe,d,u)(f):f===45||f===95||Ba(f)?(i=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Ga(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function hpe(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!PR.call(r,r.previous)||QN(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(dpe,e.attempt(AR,e.attempt(MR,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function gpe(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&OR.call(r,r.previous)&&!QN(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Ga(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?u:(i=!0,l)):n(f)}function u(f){return f===null||M0(f)||Yn(f)||lu(f)||ib(f)?n(f):e.attempt(AR,e.attempt(MR,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function ype(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function bpe(e,t,n){let r,a,i;return o;function o(u){return u===46||u===95?e.check(ER,l,s)(u):u===null||Yn(u)||lu(u)||u!==45&&ib(u)?l(u):(i=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(a=r,r=void 0),e.consume(u),o}function l(u){return a||r||!i?n(u):t(u)}}function vpe(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(ER,t,i)(o):o===null||Yn(o)||lu(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function xpe(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Yn(s)||lu(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Yn(s)||lu(s)?t(s):r(s)}function i(s){return Ga(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ga(s)?(e.consume(s),o):n(s)}}function wpe(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Ba(i)?n(i):t(i)}}function PR(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Yn(e)}function OR(e){return!Ga(e)}function IR(e){return!(e===47||c1(e))}function c1(e){return e===43||e===45||e===46||e===95||Ba(e)}function QN(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const kpe={tokenize:Dpe,partial:!0};function Spe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Ape,continuation:{tokenize:Mpe},exit:Epe}},text:{91:{name:"gfmFootnoteCall",tokenize:Cpe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Npe,resolveTo:jpe}}}}function Npe(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const u=Co(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function jpe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Cpe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(i>999||f===93&&!o||f===null||f===91||Yn(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(Co(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Yn(f)||(o=!0),i++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,u):u(f)}}function Ape(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Yn(h))return n(h);if(h===93){e.exit("chunkString");const b=e.exit("gfmFootnoteDefinitionLabelString");return i=Co(r.sliceSerialize(b)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Yn(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),jn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function Mpe(e,t,n){return e.check(Sm,t,e.attempt(kpe,t,n))}function Epe(e){e.exit("gfmFootnoteDefinition")}function Dpe(e,t,n){const r=this;return jn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function Tpe(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",u,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&Ii(f,f.length,0,ob(p,i.slice(l+1,s),o)),Ii(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",u,o]]),Ii(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,u=this.events;let d=0;return f;function f(m){return l===126&&u[u.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Ed(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const b=i.exit("strikethroughSequenceTemporary"),v=Ed(m);return b._open=!v||v===2&&!!h,b._close=!h||h===2&&!!v,o(m)}}}class Ppe{constructor(){this.map=[]}add(t,n,r){Ope(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function Ope(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Ipe(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function _pe(){return{flow:{null:{name:"table",tokenize:Lpe,resolveAll:Fpe}}}}function Lpe(e,t,n){const r=this;let a=0,i=0,o;return s;function s(D){let I=r.events.length-1;for(;I>-1;){const X=r.events[I][1].type;if(X==="lineEnding"||X==="linePrefix")I--;else break}const O=I>-1?r.events[I][1].type:null,q=O==="tableHead"||O==="tableRow"?j:l;return q===j&&r.parser.lazy[r.now().line]?n(D):q(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),u(D)}function u(D){return D===124||(o=!0,i+=1),d(D)}function d(D){return D===null?n(D):Ht(D)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),m):n(D):bn(D)?jn(e,d,"whitespace")(D):(i+=1,o&&(o=!1,a+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(D)))}function f(D){return D===null||D===124||Yn(D)?(e.exit("data"),d(D)):(e.consume(D),D===92?p:f)}function p(D){return D===92||D===124?(e.consume(D),f):f(D)}function m(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,bn(D)?jn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):h(D))}function h(D){return D===45||D===58?v(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),b):C(D)}function b(D){return bn(D)?jn(e,v,"whitespace")(D):v(D)}function v(D){return D===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),y):D===45?(i+=1,y(D)):D===null||Ht(D)?S(D):C(D)}function y(D){return D===45?(e.enter("tableDelimiterFiller"),x(D)):C(D)}function x(D){return D===45?(e.consume(D),x):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(D))}function w(D){return bn(D)?jn(e,S,"whitespace")(D):S(D)}function S(D){return D===124?h(D):D===null||Ht(D)?!o||a!==i?C(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):C(D)}function C(D){return n(D)}function j(D){return e.enter("tableRow"),M(D)}function M(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),M):D===null||Ht(D)?(e.exit("tableRow"),t(D)):bn(D)?jn(e,M,"whitespace")(D):(e.enter("data"),T(D))}function T(D){return D===null||D===124||Yn(D)?(e.exit("data"),M(D)):(e.consume(D),D===92?$:T)}function $(D){return D===92||D===124?(e.consume(D),T):T(D)}}function Fpe(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,u,d,f;const p=new Ppe;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(YE(p,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",u,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Eh(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Eh(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Eh(p,t,i,a,n,f)):o[1]!==0&&(f=Eh(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&YE(p,t,l,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Ipe(t.events,n))}return e}function Eh(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},_u(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=_u(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=_u(t.events,n[2]),d=_u(t.events,n[3]),f={type:s,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,b=n[3]-n[2]-1;e.add(h,b,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},_u(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function YE(e,t,n,r,a){const i=[],o=_u(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function _u(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Rpe={name:"tasklistCheck",tokenize:Bpe};function $pe(){return{text:{91:Rpe}}}function Bpe(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Yn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Ht(l)?t(l):bn(l)?e.check({tokenize:zpe},t,n)(l):n(l)}}function zpe(e,t,n){return jn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Upe(e){return WF([ppe(),Spe(),Tpe(e),_pe(),$pe()])}const Vpe={};function Wpe(e){const t=this,n=e||Vpe,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Upe(n)),i.push(cpe()),o.push(upe(n))}const Uv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output/uptime, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n### Boon Uptime (Defense)\n\nThe Boon Uptime section is derived from `players[*].buffUptimes[*].statesPerSource`\nfor boon-classified buffs and reports **stack state over time on the selected\nplayer**, not outgoing generation.\n\nSource/eligibility:\n- include only `players[*].buffUptimes[*]` entries where `buffMap[b{id}]` (or fallback)\n  has `classification === "Boon"` (or empty classification treated as boon-compatible)\n- use `buffMap` metadata for `name`, `icon`, and `stacking`\n\nPer-fight timeline buckets:\n- sample every 5 seconds (`t = 0, 5, 10, ...`) and read current state value from\n  each source timeline in `statesPerSource`\n- sum active source values for that sample into the player bucket\n\nStack semantics (enforced):\n- non-stacking boons: binary only\n  - `bucket = 1` when sampled value is `> 0`\n  - `bucket = 0` otherwise\n  - no fractional values are permitted\n- stacking boons: integer stack counts only\n  - sampled values are rounded to whole stacks\n  - stacks are clamped to a max cap\n\nUptime percentage semantics:\n- uptime% is **presence-based** for all boons:\n  - a 5s bucket counts as uptime when sampled bucket value is `> 0`\n  - otherwise that bucket counts as no uptime\n- this rule applies to both non-stacking and stacking boons (stack amount does\n  not scale uptime%)\n- denominator includes all 5s buckets across all fights for that player/boon\n  (including fights where that player has no states for the boon)\n\nStack caps:\n- `Might`: `25`\n- `Stability`: `25`\n- current implementation applies cap `25` for stacking boons\n\nUI behavior:\n- main chart:\n  - stacking boons: per-fight **average stacks**\n  - non-stacking boons: per-fight **uptime percentage** (active 5s buckets / total 5s buckets)\n- drilldown chart: selected fight 5-second stack buckets\n- for stacking boons, UI may render a reference line at stack cap (`25`)\n- player list and summary card use the same shared uptime% source, so selected\n  player row uptime% equals displayed overall uptime%\n\nAggregation notes:\n- uptime view is account-keyed per player and does not use an aggregated `__all__`\n  synthetic row for timeline values\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`, `src/renderer/stats/sections/BoonUptimeSection.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',_R=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ub=g.createContext({}),ZN=g.createContext(null),db=typeof document<"u",qpe=db?g.useLayoutEffect:g.useEffect,LR=g.createContext({strict:!1}),ej=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Hpe="framerAppearId",FR="data-"+ej(Hpe);function Kpe(e,t,n,r){const{visualElement:a}=g.useContext(ub),i=g.useContext(LR),o=g.useContext(ZN),s=g.useContext(_R).reducedMotion,l=g.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;g.useInsertionEffect(()=>{u&&u.update(n,o)});const d=g.useRef(!!(n[FR]&&!window.HandoffComplete));return qpe(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Xu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Gpe(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xu(n)&&(n.current=r))},[t])}function Fp(e){return typeof e=="string"||Array.isArray(e)}function fb(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const tj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nj=["initial",...tj];function pb(e){return fb(e.animate)||nj.some(t=>Fp(e[t]))}function RR(e){return!!(pb(e)||e.variants)}function Ype(e,t){if(pb(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Fp(n)?n:void 0,animate:Fp(r)?r:void 0}}return e.inherit!==!1?t:{}}function Xpe(e){const{initial:t,animate:n}=Ype(e,g.useContext(ub));return g.useMemo(()=>({initial:t,animate:n}),[XE(t),XE(n)])}function XE(e){return Array.isArray(e)?e.join(" "):e}const JE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rp={};for(const e in JE)Rp[e]={isEnabled:t=>JE[e].some(n=>!!t[n])};function Jpe(e){for(const t in e)Rp[t]={...Rp[t],...e[t]}}const $R=g.createContext({}),BR=g.createContext({}),Qpe=Symbol.for("motionComponentSymbol");function Zpe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&Jpe(e);function i(s,l){let u;const d={...g.useContext(_R),...s,layoutId:eme(s)},{isStatic:f}=d,p=Xpe(s),m=r(s,f);if(!f&&db){p.visualElement=Kpe(a,m,d,t);const h=g.useContext(BR),b=g.useContext(LR).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,b,e,h))}return g.createElement(ub.Provider,{value:p},u&&p.visualElement?g.createElement(u,{visualElement:p.visualElement,...d}):null,n(a,s,Gpe(m,p.visualElement,l),m,f,p.visualElement))}const o=g.forwardRef(i);return o[Qpe]=a,o}function eme({layoutId:e}){const t=g.useContext($R).id;return t&&e!==void 0?t+"-"+e:e}function tme(e){function t(r,a={}){return Zpe(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const nme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rj(e){return typeof e!="string"||e.includes("-")?!1:!!(nme.indexOf(e)>-1||/[A-Z]/.test(e))}const P0={};function rme(e){Object.assign(P0,e)}const jm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hu=new Set(jm);function zR(e,{layout:t,layoutId:n}){return hu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!P0[e]||e==="opacity")}const hi=e=>!!(e&&e.getVelocity),ame={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ime=jm.length;function ome(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<ime;o++){const s=jm[o];if(e[s]!==void 0){const l=ame[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const UR=e=>t=>typeof t=="string"&&t.startsWith(e),VR=UR("--"),u1=UR("var(--"),sme=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,lme=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xl=(e,t,n)=>Math.min(Math.max(n,e),t),gu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yf={...gu,transform:e=>Xl(0,1,e)},Dh={...gu,default:1},Xf=e=>Math.round(e*1e5)/1e5,mb=/(-)?([\d]*\.?[\d])+/g,WR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cme=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Cm(e){return typeof e=="string"}const Am=e=>({test:t=>Cm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wl=Am("deg"),is=Am("%"),Jt=Am("px"),ume=Am("vh"),dme=Am("vw"),QE={...is,parse:e=>is.parse(e)/100,transform:e=>is.transform(e*100)},ZE={...gu,transform:Math.round},qR={borderWidth:Jt,borderTopWidth:Jt,borderRightWidth:Jt,borderBottomWidth:Jt,borderLeftWidth:Jt,borderRadius:Jt,radius:Jt,borderTopLeftRadius:Jt,borderTopRightRadius:Jt,borderBottomRightRadius:Jt,borderBottomLeftRadius:Jt,width:Jt,maxWidth:Jt,height:Jt,maxHeight:Jt,size:Jt,top:Jt,right:Jt,bottom:Jt,left:Jt,padding:Jt,paddingTop:Jt,paddingRight:Jt,paddingBottom:Jt,paddingLeft:Jt,margin:Jt,marginTop:Jt,marginRight:Jt,marginBottom:Jt,marginLeft:Jt,rotate:wl,rotateX:wl,rotateY:wl,rotateZ:wl,scale:Dh,scaleX:Dh,scaleY:Dh,scaleZ:Dh,skew:wl,skewX:wl,skewY:wl,distance:Jt,translateX:Jt,translateY:Jt,translateZ:Jt,x:Jt,y:Jt,z:Jt,perspective:Jt,transformPerspective:Jt,opacity:Yf,originX:QE,originY:QE,originZ:Jt,zIndex:ZE,fillOpacity:Yf,strokeOpacity:Yf,numOctaves:ZE};function aj(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(VR(f)){i[f]=p;continue}const m=qR[f],h=lme(p,m);if(hu.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=ome(e.transform,n,d,r):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const ij=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HR(e,t,n){for(const r in t)!hi(t[r])&&!zR(r,n)&&(e[r]=t[r])}function fme({transformTemplate:e},t,n){return g.useMemo(()=>{const r=ij();return aj(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function pme(e,t,n){const r=e.style||{},a={};return HR(a,r,e),Object.assign(a,fme(e,t,n)),e.transformValues?e.transformValues(a):a}function mme(e,t,n){const r={},a=pme(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const hme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function O0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hme.has(e)}let KR=e=>!O0(e);function gme(e){e&&(KR=t=>t.startsWith("on")?!O0(t):e(t))}try{gme(require("@emotion/is-prop-valid").default)}catch{}function yme(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(KR(a)||n===!0&&O0(a)||!t&&!O0(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function eD(e,t,n){return typeof e=="string"?e:Jt.transform(t+n*e)}function bme(e,t,n){const r=eD(t,e.x,e.width),a=eD(n,e.y,e.height);return`${r} ${a}`}const vme={offset:"stroke-dashoffset",array:"stroke-dasharray"},xme={offset:"strokeDashoffset",array:"strokeDasharray"};function wme(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?vme:xme;e[i.offset]=Jt.transform(-r);const o=Jt.transform(t),s=Jt.transform(n);e[i.array]=`${o} ${s}`}function oj(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},d,f,p){if(aj(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:b}=e;m.transform&&(b&&(h.transform=m.transform),delete m.transform),b&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=bme(b,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&wme(m,o,s,l,!1)}const GR=()=>({...ij(),attrs:{}}),sj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kme(e,t,n,r){const a=g.useMemo(()=>{const i=GR();return oj(i,t,{enableHardwareAcceleration:!1},sj(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};HR(i,e.style,e),a.style={...i,...a.style}}return a}function Sme(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(rj(t)?kme:mme)(n,a,i,t),s={...yme(n,typeof t=="string",e),...o,ref:r},{children:l}=n,u=g.useMemo(()=>hi(l)?l.get():l,[l]);return g.createElement(t,{...s,children:u})}}function YR(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const XR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JR(e,t,n,r){YR(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(XR.has(a)?a:ej(a),t.attrs[a])}function lj(e,t){const{style:n}=e,r={};for(const a in n)(hi(n[a])||t.style&&hi(t.style[a])||zR(a,e))&&(r[a]=n[a]);return r}function QR(e,t){const n=lj(e,t);for(const r in e)if(hi(e[r])||hi(t[r])){const a=jm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function cj(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function Nme(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const I0=e=>Array.isArray(e),jme=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Cme=e=>I0(e)?e[e.length-1]||0:e;function ng(e){const t=hi(e)?e.get():e;return jme(t)?t.toValue():t}function Ame({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:Mme(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const ZR=e=>(t,n)=>{const r=g.useContext(ub),a=g.useContext(ZN),i=()=>Ame(e,t,r,a);return n?i():Nme(i)};function Mme(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=ng(i[p]);let{initial:o,animate:s}=e;const l=pb(e),u=RR(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!fb(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=cj(e,p);if(!m)return;const{transitionEnd:h,transition:b,...v}=m;for(const y in v){let x=v[y];if(Array.isArray(x)){const w=d?x.length-1:0;x=x[w]}x!==null&&(a[y]=x)}for(const y in h)a[y]=h[y]}),a}const _r=e=>e;class tD{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Eme(e){let t=new tD,n=new tD,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,u=!1,d=!1)=>{const f=d&&a,p=f?t:n;return u&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Th=["prepare","read","update","preRender","render","postRender"],Dme=40;function Tme(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Th.reduce((u,d)=>(u[d]=Eme(()=>n=!0),u),{}),o=u=>i[u].process(a),s=()=>{const u=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(u-a.timestamp,Dme),1),a.timestamp=u,a.isProcessing=!0,Th.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Th.reduce((u,d)=>{const f=i[d];return u[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),u},{}),cancel:u=>Th.forEach(d=>i[d].cancel(u)),state:a,steps:i}}const{schedule:cr,cancel:el,state:Ia,steps:Vv}=Tme(typeof requestAnimationFrame<"u"?requestAnimationFrame:_r,!0),Pme={useVisualState:ZR({scrapeMotionValuesFromProps:QR,createRenderState:GR,onMount:(e,t,{renderState:n,latestValues:r})=>{cr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),cr.render(()=>{oj(n,r,{enableHardwareAcceleration:!1},sj(t.tagName),e.transformTemplate),JR(t,n)})}})},Ome={useVisualState:ZR({scrapeMotionValuesFromProps:lj,createRenderState:ij})};function Ime(e,{forwardMotionProps:t=!1},n,r){return{...rj(e)?Pme:Ome,preloadedFeatures:n,useRender:Sme(t),createVisualElement:r,Component:e}}function Is(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const e$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function hb(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const _me=e=>t=>e$(t)&&e(t,hb(t));function $s(e,t,n,r){return Is(e,t,_me(n),r)}const Lme=(e,t)=>n=>t(e(n)),Wl=(...e)=>e.reduce(Lme);function t$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const nD=t$("dragHorizontal"),rD=t$("dragVertical");function n$(e){let t=!1;if(e==="y")t=rD();else if(e==="x")t=nD();else{const n=nD(),r=rD();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function r$(){const e=n$(!0);return e?(e(),!1):!0}class oc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function aD(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||r$())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&cr.update(()=>s[r](i,o))};return $s(e.current,n,a,{passive:!e.getProps()[r]})}class Fme extends oc{mount(){this.unmount=Wl(aD(this.node,!0),aD(this.node,!1))}unmount(){}}class Rme extends oc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wl(Is(this.node.current,"focus",()=>this.onFocus()),Is(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const a$=(e,t)=>t?e===t?!0:a$(e,t.parentElement):!1;function Wv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,hb(n))}class $me extends oc{constructor(){super(...arguments),this.removeStartListeners=_r,this.removeEndListeners=_r,this.removeAccessibleListeners=_r,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=$s(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:d}=this.node.getProps();cr.update(()=>{!d&&!a$(this.node.current,o.target)?u&&u(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=$s(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Wl(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Wv("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&cr.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Is(this.node.current,"keyup",o),Wv("down",(s,l)=>{this.startPress(s,l)})},n=Is(this.node.current,"keydown",t),r=()=>{this.isPressing&&Wv("cancel",(i,o)=>this.cancelPress(i,o))},a=Is(this.node.current,"blur",r);this.removeAccessibleListeners=Wl(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&cr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!r$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&cr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=$s(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Is(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Wl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const d1=new WeakMap,qv=new WeakMap,Bme=e=>{const t=d1.get(e.target);t&&t(e)},zme=e=>{e.forEach(Bme)};function Ume({root:e,...t}){const n=e||document;qv.has(n)||qv.set(n,{});const r=qv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(zme,{root:e,...t})),r[a]}function Vme(e,t,n){const r=Ume(t);return d1.set(e,n),r.observe(e),()=>{d1.delete(e),r.unobserve(e)}}const Wme={some:0,all:1};class qme extends oc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Wme[a]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return Vme(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Hme(t,n))&&this.startObserver()}unmount(){}}function Hme({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Kme={inView:{Feature:qme},tap:{Feature:$me},focus:{Feature:Rme},hover:{Feature:Fme}};function i$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Gme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Yme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function gb(e,t,n){const r=e.getProps();return cj(r,t,n!==void 0?n:r.custom,Gme(e),Yme(e))}let uj=_r;const Kc=e=>e*1e3,Bs=e=>e/1e3,Xme={current:!1},o$=e=>Array.isArray(e)&&typeof e[0]=="number";function s$(e){return!!(!e||typeof e=="string"&&l$[e]||o$(e)||Array.isArray(e)&&e.every(s$))}const Pf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,l$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pf([0,.65,.55,1]),circOut:Pf([.55,0,1,.45]),backIn:Pf([.31,.01,.66,-.59]),backOut:Pf([.33,1.53,.69,.99])};function c$(e){if(e)return o$(e)?Pf(e):Array.isArray(e)?e.map(c$):l$[e]}function Jme(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=c$(s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Qme(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const u$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Zme=1e-7,ehe=12;function the(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=u$(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Zme&&++s<ehe);return o}function Mm(e,t,n,r){if(e===t&&n===r)return _r;const a=i=>the(i,0,1,e,n);return i=>i===0||i===1?i:u$(a(i),t,r)}const nhe=Mm(.42,0,1,1),rhe=Mm(0,0,.58,1),d$=Mm(.42,0,.58,1),ahe=e=>Array.isArray(e)&&typeof e[0]!="number",f$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,p$=e=>t=>1-e(1-t),dj=e=>1-Math.sin(Math.acos(e)),m$=p$(dj),ihe=f$(dj),h$=Mm(.33,1.53,.69,.99),fj=p$(h$),ohe=f$(fj),she=e=>(e*=2)<1?.5*fj(e):.5*(2-Math.pow(2,-10*(e-1))),lhe={linear:_r,easeIn:nhe,easeInOut:d$,easeOut:rhe,circIn:dj,circInOut:ihe,circOut:m$,backIn:fj,backInOut:ohe,backOut:h$,anticipate:she},iD=e=>{if(Array.isArray(e)){uj(e.length===4);const[t,n,r,a]=e;return Mm(t,n,r,a)}else if(typeof e=="string")return lhe[e];return e},pj=(e,t)=>n=>!!(Cm(n)&&cme.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),g$=(e,t,n)=>r=>{if(!Cm(r))return r;const[a,i,o,s]=r.match(mb);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},che=e=>Xl(0,255,e),Hv={...gu,transform:e=>Math.round(che(e))},$c={test:pj("rgb","red"),parse:g$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Hv.transform(e)+", "+Hv.transform(t)+", "+Hv.transform(n)+", "+Xf(Yf.transform(r))+")"};function uhe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const f1={test:pj("#"),parse:uhe,transform:$c.transform},Ju={test:pj("hsl","hue"),parse:g$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+is.transform(Xf(t))+", "+is.transform(Xf(n))+", "+Xf(Yf.transform(r))+")"},Ha={test:e=>$c.test(e)||f1.test(e)||Ju.test(e),parse:e=>$c.test(e)?$c.parse(e):Ju.test(e)?Ju.parse(e):f1.parse(e),transform:e=>Cm(e)?e:e.hasOwnProperty("red")?$c.transform(e):Ju.transform(e)},xr=(e,t,n)=>-n*e+n*t+e;function Kv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dhe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Kv(l,s,e+1/3),i=Kv(l,s,e),o=Kv(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Gv=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},fhe=[f1,$c,Ju],phe=e=>fhe.find(t=>t.test(e));function oD(e){const t=phe(e);let n=t.parse(e);return t===Ju&&(n=dhe(n)),n}const y$=(e,t)=>{const n=oD(e),r=oD(t),a={...n};return i=>(a.red=Gv(n.red,r.red,i),a.green=Gv(n.green,r.green,i),a.blue=Gv(n.blue,r.blue,i),a.alpha=xr(n.alpha,r.alpha,i),$c.transform(a))};function mhe(e){var t,n;return isNaN(e)&&Cm(e)&&(((t=e.match(mb))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(WR))===null||n===void 0?void 0:n.length)||0)>0}const b$={regex:sme,countKey:"Vars",token:"${v}",parse:_r},v$={regex:WR,countKey:"Colors",token:"${c}",parse:Ha.parse},x$={regex:mb,countKey:"Numbers",token:"${n}",parse:gu.parse};function Yv(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function _0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Yv(n,b$),Yv(n,v$),Yv(n,x$),n}function w$(e){return _0(e).values}function k$(e){const{values:t,numColors:n,numVars:r,tokenised:a}=_0(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(b$.token,o[l]):l<r+n?s=s.replace(v$.token,Ha.transform(o[l])):s=s.replace(x$.token,Xf(o[l]));return s}}const hhe=e=>typeof e=="number"?0:e;function ghe(e){const t=w$(e);return k$(e)(t.map(hhe))}const Jl={test:mhe,parse:w$,createTransformer:k$,getAnimatableNone:ghe},S$=(e,t)=>n=>`${n>0?t:e}`;function N$(e,t){return typeof e=="number"?n=>xr(e,t,n):Ha.test(e)?y$(e,t):e.startsWith("var(")?S$(e,t):C$(e,t)}const j$=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>N$(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},yhe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=N$(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},C$=(e,t)=>{const n=Jl.createTransformer(t),r=_0(e),a=_0(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?Wl(j$(r.values,a.values),n):S$(e,t)},$p=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},sD=(e,t)=>n=>xr(e,t,n);function bhe(e){return typeof e=="number"?sD:typeof e=="string"?Ha.test(e)?y$:C$:Array.isArray(e)?j$:typeof e=="object"?yhe:sD}function vhe(e,t,n){const r=[],a=n||bhe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||_r:t;s=Wl(l,s)}r.push(s)}return r}function A$(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(uj(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=vhe(t,r,a),s=o.length,l=u=>{let d=0;if(s>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=$p(e[d],e[d+1],u);return o[d](f)};return n?u=>l(Xl(e[0],e[i-1],u)):l}function xhe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=$p(0,t,r);e.push(xr(n,1,a))}}function whe(e){const t=[0];return xhe(t,e.length-1),t}function khe(e,t){return e.map(n=>n*t)}function She(e,t){return e.map(()=>t||d$).splice(0,e.length-1)}function L0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=ahe(r)?r.map(iD):iD(r),i={done:!1,value:t[0]},o=khe(n&&n.length===t.length?n:whe(t),e),s=A$(o,t,{ease:Array.isArray(a)?a:She(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function M$(e,t){return t?e*(1e3/t):0}const Nhe=5;function E$(e,t,n){const r=Math.max(t-Nhe,0);return M$(n-e(r),t-r)}const Xv=.001,jhe=.01,Che=10,Ahe=.05,Mhe=1;function Ehe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=Xl(Ahe,Mhe,o),e=Xl(jhe,Che,Bs(e)),o<1?(a=u=>{const d=u*o,f=d*e,p=d-n,m=p1(u,o),h=Math.exp(-f);return Xv-p/m*h},i=u=>{const d=u*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-d),h=p1(Math.pow(u,2),o);return(-a(u)+Xv>0?-1:1)*((f-p)*m)/h}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Xv+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const s=5/e,l=The(a,i,s);if(e=Kc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Dhe=12;function The(e,t,n){let r=n;for(let a=1;a<Dhe;a++)r=r-e(r)/t(r);return r}function p1(e,t){return e*Math.sqrt(1-t*t)}const Phe=["duration","bounce"],Ohe=["stiffness","damping","mass"];function lD(e,t){return t.some(n=>e[n]!==void 0)}function Ihe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!lD(e,Ohe)&&lD(e,Phe)){const n=Ehe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function D$({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=Ihe({...r,velocity:-Bs(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*u)),b=i-a,v=Bs(Math.sqrt(s/u)),y=Math.abs(b)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let x;if(h<1){const w=p1(v,h);x=S=>{const C=Math.exp(-h*v*S);return i-C*((m+h*v*b)/w*Math.sin(w*S)+b*Math.cos(w*S))}}else if(h===1)x=w=>i-Math.exp(-v*w)*(b+(m+v*b)*w);else{const w=v*Math.sqrt(h*h-1);x=S=>{const C=Math.exp(-h*v*S),j=Math.min(w*S,300);return i-C*((m+h*v*b)*Math.sinh(j)+w*b*Math.cosh(j))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=x(w);if(p)o.done=w>=d;else{let C=m;w!==0&&(h<1?C=E$(x,w,S):C=0);const j=Math.abs(C)<=n,M=Math.abs(i-S)<=t;o.done=j&&M}return o.value=o.done?i:S,o}}}function cD({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=T=>s!==void 0&&T<s||l!==void 0&&T>l,h=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let b=n*t;const v=f+b,y=o===void 0?v:o(v);y!==v&&(b=y-f);const x=T=>-b*Math.exp(-T/r),w=T=>y+x(T),S=T=>{const $=x(T),D=w(T);p.done=Math.abs($)<=u,p.value=p.done?y:D};let C,j;const M=T=>{m(p.value)&&(C=T,j=D$({keyframes:[p.value,h(p.value)],velocity:E$(w,T,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:T=>{let $=!1;return!j&&C===void 0&&($=!0,S(T),M(T)),C!==void 0&&T>C?j.next(T-C):(!$&&S(T),p)}}}const _he=e=>{const t=({timestamp:n})=>e(n);return{start:()=>cr.update(t,!0),stop:()=>el(t),now:()=>Ia.isProcessing?Ia.timestamp:performance.now()}},uD=2e4;function dD(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uD;)t+=n,r=e.next(t);return t>=uD?1/0:t}const Lhe={decay:cD,inertia:cD,tween:L0,keyframes:L0,spring:D$};function F0({autoplay:e=!0,delay:t=0,driver:n=_he,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,b,v;const y=()=>{v=new Promise(V=>{b=V})};y();let x;const w=Lhe[a]||L0;let S;w!==L0&&typeof r[0]!="number"&&(S=A$([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let j;s==="mirror"&&(j=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let M="idle",T=null,$=null,D=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=dD(C));const{calculatedDuration:I}=C;let O=1/0,q=1/0;I!==null&&(O=I+o,q=O*(i+1)-o);let X=0;const se=V=>{if($===null)return;m>0&&($=Math.min($,V)),m<0&&($=Math.min(V-q/m,$)),T!==null?X=T:X=Math.round(V-$)*m;const P=X-t*(m>=0?1:-1),N=m>=0?P<0:P>q;X=Math.max(P,0),M==="finished"&&T===null&&(X=q);let F=X,U=C;if(i){const L=Math.min(X,q)/O;let B=Math.floor(L),re=L%1;!re&&L>=1&&(re=1),re===1&&B--,B=Math.min(B,i+1),B%2&&(s==="reverse"?(re=1-re,o&&(re-=o/O)):s==="mirror"&&(U=j)),F=Xl(0,1,re)*O}const Q=N?{done:!1,value:r[0]}:U.next(F);S&&(Q.value=S(Q.value));let{done:le}=Q;!N&&I!==null&&(le=m>=0?X>=q:X<=0);const Y=T===null&&(M==="finished"||M==="running"&&le);return f&&f(Q.value),Y&&H(),Q},we=()=>{x&&x.stop(),x=void 0},ne=()=>{M="idle",we(),b(),y(),$=D=null},H=()=>{M="finished",d&&d(),we(),b()},W=()=>{if(h)return;x||(x=n(se));const V=x.now();l&&l(),T!==null?$=V-T:(!$||M==="finished")&&($=V),M==="finished"&&y(),D=$,T=null,M="running",x.start()};e&&W();const k={then(V,P){return v.then(V,P)},get time(){return Bs(X)},set time(V){V=Kc(V),X=V,T!==null||!x||m===0?T=V:$=x.now()-V/m},get duration(){const V=C.calculatedDuration===null?dD(C):C.calculatedDuration;return Bs(V)},get speed(){return m},set speed(V){V===m||!x||(m=V,k.time=Bs(X))},get state(){return M},play:W,pause:()=>{M="paused",T=X},stop:()=>{h=!0,M!=="idle"&&(M="idle",u&&u(),ne())},cancel:()=>{D!==null&&se(D),ne()},complete:()=>{M="finished"},sample:V=>($=0,se(V))};return k}function Fhe(e){let t;return()=>(t===void 0&&(t=e()),t)}const Rhe=Fhe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$he=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ph=10,Bhe=2e4,zhe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!s$(t.ease);function Uhe(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Rhe()&&$he.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const u=()=>{s=new Promise(y=>{o=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(zhe(t,a)){const y=F0({...a,repeat:0,delay:0});let x={done:!1,value:d[0]};const w=[];let S=0;for(;!x.done&&S<Bhe;)x=y.sample(S),w.push(x.value),S+=Ph;m=void 0,d=w,f=S-Ph,p="linear"}const h=Jme(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),b=()=>{l=!1,h.cancel()},v=()=>{l=!0,cr.update(b),o(),u()};return h.onfinish=()=>{l||(e.set(Qme(d,a)),r&&r(),v())},{then(y,x){return s.then(y,x)},attachTimeline(y){return h.timeline=y,h.onfinish=null,_r},get time(){return Bs(h.currentTime||0)},set time(y){h.currentTime=Kc(y)},get speed(){return h.playbackRate},set speed(y){h.playbackRate=y},get duration(){return Bs(f)},play:()=>{i||(h.play(),el(b))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:y}=h;if(y){const x=F0({...a,autoplay:!1});e.setWithVelocity(x.sample(y-Ph).value,x.sample(y).value,Ph)}v()},complete:()=>{l||h.finish()},cancel:v}}function Vhe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:_r,pause:_r,stop:_r,then:i=>(i(),Promise.resolve()),cancel:_r,complete:_r});return t?F0({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Whe={type:"spring",stiffness:500,damping:25,restSpeed:10},qhe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Hhe={type:"keyframes",duration:.8},Khe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ghe=(e,{keyframes:t})=>t.length>2?Hhe:hu.has(e)?e.startsWith("scale")?qhe(t[1]):Whe:Khe,m1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jl.test(t)||t==="0")&&!t.startsWith("url(")),Yhe=new Set(["brightness","contrast","saturate","opacity"]);function Xhe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(mb)||[];if(!r)return e;const a=n.replace(r,"");let i=Yhe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Jhe=/([a-z-]*)\(.*?\)/g,h1={...Jl,getAnimatableNone:e=>{const t=e.match(Jhe);return t?t.map(Xhe).join(" "):e}},Qhe={...qR,color:Ha,backgroundColor:Ha,outlineColor:Ha,fill:Ha,stroke:Ha,borderColor:Ha,borderTopColor:Ha,borderRightColor:Ha,borderBottomColor:Ha,borderLeftColor:Ha,filter:h1,WebkitFilter:h1},mj=e=>Qhe[e];function T$(e,t){let n=mj(e);return n!==h1&&(n=Jl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const P$=e=>/^0[^.\s]+$/.test(e);function Zhe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||P$(e)}function ege(e,t,n,r){const a=m1(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),Zhe(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(s=i[u]);if(a&&l.length&&s)for(let u=0;u<l.length;u++){const d=l[u];i[d]=T$(t,s)}return i}function tge({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function hj(e,t){return e[t]||e.default||e}const nge={skipAnimations:!1},gj=(e,t,n,r={})=>a=>{const i=hj(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-Kc(o);const l=ege(t,e,n,i),u=l[0],d=l[l.length-1],f=m1(e,u),p=m1(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(tge(i)||(m={...m,...Ghe(e,m)}),m.duration&&(m.duration=Kc(m.duration)),m.repeatDelay&&(m.repeatDelay=Kc(m.repeatDelay)),!f||!p||Xme.current||i.type===!1||nge.skipAnimations)return Vhe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Uhe(t,e,m);if(h)return h}return F0(m)};function R0(e){return!!(hi(e)&&e.add)}const O$=e=>/^\-?\d*\.?\d+$/.test(e);function yj(e,t){e.indexOf(t)===-1&&e.push(t)}function bj(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class vj{constructor(){this.subscriptions=[]}add(t){return yj(this.subscriptions,t),()=>bj(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rge=e=>!isNaN(parseFloat(e));class age{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ia;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,cr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>cr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=rge(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vj);const r=this.events[t].add(n);return t==="change"?()=>{r(),cr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?M$(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dd(e,t){return new age(e,t)}const I$=e=>t=>t.test(e),ige={test:e=>e==="auto",parse:e=>e},_$=[gu,Jt,is,wl,dme,ume,ige],kf=e=>_$.find(I$(e)),oge=[..._$,Ha,Jl],sge=e=>oge.find(I$(e));function lge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Dd(n))}function cge(e,t){const n=gb(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=Cme(i[o]);lge(e,o,s)}}function uge(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(O$(d)||P$(d))?d=parseFloat(d):!sge(d)&&Jl.test(u)&&(d=T$(l,u)),e.addValue(l,Dd(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function dge(e,t){return t?(t[e]||t.default||t).from:void 0}function fge(e,t,n){const r={};for(const a in e){const i=dge(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function pge({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function mge(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function L$(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&pge(d,f))continue;const h={delay:n,elapsed:0,...hj(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[FR];if(y){const x=window.HandoffAppearAnimations(y,f,p,cr);x!==null&&(h.elapsed=x,h.isHandoff=!0)}}let b=!h.isHandoff&&!mge(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(b=!1),p.animation&&(b=!1),b)continue;p.start(gj(f,p,m,e.shouldReduceMotion&&hu.has(f)?{type:!1}:h));const v=p.animation;R0(l)&&(l.add(f),v.then(()=>l.remove(f))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&cge(e,o)}),u}function g1(e,t,n={}){const r=gb(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(L$(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return hge(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,u]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function hge(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(gge).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(g1(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function gge(e,t){return e.sortNodePosition(t)}function yge(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>g1(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=g1(e,t,n);else{const a=typeof t=="function"?gb(e,t,n.custom):t;r=Promise.all(L$(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const bge=[...tj].reverse(),vge=tj.length;function xge(e){return t=>Promise.all(t.map(({animation:n,options:r})=>yge(e,n,r)))}function wge(e){let t=xge(e);const n=Sge();let r=!0;const a=(l,u)=>{const d=gb(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},b=1/0;for(let y=0;y<vge;y++){const x=bge[y],w=n[x],S=d[x]!==void 0?d[x]:f[x],C=Fp(S),j=x===u?w.isActive:null;j===!1&&(b=y);let M=S===f[x]&&S!==d[x]&&C;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...h},!w.isActive&&j===null||!S&&!w.prevProp||fb(S)||typeof S=="boolean")continue;let T=kge(w.prevProp,S)||x===u&&w.isActive&&!M&&C||y>b&&C,$=!1;const D=Array.isArray(S)?S:[S];let I=D.reduce(a,{});j===!1&&(I={});const{prevResolvedValues:O={}}=w,q={...O,...I},X=se=>{T=!0,m.has(se)&&($=!0,m.delete(se)),w.needsAnimating[se]=!0};for(const se in q){const we=I[se],ne=O[se];if(h.hasOwnProperty(se))continue;let H=!1;I0(we)&&I0(ne)?H=!i$(we,ne):H=we!==ne,H?we!==void 0?X(se):m.add(se):we!==void 0&&m.has(se)?X(se):w.protectedKeys[se]=!0}w.prevProp=S,w.prevResolvedValues=I,w.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(T=!1),T&&(!M||$)&&p.push(...D.map(se=>({animation:se,options:{type:x,...l}})))}if(m.size){const y={};m.forEach(x=>{const w=e.getBaseTarget(x);w!==void 0&&(y[x]=w)}),p.push({animation:y})}let v=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(p):Promise.resolve()}function s(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function kge(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!i$(t,e):!1}function wc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sge(){return{animate:wc(!0),whileInView:wc(),whileHover:wc(),whileTap:wc(),whileDrag:wc(),whileFocus:wc(),exit:wc()}}class Nge extends oc{constructor(t){super(t),t.animationState||(t.animationState=wge(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),fb(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let jge=0;class Cge extends oc{constructor(){super(...arguments),this.id=jge++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Age={animation:{Feature:Nge},exit:{Feature:Cge}},fD=(e,t)=>Math.abs(e-t);function Mge(e,t){const n=fD(e.x,t.x),r=fD(e.y,t.y);return Math.sqrt(n**2+r**2)}class F${constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Mge(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:b}=Ia;this.history.push({...h,timestamp:b});const{onStart:v,onMove:y}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Jv(p,this.transformPagePoint),cr.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Qv(f.type==="pointercancel"?this.lastMoveEventInfo:Jv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),h&&h(f,v)},!e$(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=hb(t),s=Jv(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=Ia;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Qv(s,this.history)),this.removeListeners=Wl($s(this.contextWindow,"pointermove",this.handlePointerMove),$s(this.contextWindow,"pointerup",this.handlePointerUp),$s(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),el(this.updatePoint)}}function Jv(e,t){return t?{point:t(e.point)}:e}function pD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qv({point:e},t){return{point:e,delta:pD(e,R$(t)),offset:pD(e,Ege(t)),velocity:Dge(t,.1)}}function Ege(e){return e[0]}function R$(e){return e[e.length-1]}function Dge(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=R$(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Kc(t)));)n--;if(!r)return{x:0,y:0};const i=Bs(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Fi(e){return e.max-e.min}function y1(e,t=0,n=.01){return Math.abs(e-t)<=n}function mD(e,t,n,r=.5){e.origin=r,e.originPoint=xr(t.min,t.max,e.origin),e.scale=Fi(n)/Fi(t),(y1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=xr(n.min,n.max,e.origin)-e.originPoint,(y1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Jf(e,t,n,r){mD(e.x,t.x,n.x,r?r.originX:void 0),mD(e.y,t.y,n.y,r?r.originY:void 0)}function hD(e,t,n){e.min=n.min+t.min,e.max=e.min+Fi(t)}function Tge(e,t,n){hD(e.x,t.x,n.x),hD(e.y,t.y,n.y)}function gD(e,t,n){e.min=t.min-n.min,e.max=e.min+Fi(t)}function Qf(e,t,n){gD(e.x,t.x,n.x),gD(e.y,t.y,n.y)}function Pge(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?xr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?xr(n,e,r.max):Math.min(e,n)),e}function yD(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Oge(e,{top:t,left:n,bottom:r,right:a}){return{x:yD(e.x,n,a),y:yD(e.y,t,r)}}function bD(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Ige(e,t){return{x:bD(e.x,t.x),y:bD(e.y,t.y)}}function _ge(e,t){let n=.5;const r=Fi(e),a=Fi(t);return a>r?n=$p(t.min,t.max-r,e.min):r>a&&(n=$p(e.min,e.max-a,t.min)),Xl(0,1,n)}function Lge(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const b1=.35;function Fge(e=b1){return e===!1?e=0:e===!0&&(e=b1),{x:vD(e,"left","right"),y:vD(e,"top","bottom")}}function vD(e,t,n){return{min:xD(e,t),max:xD(e,n)}}function xD(e,t){return typeof e=="number"?e:e[t]||0}const wD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qu=()=>({x:wD(),y:wD()}),kD=()=>({min:0,max:0}),Br=()=>({x:kD(),y:kD()});function Gi(e){return[e("x"),e("y")]}function $$({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Rge({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $ge(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zv(e){return e===void 0||e===1}function v1({scale:e,scaleX:t,scaleY:n}){return!Zv(e)||!Zv(t)||!Zv(n)}function Mc(e){return v1(e)||B$(e)||e.z||e.rotate||e.rotateX||e.rotateY}function B$(e){return SD(e.x)||SD(e.y)}function SD(e){return e&&e!=="0%"}function $0(e,t,n){const r=e-n,a=t*r;return n+a}function ND(e,t,n,r,a){return a!==void 0&&(e=$0(e,a,r)),$0(e,n,r)+t}function x1(e,t=0,n=1,r,a){e.min=ND(e.min,t,n,r,a),e.max=ND(e.max,t,n,r,a)}function z$(e,{x:t,y:n}){x1(e.x,t.translate,t.scale,t.originPoint),x1(e.y,n.translate,n.scale,n.originPoint)}function Bge(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Zu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,z$(e,o)),r&&Mc(i.latestValues)&&Zu(e,i.latestValues))}t.x=jD(t.x),t.y=jD(t.y)}function jD(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Cl(e,t){e.min=e.min+t,e.max=e.max+t}function CD(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=xr(e.min,e.max,i);x1(e,t[n],t[r],o,t.scale)}const zge=["x","scaleX","originX"],Uge=["y","scaleY","originY"];function Zu(e,t){CD(e.x,t,zge),CD(e.y,t,Uge)}function U$(e,t){return $$($ge(e.getBoundingClientRect(),t))}function Vge(e,t,n){const r=U$(e,n),{scroll:a}=t;return a&&(Cl(r.x,a.offset.x),Cl(r.y,a.offset.y)),r}const V$=({current:e})=>e?e.ownerDocument.defaultView:null,Wge=new WeakMap;class qge{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Br(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hb(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=n$(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(v=>{let y=this.getAxisMotionValue(v).get()||0;if(is.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[v];w&&(y=Fi(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),h&&cr.update(()=>h(d,f),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:b}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=Hge(v),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),b&&b(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Gi(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new F$(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:V$(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&cr.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Oh(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Pge(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Xu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Oge(a.layoutBox,n):this.constraints=!1,this.elastic=Fge(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Gi(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Lge(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Vge(r,a.root,this.visualElement.getTransformPagePoint());let o=Ige(a.layout.layoutBox,i);if(n){const s=n(Rge(o));this.hasMutatedConstraints=!!s,s&&(o=$$(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Gi(d=>{if(!Oh(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(gj(t,r,0,n))}stopAnimation(){Gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Gi(n=>{const{drag:r}=this.getProps();if(!Oh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-xr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gi(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=_ge({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gi(o=>{if(!Oh(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(xr(l,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Wge.set(this.visualElement,this);const t=this.visualElement.current,n=$s(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Xu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=Is(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=b1,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Oh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Hge(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Kge extends oc{constructor(t){super(t),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new qge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}unmount(){this.removeGroupControls(),this.removeListeners()}}const AD=e=>(t,n)=>{e&&cr.update(()=>e(t,n))};class Gge extends oc{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(t){this.session=new F$(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V$(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:AD(t),onStart:AD(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&cr.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=$s(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Yge(){const e=g.useContext(ZN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=g.useId();return g.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const rg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Sf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Jt.test(e))e=parseFloat(e);else return e;const n=MD(e,t.target.x),r=MD(e,t.target.y);return`${n}% ${r}%`}},Xge={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Jl.parse(e);if(a.length>5)return r;const i=Jl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const u=xr(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class Jge extends z0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;rme(Qge),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||cr.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function W$(e){const[t,n]=Yge(),r=g.useContext($R);return z0.createElement(Jge,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(BR),isPresent:t,safeToRemove:n})}const Qge={borderRadius:{...Sf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sf,borderTopRightRadius:Sf,borderBottomLeftRadius:Sf,borderBottomRightRadius:Sf,boxShadow:Xge},q$=["TopLeft","TopRight","BottomLeft","BottomRight"],Zge=q$.length,ED=e=>typeof e=="string"?parseFloat(e):e,DD=e=>typeof e=="number"||Jt.test(e);function e0e(e,t,n,r,a,i){a?(e.opacity=xr(0,n.opacity!==void 0?n.opacity:1,t0e(r)),e.opacityExit=xr(t.opacity!==void 0?t.opacity:1,0,n0e(r))):i&&(e.opacity=xr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Zge;o++){const s=`border${q$[o]}Radius`;let l=TD(t,s),u=TD(n,s);l===void 0&&u===void 0||(l||(l=0),u||(u=0),l===0||u===0||DD(l)===DD(u)?(e[s]=Math.max(xr(ED(l),ED(u),r),0),(is.test(u)||is.test(l))&&(e[s]+="%")):e[s]=u)}(t.rotate||n.rotate)&&(e.rotate=xr(t.rotate||0,n.rotate||0,r))}function TD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const t0e=H$(0,.5,m$),n0e=H$(.5,.95,_r);function H$(e,t,n){return r=>r<e?0:r>t?1:n($p(e,t,r))}function PD(e,t){e.min=t.min,e.max=t.max}function qi(e,t){PD(e.x,t.x),PD(e.y,t.y)}function OD(e,t,n,r,a){return e-=t,e=$0(e,1/n,r),a!==void 0&&(e=$0(e,1/a,r)),e}function r0e(e,t=0,n=1,r=.5,a,i=e,o=e){if(is.test(t)&&(t=parseFloat(t),t=xr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=xr(i.min,i.max,r);e===i&&(s-=t),e.min=OD(e.min,t,n,s,a),e.max=OD(e.max,t,n,s,a)}function ID(e,t,[n,r,a],i,o){r0e(e,t[n],t[r],t[a],t.scale,i,o)}const a0e=["x","scaleX","originX"],i0e=["y","scaleY","originY"];function _D(e,t,n,r){ID(e.x,t,a0e,n?n.x:void 0,r?r.x:void 0),ID(e.y,t,i0e,n?n.y:void 0,r?r.y:void 0)}function LD(e){return e.translate===0&&e.scale===1}function K$(e){return LD(e.x)&&LD(e.y)}function o0e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function G$(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function FD(e){return Fi(e.x)/Fi(e.y)}class s0e{constructor(){this.members=[]}add(t){yj(this.members,t),t.scheduleRender()}remove(t){if(bj(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RD(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const l0e=(e,t)=>e.depth-t.depth;class c0e{constructor(){this.children=[],this.isDirty=!1}add(t){yj(this.children,t),this.isDirty=!0}remove(t){bj(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(l0e),this.isDirty=!1,this.children.forEach(t)}}function u0e(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(el(r),e(i-t))};return cr.read(r,!0),()=>el(r)}function d0e(e){window.MotionDebug&&window.MotionDebug.record(e)}function f0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function p0e(e,t,n){const r=hi(e)?e:Dd(e);return r.start(gj("",r,t,n)),r.animation}const $D=["","X","Y","Z"],m0e={visibility:"hidden"},BD=1e3;let h0e=0;const Ec={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Y$({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=h0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ec.totalNodes=Ec.resolvedTargetDeltas=Ec.recalculatedProjection=0,this.nodes.forEach(b0e),this.nodes.forEach(S0e),this.nodes.forEach(N0e),this.nodes.forEach(v0e),d0e(Ec)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new c0e)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new vj),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=f0e(i),this.instance=i;const{layoutId:s,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=u0e(f,250),rg.hasAnimatedSinceResize&&(rg.hasAnimatedSinceResize=!1,this.nodes.forEach(UD))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||u.getDefaultTransition()||E0e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!G$(this.targetLayout,m)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const w={...hj(h,"layout"),onPlay:b,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||UD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,el(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j0e),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zD);return}this.isUpdating||this.nodes.forEach(w0e),this.isUpdating=!1,this.nodes.forEach(k0e),this.nodes.forEach(g0e),this.nodes.forEach(y0e),this.clearAllSnapshots();const i=performance.now();Ia.delta=Xl(0,1e3/60,i-Ia.timestamp),Ia.timestamp=i,Ia.isProcessing=!0,Vv.update.process(Ia),Vv.preRender.process(Ia),Vv.render.process(Ia),Ia.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(x0e),this.sharedNodes.forEach(C0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Br(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!K$(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;i&&(o||Mc(this.latestValues)||u)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),D0e(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Br();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Cl(o.x,s.offset.x),Cl(o.y,s.offset.y)),o}removeElementScroll(i){const o=Br();qi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:u,options:d}=l;if(l!==this.root&&u&&d.layoutScroll){if(u.isRoot){qi(o,i);const{scroll:f}=this.root;f&&(Cl(o.x,-f.offset.x),Cl(o.y,-f.offset.y))}Cl(o.x,u.offset.x),Cl(o.y,u.offset.y)}}return o}applyTransform(i,o=!1){const s=Br();qi(s,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Zu(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Mc(u.latestValues)&&Zu(s,u.latestValues)}return Mc(this.latestValues)&&Zu(s,this.latestValues),s}removeTransform(i){const o=Br();qi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Mc(l.latestValues))continue;v1(l.latestValues)&&l.updateSnapshot();const u=Br(),d=l.measurePageBox();qi(u,d),_D(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Mc(this.latestValues)&&_D(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ia.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Ia.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Br(),this.relativeTargetOrigin=Br(),Qf(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Br(),this.targetWithTransforms=Br()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qi(this.target,this.layout.layoutBox),z$(this.target,this.targetDelta)):qi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Br(),this.relativeTargetOrigin=Br(),Qf(this.relativeTargetOrigin,this.target,f.target),qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ec.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||v1(this.parent.latestValues)||B$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ia.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;qi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Bge(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=Qu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Qu(),this.projectionDeltaWithTransform=Qu());const h=this.projectionTransform;Jf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=RD(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Ec.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},u={...this.latestValues},d=Qu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Br(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,b=this.getStack(),v=!b||b.members.length<=1,y=!!(h&&!v&&this.options.crossfade===!0&&!this.path.some(M0e));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const S=w/1e3;VD(d.x,i.x,S),VD(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A0e(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&o0e(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Br()),qi(x,this.relativeTarget)),h&&(this.animationValues=u,e0e(u,l,this.latestValues,S,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(el(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cr.update(()=>{rg.hasAnimatedSinceResize=!0,this.currentAnimation=p0e(0,BD,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:u}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&X$(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Br();const d=Fi(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=Fi(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}qi(o,s),Zu(o,u),Jf(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new s0e),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let u=0;u<$D.length;u++){const d="rotate"+$D[u];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const u in l)i.setStaticValue(u,l[u]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return m0e;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ng(i==null?void 0:i.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=ng(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Mc(this.latestValues)&&(h.transform=u?u({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=RD(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in P0){if(f[h]===void 0)continue;const{correct:b,applyTo:v}=P0[h],y=l.transform==="none"?f[h]:b(f[h],d);if(v){const x=v.length;for(let w=0;w<x;w++)l[v[w]]=y}else l[h]=y}return this.options.layoutId&&(l.pointerEvents=d===this?ng(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(zD),this.root.sharedNodes.clear()}}}function g0e(e){e.updateLayout()}function y0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Gi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Fi(p);p.min=r[f].min,p.max=p.min+m}):X$(i,n.layoutBox,r)&&Gi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Fi(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=Qu();Jf(s,r,n.layoutBox);const l=Qu();o?Jf(l,e.applyTransform(a,!0),n.measuredBox):Jf(l,r,n.layoutBox);const u=!K$(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=Br();Qf(h,n.layoutBox,p.layoutBox);const b=Br();Qf(b,r,m.layoutBox),G$(h,b)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function b0e(e){Ec.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function v0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function x0e(e){e.clearSnapshot()}function zD(e){e.clearMeasurements()}function w0e(e){e.isLayoutDirty=!1}function k0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function UD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function S0e(e){e.resolveTargetDelta()}function N0e(e){e.calcProjection()}function j0e(e){e.resetRotation()}function C0e(e){e.removeLeadSnapshot()}function VD(e,t,n){e.translate=xr(t.translate,0,n),e.scale=xr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WD(e,t,n,r){e.min=xr(t.min,n.min,r),e.max=xr(t.max,n.max,r)}function A0e(e,t,n,r){WD(e.x,t.x,n.x,r),WD(e.y,t.y,n.y,r)}function M0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const E0e={duration:.45,ease:[.4,0,.1,1]},qD=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),HD=qD("applewebkit/")&&!qD("chrome/")?Math.round:_r;function KD(e){e.min=HD(e.min),e.max=HD(e.max)}function D0e(e){KD(e.x),KD(e.y)}function X$(e,t,n){return e==="position"||e==="preserve-aspect"&&!y1(FD(t),FD(n),.2)}const T0e=Y$({attachResizeListener:(e,t)=>Is(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ex={current:void 0},J$=Y$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ex.current){const e=new T0e({});e.mount(window),e.setOptions({layoutScroll:!0}),ex.current=e}return ex.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),P0e={pan:{Feature:Gge},drag:{Feature:Kge,ProjectionNode:J$,MeasureLayout:W$}},O0e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function I0e(e){const t=O0e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function w1(e,t,n=1){const[r,a]=I0e(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return O$(o)?parseFloat(o):o}else return u1(a)?w1(a,t,n+1):a}function _0e(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!u1(i))return;const o=w1(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!u1(i))continue;const o=w1(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const L0e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Q$=e=>L0e.has(e),F0e=e=>Object.keys(e).some(Q$),GD=e=>e===gu||e===Jt,YD=(e,t)=>parseFloat(e.split(", ")[t]),XD=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return YD(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?YD(i[1],e):0}},R0e=new Set(["x","y","z"]),$0e=jm.filter(e=>!R0e.has(e));function B0e(e){const t=[];return $0e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Td={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:XD(4,13),y:XD(5,14)};Td.translateX=Td.x;Td.translateY=Td.y;const z0e=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{s[u]=Td[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(s[u]),e[u]=Td[u](l,i)}),e},U0e=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(Q$);let i=[],o=!1;const s=[];if(a.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=kf(d);const p=t[l];let m;if(I0(p)){const h=p.length,b=p[0]===null?1:0;d=p[b],f=kf(d);for(let v=b;v<h&&p[v]!==null;v++)m?uj(kf(p[v])===m):m=kf(p[v])}else m=kf(p);if(f!==m)if(GD(f)&&GD(m)){const h=u.get();typeof h=="string"&&u.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Jt&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(o||(i=B0e(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=z0e(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),db&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function V0e(e,t,n,r){return F0e(t)?U0e(e,t,n,r):{target:t,transitionEnd:r}}const W0e=(e,t,n,r)=>{const a=_0e(e,t,r);return t=a.target,r=a.transitionEnd,V0e(e,t,n,r)},k1={current:null},Z$={current:!1};function q0e(){if(Z$.current=!0,!!db)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>k1.current=e.matches;e.addListener(t),t()}else k1.current=!1}function H0e(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(hi(i))e.addValue(a,i),R0(r)&&r.add(a);else if(hi(o))e.addValue(a,Dd(i,{owner:e})),R0(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,Dd(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const JD=new WeakMap,e6=Object.keys(Rp),K0e=e6.length,QD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],G0e=nj.length;class Y0e{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>cr.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=pb(n),this.isVariantNode=RR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&hi(p)&&(p.set(s[f],!1),R0(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,JD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Z$.current||q0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:k1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JD.delete(this.current),this.projection&&this.projection.unmount(),el(this.notifyUpdate),el(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=hu.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&cr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<K0e;l++){const u=e6[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Rp[u];p&&(o=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Xu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Br()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<QD.length;r++){const a=QD[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=H0e(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<G0e;r++){const a=nj[r],i=this.props[a];(Fp(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Dd(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=cj(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!hi(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vj),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class t6 extends Y0e{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=fge(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){uge(this,r,o);const s=W0e(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function X0e(e){return window.getComputedStyle(e)}class J0e extends t6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(hu.has(n)){const r=mj(n);return r&&r.default||0}else{const r=X0e(t),a=(VR(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return U$(t,n)}build(t,n,r,a){aj(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return lj(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){YR(t,n,r,a)}}class Q0e extends t6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hu.has(n)){const r=mj(n);return r&&r.default||0}return n=XR.has(n)?n:ej(n),t.getAttribute(n)}measureInstanceViewportBox(){return Br()}scrapeMotionValuesFromProps(t,n){return QR(t,n)}build(t,n,r,a){oj(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){JR(t,n,r,a)}mount(t){this.isSVGTag=sj(t.tagName),super.mount(t)}}const Z0e=(e,t)=>rj(e)?new Q0e(t,{enableHardwareAcceleration:!1}):new J0e(t,{enableHardwareAcceleration:!0}),eye={layout:{ProjectionNode:J$,MeasureLayout:W$}},tye={...Age,...Kme,...P0e,...eye},Xo=tme((e,t)=>Ime(e,t,tye,Z0e));function nye({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:b,children:v}){return e?c.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:y=>y.target===y.currentTarget&&t(),children:c.jsxs("div",{className:"app-modal-card proof-of-work-modal relative isolate w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 z-0 opacity-60","aria-hidden":"true",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),c.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),onFocus:o,onBlur:y=>s(y.relatedTarget),onKeyDown:y=>{y.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&c.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((y,x)=>c.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),u(y)},children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:y.section}),c.jsx("div",{className:"truncate",children:d(y.text,n)})]},`${y.hitId}-${x}-${y.text}`))})]}),c.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:c.jsx(ma,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"h-[65vh]",children:c.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[c.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),c.jsxs("div",{className:"space-y-1",children:[p.length===0&&c.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((y,x)=>{const w=y.id===m;return c.jsxs("button",{type:"button","data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${y.level===1?"proof-of-work-toc-item--l1":y.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":y.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(y),children:[c.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),c.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:y.text})]},`${y.id}-${y.level}-${x}`)})]})]}),c.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:b,id:"metrics-spec-content",children:c.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:v})})]})})]})]})}):null}const kc="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",S1="arcbridge_web_theme_override",ZD="arcbridge_web_kinetic_font_override",eT="__default__",n6=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},tT=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},rye=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},aye=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},iye=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},N1=e=>e?e===ON?!0:Tf.some(t=>t.id===e):!1,oye=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&N1(t))return t;const n=n6(S1);if(!n)return null;try{const r=JSON.parse(n),a=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return a&&N1(a)?a:null}catch{return null}},nT=(e,t)=>e?e===C0?"matte":e===A0||e===qf?"kinetic":e===ON?"crt":t==="modern"||t==="classic"?t:"classic":t,rT=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},sye=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},aT=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),lye=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,u=t-r;return r+=s,c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:u,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},cye=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),c.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function uye(){var e;const t=oye(),[n,r]=g.useState(null),[a,i]=g.useState(null),[o,s]=g.useState(null),[l,u]=g.useState(null),[d,f]=g.useState(""),[p,m]=g.useState(null),[h,b]=g.useState(null),[v,y]=g.useState(!1),[x,w]=g.useState(!1),[S,C]=g.useState(()=>nT(t,"classic")),[j,M]=g.useState("classic"),[T,$]=g.useState(Zh.id),[D,I]=g.useState(t),O=g.useMemo(()=>{const K=new URLSearchParams(window.location.search),ke=K.get("themeId")||K.get("theme");return ke&&N1(ke)?ke:null},[]),[q,X]=g.useState("default"),[se,we]=g.useState(!1),[ne,H]=g.useState(!1),[W,k]=g.useState(!1),[V,P]=g.useState(""),[N,F]=g.useState(""),[U,Q]=g.useState([]),[le,Y]=g.useState(!1),[L,B]=g.useState("overview"),[re,R]=g.useState("kdr"),[ce,ye]=g.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),G=g.useRef(null),me=g.useRef(null),Pe=g.useRef(null),mt=g.useRef(null),Oe=g.useRef(null),ie=g.useRef(null),Fe=g.useRef(new Map),te=g.useRef(null),bt=g.useRef(null),Lt=g.useMemo(()=>{let K=window.location.pathname||"/";const ke=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return K.endsWith("/index.html")&&(K=K.slice(0,-11)),K.includes("/reports/")&&(K=K.replace(/\/reports\/[^/]+\/?$/,"")),ke&&(K=K.replace(/^\/web\/web(?=\/|$)/,"/web")),K.endsWith("/")||(K=`${K}/`),K},[]),zn=g.useMemo(()=>new URL(Lt,window.location.origin).toString(),[Lt]),Ne=g.useMemo(()=>O?aye(zn,O):zn,[O,zn]),Qe=g.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Ft=g.useMemo(()=>{const K=[Lt,"./","/"],ke=[];return K.forEach(Xe=>{let yt=Xe||"/";yt!=="./"&&!yt.endsWith("/")&&(yt=`${yt}/`),ke.includes(yt)||ke.push(yt)}),ke},[Lt,Qe]),[an,sn]=g.useState(Ft[0]||"/"),hr=K=>{var ke;return typeof K=="string"||typeof K=="number"?String(K):Array.isArray(K)?K.map(hr).join(""):K&&typeof K=="object"&&"props"in K?hr((ke=K.props)==null?void 0:ke.children):""},Qn=K=>{const ke=aT(K||"section")||"section",Xe=Fe.current,yt=(Xe.get(ke)??0)+1;return Xe.set(ke,yt),yt===1?ke:`${ke}-${yt}`},dn=g.useMemo(()=>{const K=Uv.split(`
`),ke=new Map,Xe=[],yt=Vt=>{const Rt=aT(Vt||"section")||"section",Nt=(ke.get(Rt)??0)+1;return ke.set(Rt,Nt),Nt===1?Rt:`${Rt}-${Nt}`};for(const Vt of K){const Rt=/^(#{1,3})\s+(.*)\s*$/.exec(Vt);if(!Rt)continue;const Nt=Rt[1].length,yn=Rt[2].trim();yn&&Xe.push({level:Nt,text:yn,id:yt(yn)})}return Xe},[Uv]),Aa=(K,ke)=>{const Xe=K==="./"?"./":K.endsWith("/")?K:`${K}/`,yt=String(ke||"").replace(/^\/+/,"");return`${Xe}${yt}`};g.useEffect(()=>{const K=n6(ZD);(K==="original"||K==="default")&&X(K)},[]),g.useEffect(()=>{const K=D||T,ke=Tf.find(Xe=>Xe.id===K)||Zh;m(ke)},[D,T]),g.useEffect(()=>{if(!D){C(j);return}C(nT(D,j))},[D,j]),g.useEffect(()=>{sn(Ft[0]||"/");let K=!0;return(async()=>{for(const ke of Ft)try{if((await fetch(Aa(ke,"ui-theme.json"),{cache:"no-store"})).ok){K&&sn(ke);return}}catch{}})(),()=>{K=!1}},[Ft]);const gn=(K,ke)=>{const Xe=ke.trim();if(!Xe)return K;const yt=K.toLowerCase(),Vt=Xe.toLowerCase(),Rt=yt.indexOf(Vt);if(Rt===-1)return K;const Nt=K.slice(0,Rt),yn=K.slice(Rt,Rt+Xe.length),fn=K.slice(Rt+Xe.length);return c.jsxs(c.Fragment,{children:[Nt,c.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:yn}),fn]})},Ln=(K,ke)=>{const Xe=me.current;if(!Xe)return;let yt=Xe.querySelector(`[data-search-hit="${K}"]`);if(!yt&&ke){const Vt=ke.trim().replace(/\s+/g," "),Rt=Array.from(Xe.querySelectorAll("h1, h2, h3, p, li, code"));yt=Rt.find(Nt=>(Nt.textContent||"").trim().replace(/\s+/g," ")===Vt)||null,yt||(yt=Rt.find(Nt=>(Nt.textContent||"").toLowerCase().includes(Vt.toLowerCase()))||null)}yt&&requestAnimationFrame(()=>{const Vt=Xe.getBoundingClientRect(),Rt=yt.getBoundingClientRect(),Nt=Math.max(0,Xe.scrollTop+(Rt.top-Vt.top)-12);Xe.scrollTop=Nt,yt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ie.current&&window.clearTimeout(ie.current),ie.current=window.setTimeout(()=>{yt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},gr=K=>{const ke=me.current,Xe=K.trim().toLowerCase();if(!ke||Xe.length<2){Q([]);return}const yt=Array.from(ke.querySelectorAll("h1, h2, h3, p, li, code"));yt.forEach(Nt=>Nt.removeAttribute("data-search-hit"));const Vt=[];let Rt=0;yt.forEach((Nt,yn)=>{const fn=(Nt.textContent||"").trim();if(fn&&fn.toLowerCase().includes(Xe)){let yr="";for(let nr=yn;nr>=0;nr-=1){const lt=yt[nr];if(lt&&["H1","H2","H3"].includes(lt.tagName)){yr=(lt.textContent||"").trim();break}}Nt.setAttribute("data-search-hit",String(Rt)),Vt.push({index:yn,text:fn,section:yr||"Unlabeled Section",hitId:Rt}),Rt+=1}}),Q(Vt.slice(0,12))};g.useEffect(()=>{var K;if(!W)return;P(((K=dn[0])==null?void 0:K.id)||"");const ke=Xe=>{var yt;const Vt=Xe.target;Vt&&((yt=Pe.current)!=null&&yt.contains(Vt)||(Y(!1),Q([])))};return window.addEventListener("mousedown",ke),()=>{window.removeEventListener("mousedown",ke)}},[W,dn]),g.useEffect(()=>{if(!W){P("");return}const K=me.current;if(!K)return;let ke=0;const Xe=()=>{var Vt;const Rt=Array.from(K.querySelectorAll("[data-heading-id]"));if(Rt.length===0)return;const Nt=K.getBoundingClientRect().top+18,yn=Rt.map((z,J)=>({index:J,id:z.dataset.headingId||z.id||"",top:z.getBoundingClientRect().top})).filter(z=>!!z.id);if(yn.length===0)return;let fn=0,yr=!1;for(const z of yn){if(z.top<=Nt){fn=z.index,yr=!0;continue}yr||(fn=z.index);break}K.scrollTop+K.clientHeight>=K.scrollHeight-2&&(fn=Math.max(0,yn.length-1));const nr=dn[fn],lt=((Vt=yn[fn])==null?void 0:Vt.id)||"",E=(nr==null?void 0:nr.id)||lt;E&&P(E)};Xe();const yt=()=>{ke&&cancelAnimationFrame(ke),ke=requestAnimationFrame(Xe)};return K.addEventListener("scroll",yt,{passive:!0}),window.addEventListener("resize",yt),()=>{ke&&cancelAnimationFrame(ke),K.removeEventListener("scroll",yt),window.removeEventListener("resize",yt)}},[W,dn]);const En=g.useMemo(()=>[{id:"overview",label:"Overview",icon:dU,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Uc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Pl},{id:"top-players",label:"Top Players",icon:Uc},{id:"top-skills-outgoing",label:"Top Skills",icon:vk},{id:"squad-composition",label:"Classes",icon:Dr},{id:"timeline",label:"Squad vs Enemy Size",icon:Dr},{id:"map-distribution",label:"Map Distribution",icon:Nk}]},{id:"roster",label:"Roster Intel",icon:gp,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:gp},{id:"squad-comp-fight",label:"Squad Comp",icon:Dr},{id:"fight-comp",label:"Fight Comp",icon:Pl}]},{id:"offense",label:"Offensive Stats",icon:Pl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:EF},{id:"player-breakdown",label:"Player Breakdown",icon:Sk},{id:"damage-breakdown",label:"Damage Breakdown",icon:xk},{id:"spike-damage",label:"Spike Damage",icon:yp},{id:"conditions-outgoing",label:"Conditions",icon:ry}]},{id:"defense",label:"Defensive Stats",icon:yd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:yd},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:yp},{id:"defense-mitigation",label:"Damage Mitigation",icon:Mk},{id:"boon-output",label:"Boon Output",icon:Vc},{id:"boon-timeline",label:"Boon Timeline",icon:Ak},{id:"boon-uptime",label:"Boon Uptime",icon:Uf},{id:"support-detailed",label:"Support Detailed",icon:jk},{id:"healing-stats",label:"Healing Stats",icon:C3}]},{id:"other",label:"Other Metrics",icon:ay,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:wk},{id:"special-buffs",label:"Special Buffs",icon:Eg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Ek},{id:"skill-usage",label:"Skill Usage",icon:kk},{id:"apm-stats",label:"APM Breakdown",icon:Ck}]}],[]),sc=g.useMemo(()=>{const K=new Map;return En.forEach(ke=>{K.set(ke.id.toLowerCase(),ke.id),(ke.sectionIds||[]).forEach(Xe=>K.set(String(Xe).toLowerCase(),ke.id)),(ke.items||[]).forEach(Xe=>K.set(String(Xe.id).toLowerCase(),ke.id))}),K.set("report-top","overview"),K.set("overview","overview"),K.set("kdr","overview"),K},[En]),ya=g.useMemo(()=>En.find(K=>K.id===L)||En[0],[En,L]),Lr=S==="kinetic",yu=g.useMemo(()=>{const K=((ya==null?void 0:ya.sectionIds)||((ya==null?void 0:ya.items)||[]).map(ke=>ke.id)).map(ke=>ke==="kdr"?"overview":ke);return new Set(K)},[ya]),lc=K=>{if(K==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const ke=K==="kdr"?"overview":K,Xe=ke==="overview"&&K!=="kdr"?"report-top":ke,yt=document.getElementById(Xe);if(!yt||yt.getAttribute("data-section-visible")==="false"||!yt.offsetParent)return!1;const Vt=yt.getBoundingClientRect();if(Vt.height<=0)return!1;let Rt=0;if(Xe==="stats-view-top"){const yn=document.getElementById("report-top");yn&&(Rt=yn.getBoundingClientRect().height+12)}const Nt=Vt.top+window.scrollY-12-Rt;return window.scrollTo({top:Math.max(0,Nt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Xe}`),!0},Ro=(K,ke=0)=>{lc(K)||ke>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Ro(K,ke+1))},40)};g.useEffect(()=>{if(!n)return;const K=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(ke=>{ke.scrollHeight})});return()=>cancelAnimationFrame(K)},[n]),g.useEffect(()=>{const K=te.current;if(!K)return;let ke=0;const Xe=()=>{if(lc(K)){te.current=null;return}if(ke+=1,ke>=20){te.current=null;return}window.setTimeout(()=>requestAnimationFrame(Xe),40)};requestAnimationFrame(Xe)},[L]),g.useEffect(()=>{const K=()=>{var ke,Xe;const yt=(window.location.hash||"").replace(/^#/,"").trim();if(!yt)return;let Vt=yt;try{Vt=decodeURIComponent(yt)}catch{Vt=yt}const Rt=Vt.toLowerCase(),Nt=sc.get(Rt);if(Nt){if(B(Nt),ye(()=>{const yn={};return En.forEach(fn=>{yn[fn.id]=fn.id===Nt}),yn}),Rt==="report-top")R("kdr");else{const yn=En.find(fn=>fn.id.toLowerCase()===Rt);R(((Xe=(ke=yn==null?void 0:yn.items)==null?void 0:ke[0])==null?void 0:Xe.id)||Rt)}te.current=Rt==="report-top"?"kdr":Rt}};return K(),window.addEventListener("hashchange",K),()=>{window.removeEventListener("hashchange",K)}},[sc,En]);const Ma=S==="matte",fo=p??Zh,ba=Lr&&fo.id===qf,Kr=Lr?ba?"142, 155, 214":"90, 80, 68":fo.rgb,Ea=Ma?"#d8e1eb":Lr?ba?"#f0d8a9":"#24211d":"var(--accent)",va={"--accent":`rgb(${Kr})`,"--accent-rgb":Kr,"--accent-soft":`rgba(${Kr}, ${Lr?ba?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${Kr}, ${Lr?ba?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${Kr}, ${Lr?ba?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${Kr}, ${Lr?ba?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${Kr}, ${Lr?ba?"0.08":"0.04":"0.08"})`},ll=S==="modern"||S==="matte"||S==="kinetic",ds=fo.pattern?Ma||Lr?void 0:ll?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${fo.pattern}`:fo.pattern:void 0,Bi=Lr?{backgroundImage:"none",backgroundColor:ba?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:ba?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:Ma?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:ll?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};g.useEffect(()=>{var K;let ke=!0;const Xe=new URLSearchParams(window.location.search).get("report")||((K=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:K[1])||null,yt=Xe?`${Lt}reports/${Xe}/report.json`:`${Lt}report.json`;Xe&&u(yt);const Vt=Nt=>{var yn,fn,yr;const nr=new Set((((yn=Nt==null?void 0:Nt.meta)==null?void 0:yn.commanders)||[]).map(E=>String(E)));if(nr.size===0)return Nt;const lt=Nt.stats;return(fn=lt==null?void 0:lt.leaderboards)!=null&&fn.closestToTag&&(lt.leaderboards.closestToTag=lt.leaderboards.closestToTag.map(E=>nr.has(String(E==null?void 0:E.account))?{...E,value:0}:E)),(yr=lt==null?void 0:lt.closestToTag)!=null&&yr.player&&nr.has(String(lt.closestToTag.player))&&(lt.closestToTag={...lt.closestToTag,value:0}),Nt},Rt=Nt=>{var yn,fn,yr,nr,lt;const E=Nt==null?void 0:Nt.stats;if(!E||typeof E!="object")return Nt;const z=Array.isArray((yn=E==null?void 0:E.leaderboards)==null?void 0:yn.downContrib)?E.leaderboards.downContrib:[];if(!z.length)return Nt;const J=z.map(ae=>({...ae,value:Number((ae==null?void 0:ae.value)??0)})).filter(ae=>Number.isFinite(ae.value)).sort((ae,fe)=>fe.value-ae.value||String((ae==null?void 0:ae.account)||"").localeCompare(String((fe==null?void 0:fe.account)||"")))[0];return J&&(E.maxDownContrib={...E.maxDownContrib||{},value:Number(J.value||0),player:String(J.account||((fn=E.maxDownContrib)==null?void 0:fn.player)||"-"),count:Number(J.count||((yr=E.maxDownContrib)==null?void 0:yr.count)||0),profession:String(J.profession||((nr=E.maxDownContrib)==null?void 0:nr.profession)||"Unknown"),professionList:Array.isArray(J.professionList)?J.professionList:((lt=E.maxDownContrib)==null?void 0:lt.professionList)||[]}),Nt};return fetch(yt,{cache:"no-store"}).then(Nt=>Nt.ok?Nt.json():Promise.reject()).then(Nt=>{var yn,fn,yr,nr,lt;if(!ke)return;const E=Rt(Vt(Nt));if(r(E),!D){const z=(yn=E==null?void 0:E.stats)==null?void 0:yn.uiTheme;z==="modern"||z==="classic"||z==="crt"||z==="matte"||z==="kinetic"?M(z):((fn=E==null?void 0:E.stats)==null?void 0:fn.webThemeId)===C0?M("matte"):(((yr=E==null?void 0:E.stats)==null?void 0:yr.webThemeId)===A0||((nr=E==null?void 0:E.stats)==null?void 0:nr.webThemeId)===qf)&&M("kinetic"),typeof((lt=E==null?void 0:E.stats)==null?void 0:lt.webThemeId)=="string"&&E.stats.webThemeId&&$(E.stats.webThemeId)}}).catch(()=>{if(Xe){if(!ke)return;s("Report not found yet. It may still be deploying.")}fetch(`${Lt}reports/index.json`,{cache:"no-store"}).then(Nt=>Nt.ok?Nt.json():Promise.reject()).then(Nt=>{ke&&i(Array.isArray(Nt)?Nt:[])}).catch(()=>{ke&&s("No report data found.")})}),()=>{ke=!1}},[Lt,D]),g.useEffect(()=>{if(n){const K=n.meta.dateLabel||rT(n.meta.dateStart,n.meta.dateEnd);document.title=K?`ArcBridge  ${n.meta.title}  ${K}`:`ArcBridge  ${n.meta.title}`;return}document.title="ArcBridge Reports"},[n]),g.useEffect(()=>{var K;if(D)return;const ke=(K=n==null?void 0:n.stats)==null?void 0:K.webThemeId;typeof ke=="string"&&ke&&$(ke)},[n,D]),g.useEffect(()=>{const K=document.body;K.classList.add("web-report"),K.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),Ma?K.classList.add("theme-matte"):S==="modern"?K.classList.add("theme-modern"):S==="crt"?K.classList.add("theme-crt"):S==="kinetic"?(K.classList.add("theme-kinetic"),ba&&K.classList.add("theme-kinetic-dark"),q==="original"&&K.classList.add("theme-kinetic-font-original")):K.classList.add("theme-classic")},[S,Ma,ba,q]),g.useEffect(()=>{var K;if(D||Qe&&(K=n==null?void 0:n.stats)!=null&&K.webThemeId)return;let ke=!0;return fetch(Aa(an,"theme.json"),{cache:"no-store"}).then(Xe=>Xe.ok?Xe.json():Promise.reject()).then(Xe=>{ke&&typeof(Xe==null?void 0:Xe.id)=="string"&&Xe.id&&$(Xe.id)}).catch(()=>{}),()=>{ke=!1}},[an,Qe,n,D]),g.useEffect(()=>{var K,ke;if(D)return;const Xe=(K=n==null?void 0:n.stats)==null?void 0:K.webThemeId,yt=(ke=n==null?void 0:n.stats)==null?void 0:ke.uiTheme;if((yt==="modern"||yt==="classic"||yt==="crt"||yt==="matte"||yt==="kinetic")&&!(Xe===C0&&yt!=="matte"||(Xe===A0||Xe===qf)&&yt!=="kinetic"||Xe==="CRT"&&yt!=="crt"))return;let Vt=!0;return fetch(Aa(an,"ui-theme.json"),{cache:"no-store"}).then(Rt=>Rt.ok?Rt.json():Promise.reject()).then(Rt=>{if(!Vt)return;const Nt=Rt==null?void 0:Rt.theme;(Nt==="modern"||Nt==="classic"||Nt==="crt"||Nt==="matte"||Nt==="kinetic")&&M(Nt)}).catch(()=>{}),()=>{Vt=!1}},[an,n,D]),g.useEffect(()=>{let K=!0;return fetch(Aa(an,"logo.json"),{cache:"no-store"}).then(ke=>ke.ok?ke.json():Promise.reject()).then(ke=>{if(!K)return;const Xe="svg/ArcBridge.svg",yt=ke!=null&&ke.path?String(ke.path):Xe,Vt=ke!=null&&ke.updatedAt?String(ke.updatedAt):"",Rt=Aa(an,yt),Nt=Vt?`${Rt}?v=${encodeURIComponent(Vt)}`:Rt;b(Nt),y(!(ke!=null&&ke.path)||yt===Xe)}).catch(()=>{K&&(b(null),y(!1))}),()=>{K=!1}},[an]);const Zn=g.useMemo(()=>a?[...a].sort((K,ke)=>{const Xe=new Date(K.dateEnd||K.dateStart).getTime();return new Date(ke.dateEnd||ke.dateStart).getTime()-Xe}):[],[a]),po=g.useMemo(()=>{if(!Zn.length)return[];const K=d.trim().toLowerCase();return K?Zn.filter(ke=>{var Xe;const yt=((Xe=ke.commanders)==null?void 0:Xe.join(" "))||"";return`${ke.title} ${yt} ${ke.dateLabel}`.toLowerCase().includes(K)}):Zn},[Zn,d]),$o=K=>{if(!K){rye(S1);return}tT(S1,JSON.stringify({themeId:K}))},cc=K=>{const ke=K===eT?null:K;ke&&!Tf.some(Xe=>Xe.id===ke)||(I(ke),$o(ke),we(!1))},cl=K=>{X(K),tT(ZD,K),H(!1)};g.useEffect(()=>{const K=Xe=>{if(!mt.current)return;const yt=Xe.target;mt.current.contains(yt)||Oe.current&&Oe.current.contains(yt)||(we(!1),H(!1))},ke=Xe=>{Xe.key==="Escape"&&(we(!1),H(!1))};return window.addEventListener("mousedown",K),window.addEventListener("keydown",ke),()=>{window.removeEventListener("mousedown",K),window.removeEventListener("keydown",ke)}},[]),g.useEffect(()=>()=>{bt.current!==null&&(cancelAnimationFrame(bt.current),bt.current=null)},[]);const Kd=g.useMemo(()=>{if(!D)return"Default";const K=Tf.find(ke=>ke.id===D);return(K==null?void 0:K.label)||"Default"},[D]),bi=c.jsxs("div",{className:"relative flex items-center gap-2",ref:mt,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),c.jsxs("button",{type:"button",onClick:()=>we(K=>!K),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:Kd}),c.jsx("span",{className:`transition-transform ${se?"rotate-180":""}`,children:""})]}),se&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>cc(eT),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Tf.map(K=>c.jsx("button",{type:"button",onClick:()=>cc(K.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${D===K.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:K.label},K.id))]})]}),ul=Lr?c.jsxs("div",{className:"relative flex items-center gap-2",ref:Oe,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),c.jsxs("button",{type:"button",onClick:()=>H(K=>!K),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:q==="original"?"Original App":"Kinetic Default"}),c.jsx("span",{className:`transition-transform ${ne?"rotate-180":""}`,children:""})]}),ne&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>cl("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${q==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),c.jsx("button",{type:"button",onClick:()=>cl("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${q==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,Bo=c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[c.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[c.jsx("div",{className:"min-w-[160px]",children:bi}),ul&&c.jsx("div",{className:"min-w-[160px]",children:ul}),c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),c.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),c.jsx("a",{href:"#proof-of-work",onClick:K=>{K.preventDefault(),k(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),c.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),c.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",c.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),c.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),c.jsxs("p",{className:"mt-2",children:["See the"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),bu=c.jsxs(nye,{isOpen:W,onClose:()=>k(!1),searchValue:N,searchFocused:le,searchResults:U,onSearchChange:K=>{F(K),requestAnimationFrame(()=>gr(K))},onSearchFocus:()=>{Y(!0),requestAnimationFrame(()=>gr(N))},onSearchBlur:K=>{var ke;K&&(ke=Pe.current)!=null&&ke.contains(K)||Y(!1)},onSearchEnter:()=>{U.length>0&&Ln(U[0].hitId,U[0].text)},onSearchResultMouseDown:K=>{Y(!0),Ln(K.hitId,K.text)},renderHighlightedMatch:gn,searchRef:Pe,tocItems:dn,activeTocId:V,onTocClick:K=>{const ke=me.current;if(!ke)return;let Xe=ke.querySelector(`[data-heading-id="${K.id}"]`);if(!Xe){const yt=K.text.trim().replace(/\s+/g," ");Xe=Array.from(ke.querySelectorAll("h1, h2, h3")).find(Vt=>(Vt.textContent||"").trim().replace(/\s+/g," ")===yt)||null}Xe&&(P(K.id),requestAnimationFrame(()=>{const yt=ke.getBoundingClientRect(),Vt=Xe.getBoundingClientRect(),Rt=ke.scrollTop+(Vt.top-yt.top)-12;ke.scrollTop=Math.max(0,Rt)}))},contentRef:me,children:[(Fe.current=new Map,null),c.jsx(Tde,{remarkPlugins:[Wpe],components:{h1:({children:K})=>{const ke=hr(K),Xe=Qn(ke);return c.jsx("h1",{id:Xe,"data-heading-id":Xe,className:"text-2xl font-bold text-white scroll-mt-6",children:K})},h2:({children:K})=>{const ke=hr(K),Xe=Qn(ke);return c.jsx("h2",{id:Xe,"data-heading-id":Xe,className:"text-xl font-semibold text-white scroll-mt-6",children:K})},h3:({children:K})=>{const ke=hr(K),Xe=Qn(ke);return c.jsx("h3",{id:Xe,"data-heading-id":Xe,className:"text-lg font-semibold text-white scroll-mt-6",children:K})},p:({children:K})=>c.jsx("p",{className:"leading-6 text-gray-200",children:K}),ul:({children:K})=>c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:K}),ol:({children:K})=>c.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:K}),li:({children:K})=>c.jsx("li",{className:"leading-6",children:K}),blockquote:({children:K})=>c.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:K}),a:({href:K,children:ke})=>c.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:K,target:"_blank",rel:"noreferrer",children:ke}),table:({children:K})=>c.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:c.jsx("table",{className:"w-full border-collapse text-left text-sm",children:K})}),th:({children:K})=>c.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:K}),td:({children:K})=>c.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:K}),pre:({children:K})=>c.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:K}),code:K=>{const{inline:ke,children:Xe}=K;return ke===!0?c.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Xe}):c.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Xe})}},children:Uv})]});if(n){const K=Aa(an,"svg/ArcBridge.svg"),ke=()=>{bt.current!==null&&(cancelAnimationFrame(bt.current),bt.current=null);const lt=window.scrollY||window.pageYOffset||0;if(lt<=1){window.scrollTo({top:0,behavior:"auto"});return}const E=320,z=performance.now(),J=ae=>{const fe=ae-z,_e=Math.min(1,fe/E),Ie=1-Math.pow(1-_e,3),vt=Math.max(0,Math.round(lt*(1-Ie)));window.scrollTo({top:vt,behavior:"auto"}),_e<1?bt.current=requestAnimationFrame(J):(bt.current=null,window.scrollTo({top:0,behavior:"auto"}))};bt.current=requestAnimationFrame(J)},Xe=lt=>{ye(()=>{const E={};return En.forEach(z=>{E[z.id]=z.id===lt}),E})},yt=lt=>{var E,z;te.current=null,B(lt);const J=En.find(ae=>ae.id===lt);R(((z=(E=J==null?void 0:J.items)==null?void 0:E[0])==null?void 0:z.id)||"kdr"),ke()},Vt=lt=>{if(!ce[lt]){Xe(lt),yt(lt);return}if(lt!==L){yt(lt);return}ye(E=>({...E,[lt]:!1}))},Rt=(lt,E)=>{ce[lt]||Xe(lt),R(E);const z=lt===L;z||(te.current=E,B(lt),requestAnimationFrame(()=>Ro(E))),z&&requestAnimationFrame(()=>Ro(E))},Nt=lt=>{const E=lt.currentTarget;if(!(E.scrollHeight>E.clientHeight)){window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault();return}const z=E.scrollTop<=0,J=E.scrollTop+E.clientHeight>=E.scrollHeight-1;(z&&lt.deltaY<0||J&&lt.deltaY>0)&&(window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault())},yn=lt=>{const E=G.current;if(!E)return;const z=lt.target;if(!z||!E.contains(z))return;let J=z;for(;J&&J!==E;){const ae=window.getComputedStyle(J).overflowY;if((ae==="auto"||ae==="scroll")&&J.scrollHeight>J.clientHeight+1){const fe=J.scrollTop<=0,_e=J.scrollTop+J.clientHeight>=J.scrollHeight-1;(lt.deltaY<0&&fe||lt.deltaY>0&&_e)&&(window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault());return}J=J.parentElement}},fn=lt=>{const E=Math.max(0,6-lt);return{accordionDuration:.5+E*.07,itemDuration:.34+E*.035,stagger:.05+E*.01,delayChildren:.06+E*.015}},yr=lt=>{const E=fn(lt);return{open:{transition:{staggerChildren:E.stagger,delayChildren:E.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,E.stagger*.7),staggerDirection:-1}}}},nr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ma?"var(--bg-base)":Lr?ba?"#2b3048":"#d8d1c5":ll?"#0f141c":"#0f172a",backgroundImage:Ma?"none":ds,...va},children:[!Ma&&!Lr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),c.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[c.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),c.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),c.jsx("div",{className:"px-5 pb-4",children:c.jsxs("a",{href:Ne,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),c.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:Nt,children:En.map(lt=>{const E=lt.icon,z=lt.id===L,J=!!ce[lt.id],ae=fn(lt.items.length),fe=yr(lt.items.length);return c.jsxs(Xo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Vt(lt.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${z?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(E,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:lt.label}),c.jsx(Xo.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:J?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Kx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Xo.div,{initial:!1,animate:J?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ae.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Xo.div,{variants:fe,initial:!1,animate:J?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:lt.items.map(_e=>{const Ie=_e.icon;return c.jsxs(Xo.button,{variants:nr,transition:{duration:ae.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Rt(lt.id,_e.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${re===_e.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Ie,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),_e.label]},_e.id)})})},`${lt.id}-submenu-mobile`)]},lt.id)})})]})}),c.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("div",{className:"px-6 pt-6 pb-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Ea,maskImage:`url(${K})`,WebkitMaskImage:`url(${K})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),c.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),c.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:Nt,children:En.map(lt=>{const E=lt.icon,z=lt.id===L,J=!!ce[lt.id],ae=fn(lt.items.length),fe=yr(lt.items.length);return c.jsxs(Xo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Vt(lt.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${z?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(E,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:lt.label}),c.jsx(Xo.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:J?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Kx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Xo.div,{initial:!1,animate:J?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ae.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Xo.div,{variants:fe,initial:!1,animate:J?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:lt.items.map(_e=>{const Ie=_e.icon;return c.jsxs(Xo.button,{variants:nr,transition:{duration:ae.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Rt(lt.id,_e.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${re===_e.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Ie,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),_e.label]},_e.id)})})},`${lt.id}-submenu-desktop`)]},lt.id)})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("a",{href:Ne,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),c.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[c.jsx("div",{className:`${kc} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Bi,children:c.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(v?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Ea,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:n.meta.title}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:n.meta.dateLabel||rT(n.meta.dateStart,n.meta.dateEnd)})]})]}),c.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[c.jsx(K2,{className:"w-4 h-4"}),"Contents"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[c.jsx(nU,{className:"w-4 h-4 text-[color:var(--accent)]"}),n.meta.dateLabel||"Log Range"]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(Dr,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:n.meta.commanders.length?n.meta.commanders.join(", "):"No Commanders"})]}),c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(A3,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",n.meta.appVersion?`v${n.meta.appVersion}`:"build"]})]})]})}),c.jsxs("div",{className:"sm:hidden mb-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((ya==null?void 0:ya.items)||[]).map(lt=>{const E=lt.icon;return c.jsxs("button",{onClick:()=>Rt((ya==null?void 0:ya.id)||"overview",lt.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${re===lt.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:c.jsx(E,{className:"w-3 h-3 text-[color:var(--accent)]"})}),lt.label]},`chip-${lt.id}`)})})]}),c.jsx("div",{ref:G,onWheelCapture:yn,className:"flex-1 min-w-0",children:c.jsx("div",{id:"stats-view-top",children:c.jsx(Koe,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:n.stats,statsViewSettings:(e=n.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:S,sectionVisibility:lt=>yu.has(lt),dashboardTitle:`Statistics Dashboard - ${(ya==null?void 0:ya.label)||"Overview"}`})})}),c.jsx("div",{className:"mt-10",children:Bo})]}),c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[c.jsxs("a",{href:Ne,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(N3,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),c.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(K2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),c.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(tU,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),bu]})}return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ma?"var(--bg-base)":Lr?ba?"#2b3048":"#d8d1c5":ll?"#0f141c":"#0f172a",backgroundImage:Ma?"none":ds,...va},children:[!Ma&&!Lr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[c.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[c.jsxs("div",{id:"report-top",className:`${kc} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Bi,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(v?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Ea,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[po.length," Reports"]})})]}),c.jsxs("div",{className:`${kc} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Bi,children:[c.jsx("input",{type:"search",value:d,onChange:K=>f(K.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),c.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",c.jsx("span",{className:"text-[color:var(--accent)]",children:po.length})," of"," ",c.jsx("span",{className:"text-[color:var(--accent)]",children:Zn.length})]})]}),o&&c.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Bi,children:[c.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),c.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:o}),l&&c.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",c.jsx("span",{className:"text-amber-50",children:l})]})]}),!o&&!a&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:Bi,children:"Loading reports..."}),po.length>0&&c.jsx("div",{className:"flex flex-col gap-3",children:po.map(K=>{var ke,Xe,yt,Vt;return c.jsx("a",{href:iye(zn,K.id,O),className:`${kc} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Bi,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0 block text-left",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:K.dateLabel}),c.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:sye(K.dateStart)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(Dr,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:K.commanders.length?K.commanders.join(", "):"No Commanders"})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ke=K.summary)!=null&&ke.mapSlices&&K.summary.mapSlices.length>0?c.jsxs(c.Fragment,{children:[c.jsx(lye,{slices:K.summary.mapSlices}),c.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):c.jsxs(c.Fragment,{children:[c.jsx(cye,{value:(Xe=K.summary)==null?void 0:Xe.borderlandsPct}),c.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),c.jsxs("div",{className:"text-sm text-white font-semibold",children:[((yt=K.summary)==null?void 0:yt.avgSquadSize)??"--"," / ",((Vt=K.summary)==null?void 0:Vt.avgEnemySize)??"--"]})]}),c.jsx(sU,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},K.id)})}),!o&&a&&Zn.length===0&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:Bi,children:"No reports uploaded yet."}),!o&&a&&Zn.length>0&&po.length===0&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:Bi,children:"No reports match your search."})]}),c.jsx("div",{className:"mt-8",children:Bo})]}),bu]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");tx.createRoot(document.getElementById("root")).render(c.jsx(z0.StrictMode,{children:c.jsx(uye,{})}));
